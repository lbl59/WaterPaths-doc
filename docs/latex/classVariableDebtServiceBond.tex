\hypertarget{classVariableDebtServiceBond}{}\section{Variable\+Debt\+Service\+Bond Class Reference}
\label{classVariableDebtServiceBond}\index{Variable\+Debt\+Service\+Bond@{Variable\+Debt\+Service\+Bond}}


The {\ttfamily \mbox{\hyperlink{classVariableDebtServiceBond}{Variable\+Debt\+Service\+Bond}}} class is a subclass of the main {\ttfamily \mbox{\hyperlink{classBond}{Bond}}} class. This class represents a bond (typically a municipal bond) where the floating coupon payments are adjusted at specified intervals. This bond is associated with a specific water source.  




{\ttfamily \#include $<$Variable\+Debt\+Service\+Bond.\+h$>$}

Inheritance diagram for Variable\+Debt\+Service\+Bond\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classVariableDebtServiceBond}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classVariableDebtServiceBond_adc0d18eba4f4a7c7d359640131225f55}{Variable\+Debt\+Service\+Bond}} (const int \mbox{\hyperlink{classBond_a7f75bcafbc16676ad6dbafbf40afae4a}{id}}, const int water\+\_\+source\+\_\+id, const double total\+\_\+unallocated\+\_\+cost\+\_\+of\+\_\+capital, const double initial\+\_\+fraction\+\_\+of\+\_\+allocated\+\_\+debt, const int \mbox{\hyperlink{classBond_a4a227b6de2eeada118d82ab1633b1db8}{n\+\_\+payments}}, const double \mbox{\hyperlink{classBond_a5f66785534e24caa43d9f730130a6463}{coupon\+\_\+rate}}, vector$<$ int $>$ \mbox{\hyperlink{classBond_ae8dd46fcbf95c993460ffe4ea1f52739}{pay\+\_\+on\+\_\+weeks}}, bool begin\+\_\+repayment\+\_\+at\+\_\+issuance=false)
\begin{DoxyCompactList}\small\item\em Constructs a variable debt service bond with specified parameters. This constructor initializes the bond with a set of parameters specific to variable debt service bonds, including the bond\textquotesingle{}s debt allocation and associated water source ID. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classVariableDebtServiceBond_a8259b64265dd9701ac5888e0fe0bc565}{$\sim$\+Variable\+Debt\+Service\+Bond}} () override
\begin{DoxyCompactList}\small\item\em Destroys the variable debt service bond object. This destructor cleans up resources associated with the variable debt service bond. It is automatically called when an object of the {\ttfamily \mbox{\hyperlink{classVariableDebtServiceBond}{Variable\+Debt\+Service\+Bond}}} class goes out of scope or is deleted. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classVariableDebtServiceBond_a575a9a41df38e005ba0a1cff3eb2b921}{get\+Debt\+Service}} (int week) override
\begin{DoxyCompactList}\small\item\em Calculates and returns the debt service payment for a given week. This function calculates the debt service for the bond, checking if repayments are due and handling any corrections if the calculated debt service value is NaN. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classVariableDebtServiceBond_aa5ad4fcc7c65154105388b332ae98198}{get\+Present\+Value\+Debt\+Service}} (int week, double discount\+\_\+rate) override
\begin{DoxyCompactList}\small\item\em Calculates the present value of the debt service for a given week. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classVariableDebtServiceBond_a8cc7ee442d788b91b8c00e6bed07644d}{get\+Net\+Present\+Value\+At\+Issuance}} (double yearly\+\_\+discount\+\_\+rate, int week) const override
\begin{DoxyCompactList}\small\item\em Calculates the net present value (N\+PV) at issuance for the variable debt service bond. This calculation is generally not applicable for a variable rate bond and might require an additional calculation at the end of realization. This method is intended as a placeholder. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classVariableDebtServiceBond_a7d91921482f01d9bb37dba6e6d085771}{issue\+Bond}} (int week, int construction\+\_\+time, double bond\+\_\+term\+\_\+multiplier, double bond\+\_\+interest\+\_\+rate\+\_\+multiplier) override
\begin{DoxyCompactList}\small\item\em Issues the bond, initializes bond details, and calculates the variable debt service payment. This method calculates the initial variable debt service payment for the bond based on the bond\textquotesingle{}s cost of capital, debt fraction, coupon rate, and the number of payments. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classVariableDebtServiceBond_a692563150053b280f6e1ef23fd47c117}{set\+Debt\+Service}} (double updated\+\_\+allocated\+\_\+fraction\+\_\+of\+\_\+annual\+\_\+debt\+\_\+service) override
\begin{DoxyCompactList}\small\item\em Calculates and updates the variable debt service payment based on the provided allocated fraction of annual debt service. Overrides the virtual base class method. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classVariableDebtServiceBond_a3edee29f26e8ac74f9767770c6a951c9}{get\+Water\+Source\+ID}} () override
\begin{DoxyCompactList}\small\item\em Retrieves the water source ID associated with the bond. Overrides the virtual base class method. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
The {\ttfamily \mbox{\hyperlink{classVariableDebtServiceBond}{Variable\+Debt\+Service\+Bond}}} class is a subclass of the main {\ttfamily \mbox{\hyperlink{classBond}{Bond}}} class. This class represents a bond (typically a municipal bond) where the floating coupon payments are adjusted at specified intervals. This bond is associated with a specific water source. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classVariableDebtServiceBond_adc0d18eba4f4a7c7d359640131225f55}\label{classVariableDebtServiceBond_adc0d18eba4f4a7c7d359640131225f55}} 
\index{Variable\+Debt\+Service\+Bond@{Variable\+Debt\+Service\+Bond}!Variable\+Debt\+Service\+Bond@{Variable\+Debt\+Service\+Bond}}
\index{Variable\+Debt\+Service\+Bond@{Variable\+Debt\+Service\+Bond}!Variable\+Debt\+Service\+Bond@{Variable\+Debt\+Service\+Bond}}
\subsubsection{\texorpdfstring{Variable\+Debt\+Service\+Bond()}{VariableDebtServiceBond()}}
{\footnotesize\ttfamily Variable\+Debt\+Service\+Bond\+::\+Variable\+Debt\+Service\+Bond (\begin{DoxyParamCaption}\item[{const int}]{id,  }\item[{const int}]{water\+\_\+source\+\_\+id,  }\item[{const double}]{total\+\_\+unallocated\+\_\+cost\+\_\+of\+\_\+capital,  }\item[{const double}]{initial\+\_\+fraction\+\_\+of\+\_\+allocated\+\_\+debt,  }\item[{const int}]{n\+\_\+payments,  }\item[{const double}]{coupon\+\_\+rate,  }\item[{vector$<$ int $>$}]{pay\+\_\+on\+\_\+weeks,  }\item[{bool}]{begin\+\_\+repayment\+\_\+at\+\_\+issuance = {\ttfamily false} }\end{DoxyParamCaption})}



Constructs a variable debt service bond with specified parameters. This constructor initializes the bond with a set of parameters specific to variable debt service bonds, including the bond\textquotesingle{}s debt allocation and associated water source ID. 


\begin{DoxyParams}{Parameters}
{\em id} & The unique identifier for the bond. \\
\hline
{\em water\+\_\+source\+\_\+id} & The identifier for the water source associated with the bond. \\
\hline
{\em total\+\_\+unallocated\+\_\+cost\+\_\+of\+\_\+capital} & The total cost of capital for the bond that has not been allocated yet. \\
\hline
{\em initial\+\_\+fraction\+\_\+of\+\_\+allocated\+\_\+debt} & The initial fraction of the allocated debt for the bond. \\
\hline
{\em n\+\_\+payments} & The number of payments to be made on the bond. \\
\hline
{\em coupon\+\_\+rate} & The interest rate to be applied to the bond\textquotesingle{}s payments. \\
\hline
{\em pay\+\_\+on\+\_\+weeks} & A vector of weeks in each calendar year when payments are due. \\
\hline
{\em begin\+\_\+repayment\+\_\+at\+\_\+issuance} & A boolean indicating whether repayment begins at the issuance date.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
\mbox{\Hypertarget{classVariableDebtServiceBond_a8259b64265dd9701ac5888e0fe0bc565}\label{classVariableDebtServiceBond_a8259b64265dd9701ac5888e0fe0bc565}} 
\index{Variable\+Debt\+Service\+Bond@{Variable\+Debt\+Service\+Bond}!````~Variable\+Debt\+Service\+Bond@{$\sim$\+Variable\+Debt\+Service\+Bond}}
\index{````~Variable\+Debt\+Service\+Bond@{$\sim$\+Variable\+Debt\+Service\+Bond}!Variable\+Debt\+Service\+Bond@{Variable\+Debt\+Service\+Bond}}
\subsubsection{\texorpdfstring{$\sim$\+Variable\+Debt\+Service\+Bond()}{~VariableDebtServiceBond()}}
{\footnotesize\ttfamily Variable\+Debt\+Service\+Bond\+::$\sim$\+Variable\+Debt\+Service\+Bond (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}



Destroys the variable debt service bond object. This destructor cleans up resources associated with the variable debt service bond. It is automatically called when an object of the {\ttfamily \mbox{\hyperlink{classVariableDebtServiceBond}{Variable\+Debt\+Service\+Bond}}} class goes out of scope or is deleted. 

\begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classVariableDebtServiceBond_a575a9a41df38e005ba0a1cff3eb2b921}\label{classVariableDebtServiceBond_a575a9a41df38e005ba0a1cff3eb2b921}} 
\index{Variable\+Debt\+Service\+Bond@{Variable\+Debt\+Service\+Bond}!get\+Debt\+Service@{get\+Debt\+Service}}
\index{get\+Debt\+Service@{get\+Debt\+Service}!Variable\+Debt\+Service\+Bond@{Variable\+Debt\+Service\+Bond}}
\subsubsection{\texorpdfstring{get\+Debt\+Service()}{getDebtService()}}
{\footnotesize\ttfamily double Variable\+Debt\+Service\+Bond\+::get\+Debt\+Service (\begin{DoxyParamCaption}\item[{int}]{week }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Calculates and returns the debt service payment for a given week. This function calculates the debt service for the bond, checking if repayments are due and handling any corrections if the calculated debt service value is NaN. 


\begin{DoxyParams}{Parameters}
{\em week} & The week number for which the debt service is to be calculated.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double The calculated debt service for the specified week. If no payment is due for the week, returns 0. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classBond_a98d8ecaf4b36319674ebd220598996bc}{Bond}}.

\mbox{\Hypertarget{classVariableDebtServiceBond_a8cc7ee442d788b91b8c00e6bed07644d}\label{classVariableDebtServiceBond_a8cc7ee442d788b91b8c00e6bed07644d}} 
\index{Variable\+Debt\+Service\+Bond@{Variable\+Debt\+Service\+Bond}!get\+Net\+Present\+Value\+At\+Issuance@{get\+Net\+Present\+Value\+At\+Issuance}}
\index{get\+Net\+Present\+Value\+At\+Issuance@{get\+Net\+Present\+Value\+At\+Issuance}!Variable\+Debt\+Service\+Bond@{Variable\+Debt\+Service\+Bond}}
\subsubsection{\texorpdfstring{get\+Net\+Present\+Value\+At\+Issuance()}{getNetPresentValueAtIssuance()}}
{\footnotesize\ttfamily double Variable\+Debt\+Service\+Bond\+::get\+Net\+Present\+Value\+At\+Issuance (\begin{DoxyParamCaption}\item[{double}]{yearly\+\_\+discount\+\_\+rate,  }\item[{int}]{week }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Calculates the net present value (N\+PV) at issuance for the variable debt service bond. This calculation is generally not applicable for a variable rate bond and might require an additional calculation at the end of realization. This method is intended as a placeholder. 


\begin{DoxyParams}{Parameters}
{\em yearly\+\_\+discount\+\_\+rate} & The annual discount rate used for the N\+PV calculation. \\
\hline
{\em week} & The week number at which the N\+PV is to be calculated.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double The calculated N\+PV at issuance. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classBond_a5997278813deb16aa5d01bbca8ecc7b2}{Bond}}.

\mbox{\Hypertarget{classVariableDebtServiceBond_aa5ad4fcc7c65154105388b332ae98198}\label{classVariableDebtServiceBond_aa5ad4fcc7c65154105388b332ae98198}} 
\index{Variable\+Debt\+Service\+Bond@{Variable\+Debt\+Service\+Bond}!get\+Present\+Value\+Debt\+Service@{get\+Present\+Value\+Debt\+Service}}
\index{get\+Present\+Value\+Debt\+Service@{get\+Present\+Value\+Debt\+Service}!Variable\+Debt\+Service\+Bond@{Variable\+Debt\+Service\+Bond}}
\subsubsection{\texorpdfstring{get\+Present\+Value\+Debt\+Service()}{getPresentValueDebtService()}}
{\footnotesize\ttfamily double Variable\+Debt\+Service\+Bond\+::get\+Present\+Value\+Debt\+Service (\begin{DoxyParamCaption}\item[{int}]{week,  }\item[{double}]{discount\+\_\+rate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Calculates the present value of the debt service for a given week. 

This function calculates the present value of the debt service payment for a specific week, taking into account the discount rate. It checks if the bond is in its repayment phase, and if the current week is a designated payment week.


\begin{DoxyParams}{Parameters}
{\em week} & The current week for which the debt service present value is calculated. \\
\hline
{\em discount\+\_\+rate} & The annual discount rate used for present value calculations.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double The present value of the debt service for the given week. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classBond_a322d4ab0c0c72824ac4df5df80f14d24}{Bond}}.

\mbox{\Hypertarget{classVariableDebtServiceBond_a3edee29f26e8ac74f9767770c6a951c9}\label{classVariableDebtServiceBond_a3edee29f26e8ac74f9767770c6a951c9}} 
\index{Variable\+Debt\+Service\+Bond@{Variable\+Debt\+Service\+Bond}!get\+Water\+Source\+ID@{get\+Water\+Source\+ID}}
\index{get\+Water\+Source\+ID@{get\+Water\+Source\+ID}!Variable\+Debt\+Service\+Bond@{Variable\+Debt\+Service\+Bond}}
\subsubsection{\texorpdfstring{get\+Water\+Source\+I\+D()}{getWaterSourceID()}}
{\footnotesize\ttfamily int Variable\+Debt\+Service\+Bond\+::get\+Water\+Source\+ID (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Retrieves the water source ID associated with the bond. Overrides the virtual base class method. 

This function returns the water source ID that is associated with the bond. The ID can be used to track or link the bond to a specific water source.

\begin{DoxyReturn}{Returns}
int The water source ID associated with the bond. 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classBond_a8190ab6482e6a9481afca4840147527e}{Bond}}.

\mbox{\Hypertarget{classVariableDebtServiceBond_a7d91921482f01d9bb37dba6e6d085771}\label{classVariableDebtServiceBond_a7d91921482f01d9bb37dba6e6d085771}} 
\index{Variable\+Debt\+Service\+Bond@{Variable\+Debt\+Service\+Bond}!issue\+Bond@{issue\+Bond}}
\index{issue\+Bond@{issue\+Bond}!Variable\+Debt\+Service\+Bond@{Variable\+Debt\+Service\+Bond}}
\subsubsection{\texorpdfstring{issue\+Bond()}{issueBond()}}
{\footnotesize\ttfamily void Variable\+Debt\+Service\+Bond\+::issue\+Bond (\begin{DoxyParamCaption}\item[{int}]{week,  }\item[{int}]{construction\+\_\+time,  }\item[{double}]{bond\+\_\+term\+\_\+multiplier,  }\item[{double}]{bond\+\_\+interest\+\_\+rate\+\_\+multiplier }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Issues the bond, initializes bond details, and calculates the variable debt service payment. This method calculates the initial variable debt service payment for the bond based on the bond\textquotesingle{}s cost of capital, debt fraction, coupon rate, and the number of payments. 


\begin{DoxyParams}{Parameters}
{\em week} & The week when the bond is issued. \\
\hline
{\em construction\+\_\+time} & The time (in weeks) it takes to complete construction. \\
\hline
{\em bond\+\_\+term\+\_\+multiplier} & A multiplier that adjusts the term of the bond. \\
\hline
{\em bond\+\_\+interest\+\_\+rate\+\_\+multiplier} & A multiplier that adjusts the interest rate of the bond.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classBond_a726edbe3ea7047ebc7246585943763e3}{Bond}}.

\mbox{\Hypertarget{classVariableDebtServiceBond_a692563150053b280f6e1ef23fd47c117}\label{classVariableDebtServiceBond_a692563150053b280f6e1ef23fd47c117}} 
\index{Variable\+Debt\+Service\+Bond@{Variable\+Debt\+Service\+Bond}!set\+Debt\+Service@{set\+Debt\+Service}}
\index{set\+Debt\+Service@{set\+Debt\+Service}!Variable\+Debt\+Service\+Bond@{Variable\+Debt\+Service\+Bond}}
\subsubsection{\texorpdfstring{set\+Debt\+Service()}{setDebtService()}}
{\footnotesize\ttfamily void Variable\+Debt\+Service\+Bond\+::set\+Debt\+Service (\begin{DoxyParamCaption}\item[{double}]{updated\+\_\+allocated\+\_\+fraction\+\_\+of\+\_\+annual\+\_\+debt\+\_\+service }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Calculates and updates the variable debt service payment based on the provided allocated fraction of annual debt service. Overrides the virtual base class method. 


\begin{DoxyParams}{Parameters}
{\em updated\+\_\+allocated\+\_\+fraction\+\_\+of\+\_\+annual\+\_\+debt\+\_\+service} & The new fraction of the annual debt service to be allocated to the bond.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classBond_aff7fc4e1edcf199fb592d22c765b854e}{Bond}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/fs02/pmr82\+\_\+0001/lbl59/\+Water\+Paths-\/doc/src/\+System\+Components/\+Bonds/\mbox{\hyperlink{VariableDebtServiceBond_8h}{Variable\+Debt\+Service\+Bond.\+h}}\end{DoxyCompactItemize}
