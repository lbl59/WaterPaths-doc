\hypertarget{classUtility}{}\section{Utility Class Reference}
\label{classUtility}\index{Utility@{Utility}}


{\ttfamily \#include $<$Utility.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classUtility_a53fb19e5a344de5892c5cfbcc1225da9}{Utility}} (const char $\ast$\mbox{\hyperlink{classUtility_ad0ce5c179a7f5ceb46d4fcae08dbfb47}{name}}, int \mbox{\hyperlink{classUtility_ad41c4ea5c911c5000452a3371cd65d5f}{id}}, vector$<$ vector$<$ double $>$$>$ \&demands\+\_\+all\+\_\+realizations, vector$<$ double $>$ \&annual\+\_\+demand\+\_\+projections, int \mbox{\hyperlink{classUtility_a0548db3746582251082aa430db49dad0}{number\+\_\+of\+\_\+week\+\_\+demands}}, const double \mbox{\hyperlink{classUtility_a7b1a097ec188be8e7175d058b5e6596c}{percent\+\_\+contingency\+\_\+fund\+\_\+contribution}}, const double contingency\+\_\+fund\+\_\+cap, const vector$<$ vector$<$ double $>$$>$ \&types\+Monthly\+Demand\+Fraction, const vector$<$ vector$<$ double $>$$>$ \&types\+Monthly\+Water\+Price, Wwtp\+Discharge\+Rule wwtp\+\_\+discharge\+\_\+rule, double \mbox{\hyperlink{classUtility_a4be9760339ec06e5c932890da8e566b3}{demand\+\_\+buffer}}, int demand\+\_\+projection\+\_\+forecast\+\_\+length, int demand\+\_\+projection\+\_\+historical\+\_\+period\+\_\+to\+\_\+use, int demand\+\_\+projection\+\_\+reprojection\+\_\+frequency)
\begin{DoxyCompactList}\small\item\em Main constructor for a \mbox{\hyperlink{classUtility}{Utility}} object with specified attributes and initializes its parameters. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classUtility_aac7acd5b6fa457869763bbf3b83f870e}{Utility}} (const char $\ast$\mbox{\hyperlink{classUtility_ad0ce5c179a7f5ceb46d4fcae08dbfb47}{name}}, int \mbox{\hyperlink{classUtility_ad41c4ea5c911c5000452a3371cd65d5f}{id}}, vector$<$ vector$<$ double $>$$>$ \&demands\+\_\+all\+\_\+realizations, vector$<$ double $>$ \&annual\+\_\+demand\+\_\+projections, int \mbox{\hyperlink{classUtility_a0548db3746582251082aa430db49dad0}{number\+\_\+of\+\_\+week\+\_\+demands}}, const double \mbox{\hyperlink{classUtility_a7b1a097ec188be8e7175d058b5e6596c}{percent\+\_\+contingency\+\_\+fund\+\_\+contribution}}, const double contingency\+\_\+fund\+\_\+cap, const vector$<$ vector$<$ double $>$$>$ \&types\+Monthly\+Demand\+Fraction, const vector$<$ vector$<$ double $>$$>$ \&types\+Monthly\+Water\+Price, Wwtp\+Discharge\+Rule wwtp\+\_\+discharge\+\_\+rule, double \mbox{\hyperlink{classUtility_a4be9760339ec06e5c932890da8e566b3}{demand\+\_\+buffer}}, const vector$<$ int $>$ \&rof\+\_\+infra\+\_\+construction\+\_\+order, const vector$<$ int $>$ \&demand\+\_\+infra\+\_\+construction\+\_\+order, const vector$<$ double $>$ \&infra\+\_\+construction\+\_\+triggers, double infra\+\_\+discount\+\_\+rate, const vector$<$ vector$<$ int $>$$>$ \&infra\+\_\+if\+\_\+built\+\_\+remove, double bond\+\_\+term, double bond\+\_\+interest\+\_\+rate, int demand\+\_\+projection\+\_\+forecast\+\_\+length, int demand\+\_\+projection\+\_\+historical\+\_\+period\+\_\+to\+\_\+use, int demand\+\_\+projection\+\_\+reprojection\+\_\+frequency)
\begin{DoxyCompactList}\small\item\em Constructs a \mbox{\hyperlink{classUtility}{Utility}} object for when there is infrastructure to be built. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classUtility_ae590079ab073cb52a00cda7d921909c4}{Utility}} (const char $\ast$\mbox{\hyperlink{classUtility_ad0ce5c179a7f5ceb46d4fcae08dbfb47}{name}}, int \mbox{\hyperlink{classUtility_ad41c4ea5c911c5000452a3371cd65d5f}{id}}, vector$<$ vector$<$ double $>$$>$ \&demands\+\_\+all\+\_\+realizations, vector$<$ double $>$ \&annual\+\_\+demand\+\_\+projections, int \mbox{\hyperlink{classUtility_a0548db3746582251082aa430db49dad0}{number\+\_\+of\+\_\+week\+\_\+demands}}, const double \mbox{\hyperlink{classUtility_a7b1a097ec188be8e7175d058b5e6596c}{percent\+\_\+contingency\+\_\+fund\+\_\+contribution}}, const double contingency\+\_\+fund\+\_\+cap, const vector$<$ vector$<$ double $>$$>$ \&types\+Monthly\+Demand\+Fraction, const vector$<$ vector$<$ double $>$$>$ \&types\+Monthly\+Water\+Price, Wwtp\+Discharge\+Rule wwtp\+\_\+discharge\+\_\+rule, double \mbox{\hyperlink{classUtility_a4be9760339ec06e5c932890da8e566b3}{demand\+\_\+buffer}}, const vector$<$ int $>$ \&rof\+\_\+infra\+\_\+construction\+\_\+order, const vector$<$ int $>$ \&demand\+\_\+infra\+\_\+construction\+\_\+order, const vector$<$ double $>$ \&infra\+\_\+construction\+\_\+triggers, double infra\+\_\+discount\+\_\+rate, double bond\+\_\+term, double bond\+\_\+interest\+\_\+rate, int demand\+\_\+projection\+\_\+forecast\+\_\+length, int demand\+\_\+projection\+\_\+historical\+\_\+period\+\_\+to\+\_\+use, int demand\+\_\+projection\+\_\+reprojection\+\_\+frequency)
\begin{DoxyCompactList}\small\item\em Constructs a \mbox{\hyperlink{classUtility}{Utility}} object for when there is infrastructure to be built (uses a different \mbox{\hyperlink{classInfrastructureManager}{Infrastructure\+Manager}} constructor). Also includes a check for empty demand vectors that the prior constructor does not have. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classUtility_a44eaefb71f90fcf28143e3e919074a97}{Utility}} (\mbox{\hyperlink{classUtility}{Utility}} \&utility)
\begin{DoxyCompactList}\small\item\em Copy constructor for the \mbox{\hyperlink{classUtility}{Utility}} class. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classUtility_aecfe4b31e39b00555158a2d8288b874a}{$\sim$\+Utility}} ()
\begin{DoxyCompactList}\small\item\em Destructor for the \mbox{\hyperlink{classUtility}{Utility}} class. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classUtility}{Utility}} \& \mbox{\hyperlink{classUtility_a9a362d68a5aa3ec934c286f3a7e9b721}{operator=}} (const \mbox{\hyperlink{classUtility}{Utility}} \&utility)
\begin{DoxyCompactList}\small\item\em Copy assignment operator for the \mbox{\hyperlink{classUtility}{Utility}} class. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classUtility_ae2dad8029e34c5bb073a5ddf4381d278}{operator$<$}} (const \mbox{\hyperlink{classUtility}{Utility}} $\ast$other)
\begin{DoxyCompactList}\small\item\em Less-\/than operator for comparing \mbox{\hyperlink{classUtility}{Utility}} objects based on their I\+Ds. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classUtility_a222897e8c338fde0d754df4683fbc89b}{operator$>$}} (const \mbox{\hyperlink{classUtility}{Utility}} $\ast$other)
\begin{DoxyCompactList}\small\item\em Compares the current \mbox{\hyperlink{classUtility}{Utility}} object with another \mbox{\hyperlink{classUtility}{Utility}} object using their I\+Ds. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_a68d5088951f6bdccbb7af18ea8f153f5}{set\+Risk\+\_\+of\+\_\+failure}} (double risk\+\_\+of\+\_\+failure)
\begin{DoxyCompactList}\small\item\em Sets the actual short-\/term risk of failure. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_aadf42161486c8305b0b55aa65c5f519e}{set\+Risk\+\_\+of\+\_\+failures}} (double storage\+\_\+risk\+\_\+of\+\_\+failure, double treatment\+\_\+risk\+\_\+of\+\_\+failure)
\begin{DoxyCompactList}\small\item\em Sets the short-\/term risk of failure for both storage and treatment components. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_af394fe9f04a371a7cf10ddadba575e85}{update\+Total\+Available\+Volume}} ()
\begin{DoxyCompactList}\small\item\em Update the total available volume and net stream inflow based on current water sources. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_a5feecc73d561de022eb6ba3c657b3dbc}{calculate\+Wastewater\+\_\+releases}} (int week, double $\ast$discharges)
\begin{DoxyCompactList}\small\item\em Calculate wastewater releases for a given week and update discharge values. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a38381b003d13986e37757dfea683f7f9}{calculate\+Current\+To\+Next\+Year\+Demand\+Delta}} (int current\+\_\+year)
\begin{DoxyCompactList}\small\item\em Calculate the demand difference between the current year and the next year. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_aebbfd65c13e86cfeda8bdfbcc6712587}{add\+Water\+Source}} (\mbox{\hyperlink{classWaterSource}{Water\+Source}} $\ast$water\+\_\+source)
\begin{DoxyCompactList}\small\item\em Connect a water source to the utility. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_aca42b14087c3184d4fec10a2e8729c05}{split\+Demands}} (int week, vector$<$ vector$<$ double $>$$>$ \&demands, bool apply\+\_\+demand\+\_\+buffer=false, bool apply\+\_\+demand\+\_\+projection=false)
\begin{DoxyCompactList}\small\item\em Splits demands across available water sources. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_a0674d7d95f4d6595f7e01817a4d84a98}{check\+Errors\+Add\+Water\+Source\+Online}} (\mbox{\hyperlink{classWaterSource}{Water\+Source}} $\ast$water\+\_\+source)
\begin{DoxyCompactList}\small\item\em Checks for errors when adding a water source to the utility. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_af9ec9c2cb69166db021f03ce9ddf4d8e}{reset\+Drought\+Mitigation\+Variables}} ()
\begin{DoxyCompactList}\small\item\em Resets the drought mitigation variables in the utility. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_a152ceea2917ea7715e8fbf8aff24390f}{issue\+Bond}} (int new\+\_\+infra\+\_\+triggered, int week)
\begin{DoxyCompactList}\small\item\em Issues a bond for the new infrastructure triggered in the utility. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_a0189edb631c9596f094b15afeeb934fd}{calculate\+Weekly\+Average\+Water\+Prices}} (const vector$<$ vector$<$ double $>$$>$ \&types\+Monthly\+Demand\+Fraction, const vector$<$ vector$<$ double $>$$>$ \&types\+Monthly\+Water\+Price)
\begin{DoxyCompactList}\small\item\em Calculates average water price from consumer types and respective prices. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a0dca2586b9ed761cdab3b0a344daf21c}{water\+Price}} (int week)
\begin{DoxyCompactList}\small\item\em Returns the water price for a specific week. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_a7daa5b948a370eca83bc8c63890f6b19}{force\+Infrastructure\+Construction}} (int week, vector$<$ int $>$ new\+\_\+infra\+\_\+triggered)
\begin{DoxyCompactList}\small\item\em Forces the construction of triggered infrastructure and issues the corresponding bonds. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classUtility_ae93114986578d3d3fbae56f271ac7df6}{infrastructure\+Construction\+Handler}} (double long\+\_\+term\+\_\+rof, int week)
\begin{DoxyCompactList}\small\item\em Handles infrastructure construction based on long-\/term risk of failure and other parameters. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_a01ec91140b9d23bf5b03e0fc55bced0d}{price\+Calculation\+Error\+Checking}} (const vector$<$ vector$<$ double $>$$>$ \&types\+Monthly\+Demand\+Fraction, const vector$<$ vector$<$ double $>$$>$ \&types\+Monthly\+Water\+Price)
\begin{DoxyCompactList}\small\item\em Checks for errors in the monthly demand fraction and water price data. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_ab663efd526505a3d843cae7075cc3b91}{update\+Contingency\+Fund\+And\+Debt\+Service}} (double unrestricted\+\_\+demand, double demand\+\_\+multiplier, double demand\+\_\+offset, double unfulfilled\+\_\+demand, int week)
\begin{DoxyCompactList}\small\item\em Updates the utility\textquotesingle{}s contingency fund and debt service based on the current demand and water prices. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a16f8269dc5f80c1d079c49f33495f620}{get\+Total\+\_\+storage\+\_\+capacity}} () const
\begin{DoxyCompactList}\small\item\em Retrieves the total storage capacity of the utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_ab43bfbf7db1b5dc2e554a584b19f9e3c}{get\+Risk\+\_\+of\+\_\+failure}} () const
\begin{DoxyCompactList}\small\item\em Retrieves the short-\/term risk of failure for the utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a0e27f2877c780e214c6dda06d03246fe}{get\+Storage\+To\+Capacity\+Ratio}} () const
\begin{DoxyCompactList}\small\item\em Retrieves the ratio of stored volume to total storage capacity. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a2903344b317f0949014c687d285b64b6}{get\+Gross\+Revenue}} () const
\begin{DoxyCompactList}\small\item\em Retrieves the gross revenue of the utility. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_ad562626bc39694622495d2fb2b68ecd4}{set\+Demand\+\_\+multiplier}} (double demand\+\_\+multiplier)
\begin{DoxyCompactList}\small\item\em Sets the demand multiplier for the utility. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_a6e7f1df1fcde0b14475c7045bdcaf218}{set\+Demand\+\_\+offset}} (double demand\+\_\+offset, double offset\+\_\+rate\+\_\+per\+\_\+volume)
\begin{DoxyCompactList}\small\item\em Sets the demand offset and the offset rate per volume for the utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a6ab2e5b8aec47bcfed522c98ea1b5f79}{get\+Total\+\_\+treatment\+\_\+capacity}} () const
\begin{DoxyCompactList}\small\item\em Returns the total treatment capacity of the utility. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_ae01127adf3c99415310e77b22bd9f3b5}{set\+Water\+Source\+Online}} (unsigned int source\+\_\+id, int week)
\begin{DoxyCompactList}\small\item\em Sets a specified water source as online for the utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a63f5ae95014d9e729a3de51f19540042}{update\+Current\+\_\+debt\+\_\+payment}} (int week)
\begin{DoxyCompactList}\small\item\em Updates the current debt payment for the utility for a specific week, if that\textquotesingle{}s the first week of the year. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_ab396bc312d5e5ddc0554138060a8a4d3}{get\+Contingency\+\_\+fund}} () const
\begin{DoxyCompactList}\small\item\em Retrieves the current contingency fund balance. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_aa5fd345867aa8fb5c49d05110d51ca52}{get\+Unrestricted\+Demand}} () const
\begin{DoxyCompactList}\small\item\em Retrieves the unrestricted demand for the utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_ade3427a88355631a3657f752ace874fc}{get\+Restricted\+Demand}} () const
\begin{DoxyCompactList}\small\item\em Retrieves the restricted demand for the utility. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_a7f642d886a6d1d165e86b2e6a7c51ed4}{set\+Restricted\+\_\+price}} (double restricted\+\_\+price)
\begin{DoxyCompactList}\small\item\em Sets the restricted price for the utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a04a400d8bfb89214632f9afca8c4eef5}{get\+Demand\+\_\+multiplier}} () const
\begin{DoxyCompactList}\small\item\em Gets the demand multiplier for the utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_ae2d1b744d965d9b916dd7d3103631c92}{get\+Unrestricted\+Demand}} (int week) const
\begin{DoxyCompactList}\small\item\em Gets the unrestricted demand for the utility at a specific week. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_ab806fee785718cbc82b1963316785448}{get\+Infrastructure\+\_\+net\+\_\+present\+\_\+cost}} () const
\begin{DoxyCompactList}\small\item\em Gets the net present cost of infrastructure for the utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_ab0e6984f9bad9d5d2a756f015216f54f}{get\+Current\+\_\+debt\+\_\+payment}} () const
\begin{DoxyCompactList}\small\item\em Gets the current debt payment for the utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_af1745fc1364e7a03dc561dd9832b7db4}{get\+Current\+\_\+contingency\+\_\+fund\+\_\+contribution}} () const
\begin{DoxyCompactList}\small\item\em Gets the current contribution to the contingency fund. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a27dc0aeabdcb9fdb5a7d388e67e905f8}{get\+Drought\+\_\+mitigation\+\_\+cost}} () const
\begin{DoxyCompactList}\small\item\em Gets the current cost for drought mitigation. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_a2eaf70b4492ab8ec0e0420d6b7c3b821}{add\+Insurance\+Payout}} (double payout\+\_\+value)
\begin{DoxyCompactList}\small\item\em Adds an insurance payout to the contingency fund. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_aa770f28c76e84747bbd643f55dbc4dd5}{clear\+Water\+Sources}} ()
\begin{DoxyCompactList}\small\item\em Clears all water sources associated with the utility. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_a97073e3d7a30275c639484b3158284fa}{purchase\+Insurance}} (double insurance\+\_\+price)
\begin{DoxyCompactList}\small\item\em Purchases insurance by deducting from the contingency fund. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_af789e394a867f007b681c68af3fb3349}{get\+Insurance\+\_\+payout}} () const
\begin{DoxyCompactList}\small\item\em Retrieves the insurance payout value. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_aa9a26e9b3b5af555c8278330c9f4a468}{get\+Insurance\+\_\+purchase}} () const
\begin{DoxyCompactList}\small\item\em Retrieves the insurance purchase value. \end{DoxyCompactList}\item 
const vector$<$ int $>$ \& \mbox{\hyperlink{classUtility_a446e46d3dac749121db6cb839acf28dd}{get\+Rof\+\_\+infrastructure\+\_\+construction\+\_\+order}} () const
\begin{DoxyCompactList}\small\item\em Retrieves the order of infrastructure construction based on risk of failure (R\+OF). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_a2d41989b4154aed5c2fb99a27183ca34}{set\+Realization}} (unsigned long r, vector$<$ double $>$ \&rdm\+\_\+factors)
\begin{DoxyCompactList}\small\item\em Sets the realization factors for the utility and adjusts demand series. Eliminates reference to comprehensive demand data set. \end{DoxyCompactList}\item 
const vector$<$ int $>$ \mbox{\hyperlink{classUtility_abe05c15d0ea2efec00c00a8ee418b53b}{get\+Infrastructure\+\_\+built}} () const
\begin{DoxyCompactList}\small\item\em Retrieves the infrastructure that was built in the last week. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_a6a89bff2044b4f68714ce9934344e2ad}{set\+No\+Finaical\+Calculations}} ()
\begin{DoxyCompactList}\small\item\em Disables financial calculations for the utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a6ac587bf46d7147f9722dc4c89abbb3b}{get\+Long\+\_\+term\+\_\+risk\+\_\+of\+\_\+failure}} () const
\begin{DoxyCompactList}\small\item\em Gets the actual long-\/term risk of failure (max of storage/treatment R\+OF). \end{DoxyCompactList}\item 
const vector$<$ int $>$ \& \mbox{\hyperlink{classUtility_ab62d06b45773fb9e5574a339ac0c449e}{get\+Demand\+\_\+infra\+\_\+construction\+\_\+order}} () const
\begin{DoxyCompactList}\small\item\em Retrieves the demand-\/based infrastructure construction order. \end{DoxyCompactList}\item 
vector$<$ double $>$ \mbox{\hyperlink{classUtility_a54c8621f2cce5257343f8dc6bfd76cff}{calculate\+Weekly\+Peaking\+Factor}} (vector$<$ double $>$ $\ast$demands)
\begin{DoxyCompactList}\small\item\em Calculates the weekly peaking factor for demand. \end{DoxyCompactList}\item 
const vector$<$ \mbox{\hyperlink{classWaterSource}{Water\+Source}} $\ast$ $>$ \& \mbox{\hyperlink{classUtility_af68f63148aa901e781b939c8aa3699af}{get\+Water\+\_\+sources}} () const
\begin{DoxyCompactList}\small\item\em Returns the list of water sources associated with the utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a68dc298c3078ff450cdc7b6a69422da1}{get\+Waste\+\_\+water\+\_\+discharge}} () const
\begin{DoxyCompactList}\small\item\em Returns the amount of waste water discharge for the utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a6128e9ac10cc873773112593b5788d81}{get\+Total\+\_\+available\+\_\+volume}} () const
\begin{DoxyCompactList}\small\item\em Returns the total available volume of the utility. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_a0ac180e13fb963a29c2860664c3f352a}{reset\+Total\+\_\+storage\+\_\+capacity}} ()
\begin{DoxyCompactList}\small\item\em Resets the total storage capacity of the utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a062fd9a622bd9893c142ae56523010dd}{get\+Unfulfilled\+\_\+demand}} () const
\begin{DoxyCompactList}\small\item\em Returns the unfulfilled demand of the utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a93d865d309801d2b44687b2e14620386}{get\+Net\+\_\+stream\+\_\+inflow}} () const
\begin{DoxyCompactList}\small\item\em Returns the net stream inflow of the utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a5d932aef9e201e824ac681cd6928613a}{get\+Total\+\_\+stored\+\_\+volume}} () const
\begin{DoxyCompactList}\small\item\em Returns the total stored volume of water in the utility\textquotesingle{}s system. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{classInfrastructureManager}{Infrastructure\+Manager}} \& \mbox{\hyperlink{classUtility_a0e8ecb5bbf910de9abecbef06c1662e6}{get\+Infrastructure\+\_\+construction\+\_\+manager}} () const
\begin{DoxyCompactList}\small\item\em Returns the infrastructure construction manager for the utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_acdd0e90d638d4a127a06787fe427ab59}{get\+Demand\+\_\+offset}} () const
\begin{DoxyCompactList}\small\item\em Returns the current demand offset for the utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a70f24df5a7d4346ad0ebccd9b30960d3}{get\+Available\+Volume\+To\+Capacity\+Ratio}} () const
\begin{DoxyCompactList}\small\item\em Returns the ratio of available volume to total storage capacity. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a73afadbbcd2d1a21452937b514d10c34}{get\+Unrestricted\+Demand\+To\+Treatment\+Capacity\+Ratio}} () const
\begin{DoxyCompactList}\small\item\em Returns the ratio of unrestricted demand to total treatment capacity. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_a0a5ccfc2e606ef46f1c1a52707fb5071}{set\+Long\+Term\+Risk\+\_\+of\+\_\+failures}} (double storage\+\_\+risk\+\_\+of\+\_\+failure, double treatment\+\_\+risk\+\_\+of\+\_\+failure)
\begin{DoxyCompactList}\small\item\em Sets the long-\/term risk of failure for storage and treatment. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a3c35a6860d65f40648238b2719377bf6}{get\+Long\+\_\+term\+\_\+storage\+\_\+risk\+\_\+of\+\_\+failure}} () const
\begin{DoxyCompactList}\small\item\em Retrieves the long-\/term storage risk of failure. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_aade5d5dc1ea04641ef9f709542848316}{get\+Long\+\_\+term\+\_\+treatment\+\_\+risk\+\_\+of\+\_\+failure}} () const
\begin{DoxyCompactList}\small\item\em Retrieves the long-\/term treatment risk of failure. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_a10f96b2f34ba7e6e12a8e8fb98b8534a}{calculate\+Demand\+Estimate\+From\+Projection}} (int year, bool reproject\+\_\+demand)
\begin{DoxyCompactList}\small\item\em Calculates the estimated future demand based on projections and historical data. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a67627ab2e5f526a979099bb6b2d2f13f}{get\+Current\+\_\+year\+\_\+demand\+\_\+record}} () const
\begin{DoxyCompactList}\small\item\em Gets the recorded demand for the current year. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a9ca028b10b1c466e010dcacca6a0b24e}{get\+Future\+\_\+demand\+\_\+estimate}} () const
\begin{DoxyCompactList}\small\item\em Gets the estimated future demand. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_aa465673857827435f256bde97d36b77d}{set\+Future\+\_\+demand\+\_\+estimate}} (double demand\+\_\+estimate)
\begin{DoxyCompactList}\small\item\em Sets the estimated future demand. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_a0a3190b991d667caf30a2e7cf447fae1}{set\+Current\+\_\+year\+\_\+demand\+\_\+record}} (double current\+\_\+demand)
\begin{DoxyCompactList}\small\item\em Sets the recorded demand for the current year. \end{DoxyCompactList}\item 
vector$<$ double $>$ \mbox{\hyperlink{classUtility_a5bae4fe8c3f0c782f0cdf5d14b7b92a7}{calculate\+Annual\+Average\+Weekly\+Demand}} (vector$<$ double $>$ $\ast$demands)
\begin{DoxyCompactList}\small\item\em Calculates the annual average weekly demand for each year. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_ae0134c9627b79067e1789c95c775570d}{update\+Treatment\+Capacity}} (double capacity\+\_\+adjustment)
\begin{DoxyCompactList}\small\item\em This function calculates the annual average weekly demand for a given set of demand data. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classUtility_ae2dd2175d9fe1d71ea1f1e8b43a21148}{set\+Treatment\+Capacity}} (double total\+\_\+capacity)
\begin{DoxyCompactList}\small\item\em This function sets the total treatment capacity for the utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_ab920387a318f7d7956da5e92582a58a3}{update\+Current\+\_\+present\+\_\+value\+\_\+debt\+\_\+payment}} (int week)
\begin{DoxyCompactList}\small\item\em Updates the present value of the debt payment for the current week. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a407debda53abcf80ebd290414c1bf5bc}{get\+Current\+\_\+debt\+\_\+payment\+\_\+present\+\_\+valued}} () const
\begin{DoxyCompactList}\small\item\em Retrieves the current present-\/valued debt payment. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_aaaa05e97f2d33cf7a28b5c91ec253026}{get\+Storage\+Risk\+\_\+of\+\_\+failure}} () const
\begin{DoxyCompactList}\small\item\em Retrieves the short-\/term storage risk of failure. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_a1fd8aedeaf56d674fd024dac1f11b20c}{get\+Treatment\+Risk\+\_\+of\+\_\+failure}} () const
\begin{DoxyCompactList}\small\item\em Retrieves the short-\/term treatment risk of failure. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classUtility_affbfd106c7b5cdf6703d01d6ad838fde}{get\+Sinusoidal\+Factor}} (int week, double A, double T, double p)
\begin{DoxyCompactList}\small\item\em Calculates the sinusoidal factor based on the given parameters. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static bool \mbox{\hyperlink{classUtility_a360c97e7dd372f3ff57f94314743e53d}{comp\+By\+Id}} (\mbox{\hyperlink{classUtility}{Utility}} $\ast$a, \mbox{\hyperlink{classUtility}{Utility}} $\ast$b)
\begin{DoxyCompactList}\small\item\em Compares two \mbox{\hyperlink{classUtility}{Utility}} objects based on their I\+Ds. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
const int \mbox{\hyperlink{classUtility_ad41c4ea5c911c5000452a3371cd65d5f}{id}}
\begin{DoxyCompactList}\small\item\em The unique identifier for the utility. \end{DoxyCompactList}\item 
const int \mbox{\hyperlink{classUtility_a0548db3746582251082aa430db49dad0}{number\+\_\+of\+\_\+week\+\_\+demands}}
\begin{DoxyCompactList}\small\item\em The number of weeks where demand data is available. \end{DoxyCompactList}\item 
const char $\ast$ \mbox{\hyperlink{classUtility_ad0ce5c179a7f5ceb46d4fcae08dbfb47}{name}}
\begin{DoxyCompactList}\small\item\em A pointer to the name of the utility. \end{DoxyCompactList}\item 
const double \mbox{\hyperlink{classUtility_a7b1a097ec188be8e7175d058b5e6596c}{percent\+\_\+contingency\+\_\+fund\+\_\+contribution}}
\begin{DoxyCompactList}\small\item\em The percentage contribution of its gross revenue to the contingency fund. \end{DoxyCompactList}\item 
const double \mbox{\hyperlink{classUtility_a4be9760339ec06e5c932890da8e566b3}{demand\+\_\+buffer}}
\begin{DoxyCompactList}\small\item\em The demand buffer for smoothing demand projections. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classUtility_a53fb19e5a344de5892c5cfbcc1225da9}\label{classUtility_a53fb19e5a344de5892c5cfbcc1225da9}} 
\index{Utility@{Utility}!Utility@{Utility}}
\index{Utility@{Utility}!Utility@{Utility}}
\subsubsection{\texorpdfstring{Utility()}{Utility()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily Utility\+::\+Utility (\begin{DoxyParamCaption}\item[{const char $\ast$}]{name,  }\item[{int}]{id,  }\item[{vector$<$ vector$<$ double $>$$>$ \&}]{demands\+\_\+all\+\_\+realizations,  }\item[{vector$<$ double $>$ \&}]{annual\+\_\+demand\+\_\+projections,  }\item[{int}]{number\+\_\+of\+\_\+week\+\_\+demands,  }\item[{const double}]{percent\+\_\+contingency\+\_\+fund\+\_\+contribution,  }\item[{const double}]{contingency\+\_\+fund\+\_\+cap,  }\item[{const vector$<$ vector$<$ double $>$$>$ \&}]{types\+Monthly\+Demand\+Fraction,  }\item[{const vector$<$ vector$<$ double $>$$>$ \&}]{types\+Monthly\+Water\+Price,  }\item[{Wwtp\+Discharge\+Rule}]{wwtp\+\_\+discharge\+\_\+rule,  }\item[{double}]{demand\+\_\+buffer,  }\item[{int}]{demand\+\_\+projection\+\_\+forecast\+\_\+length,  }\item[{int}]{demand\+\_\+projection\+\_\+historical\+\_\+period\+\_\+to\+\_\+use,  }\item[{int}]{demand\+\_\+projection\+\_\+reprojection\+\_\+frequency }\end{DoxyParamCaption})}



Main constructor for a \mbox{\hyperlink{classUtility}{Utility}} object with specified attributes and initializes its parameters. 

This constructor sets up the \mbox{\hyperlink{classUtility}{Utility}} instance with various properties related to water demand, pricing, contingency funds, and infrastructure financing. It also computes the weekly average water prices based on monthly demand fractions and water price types.


\begin{DoxyParams}{Parameters}
{\em name} & The name of the utility. \\
\hline
{\em id} & The unique identifier for the utility. \\
\hline
{\em demands\+\_\+all\+\_\+realizations} & A reference to a vector of weekly demand data for all realizations. \\
\hline
{\em annual\+\_\+demand\+\_\+projections} & A reference to a vector of annual demand projections. \\
\hline
{\em number\+\_\+of\+\_\+week\+\_\+demands} & The number of weekly demand entries. \\
\hline
{\em percent\+\_\+contingency\+\_\+fund\+\_\+contribution} & Percentage contribution to the contingency fund. \\
\hline
{\em contingency\+\_\+fund\+\_\+cap} & The maximum allowed value of the contingency fund. \\
\hline
{\em types\+Monthly\+Demand\+Fraction} & A reference to a vector of vectors containing monthly demand fractions by water type. Table of size 12 (months in year) by number of consumer tiers with the fraction of the total demand consumed by each tier in each month of the year. The last column must be the fraction of the demand treated as sewage. The summation of all number in a row but the last one, therefore, must sum to 1. \\
\hline
{\em types\+Monthly\+Water\+Price} & A reference to a vector of vectors containing monthly water prices by tier type. The last column is the price charged for waste water treatment. \\
\hline
{\em wwtp\+\_\+discharge\+\_\+rule} & The rule governing wastewater treatment plant discharges. A 53-\/week-\/long time series according to which fractions of sewage is discharged in different water sources (normally one for each W\+W\+TP). \\
\hline
{\em demand\+\_\+buffer} & A buffer for smoothing demand projections. \\
\hline
{\em demand\+\_\+projection\+\_\+forecast\+\_\+length} & Length of the forecast period for demand projections (in weeks). \\
\hline
{\em demand\+\_\+projection\+\_\+historical\+\_\+period\+\_\+to\+\_\+use} & Historical period (in weeks) used for demand projection. \\
\hline
{\em demand\+\_\+projection\+\_\+reprojection\+\_\+frequency} & Frequency (in weeks) for updating demand projections.\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classUtility_a0189edb631c9596f094b15afeeb934fd}{Utility\+::calculate\+Weekly\+Average\+Water\+Prices}} for details on the computation of weekly average water prices. 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_aac7acd5b6fa457869763bbf3b83f870e}\label{classUtility_aac7acd5b6fa457869763bbf3b83f870e}} 
\index{Utility@{Utility}!Utility@{Utility}}
\index{Utility@{Utility}!Utility@{Utility}}
\subsubsection{\texorpdfstring{Utility()}{Utility()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily Utility\+::\+Utility (\begin{DoxyParamCaption}\item[{const char $\ast$}]{name,  }\item[{int}]{id,  }\item[{vector$<$ vector$<$ double $>$$>$ \&}]{demands\+\_\+all\+\_\+realizations,  }\item[{vector$<$ double $>$ \&}]{annual\+\_\+demand\+\_\+projections,  }\item[{int}]{number\+\_\+of\+\_\+week\+\_\+demands,  }\item[{const double}]{percent\+\_\+contingency\+\_\+fund\+\_\+contribution,  }\item[{const double}]{contingency\+\_\+fund\+\_\+cap,  }\item[{const vector$<$ vector$<$ double $>$$>$ \&}]{types\+Monthly\+Demand\+Fraction,  }\item[{const vector$<$ vector$<$ double $>$$>$ \&}]{types\+Monthly\+Water\+Price,  }\item[{Wwtp\+Discharge\+Rule}]{wwtp\+\_\+discharge\+\_\+rule,  }\item[{double}]{demand\+\_\+buffer,  }\item[{const vector$<$ int $>$ \&}]{rof\+\_\+infra\+\_\+construction\+\_\+order,  }\item[{const vector$<$ int $>$ \&}]{demand\+\_\+infra\+\_\+construction\+\_\+order,  }\item[{const vector$<$ double $>$ \&}]{infra\+\_\+construction\+\_\+triggers,  }\item[{double}]{infra\+\_\+discount\+\_\+rate,  }\item[{const vector$<$ vector$<$ int $>$$>$ \&}]{infra\+\_\+if\+\_\+built\+\_\+remove,  }\item[{double}]{bond\+\_\+term,  }\item[{double}]{bond\+\_\+interest\+\_\+rate,  }\item[{int}]{demand\+\_\+projection\+\_\+forecast\+\_\+length,  }\item[{int}]{demand\+\_\+projection\+\_\+historical\+\_\+period\+\_\+to\+\_\+use,  }\item[{int}]{demand\+\_\+projection\+\_\+reprojection\+\_\+frequency }\end{DoxyParamCaption})}



Constructs a \mbox{\hyperlink{classUtility}{Utility}} object for when there is infrastructure to be built. 

This constructor sets up a \mbox{\hyperlink{classUtility}{Utility}} with specified attributes and initializes its parameters and infrastructure manager. Sets up the \mbox{\hyperlink{classUtility}{Utility}} instance, initializes water demand, pricing, and financial properties, and integrates infrastructure construction management functionality. It also computes weekly average water prices and ensures the provided parameters are valid.


\begin{DoxyParams}{Parameters}
{\em name} & The name of the utility. \\
\hline
{\em id} & The unique identifier for the utility. \\
\hline
{\em demands\+\_\+all\+\_\+realizations} & A vector of weekly demand data for all realizations. \\
\hline
{\em annual\+\_\+demand\+\_\+projections} & A vector of annual demand projections. \\
\hline
{\em number\+\_\+of\+\_\+week\+\_\+demands} & The number of weekly demand entries. \\
\hline
{\em percent\+\_\+contingency\+\_\+fund\+\_\+contribution} & Percentage contribution to the contingency fund. \\
\hline
{\em contingency\+\_\+fund\+\_\+cap} & The maximum allowed value of the contingency fund. \\
\hline
{\em types\+Monthly\+Demand\+Fraction} & A reference to a vector of vectors containing monthly demand fractions by water type. Table of size 12 (months in year) by number of consumer tiers with the fraction of the total demand consumed by each tier in each month of the year. The last column must be the fraction of the demand treated as sewage. The summation of all number in a row but the last one, therefore, must sum to 1. ~\newline
\\
\hline
{\em types\+Monthly\+Water\+Price} & A reference to a vector of vectors containing monthly water prices by tier type. The last column is the price charged for waste water treatment. \\
\hline
{\em wwtp\+\_\+discharge\+\_\+rule} & The rule governing wastewater treatment plant discharges. A 53-\/week-\/long time series according to which fractions of sewage is discharged in different water sources (normally one for each W\+W\+TP). \\
\hline
{\em demand\+\_\+buffer} & A buffer for smoothing demand projections. \\
\hline
{\em rof\+\_\+infra\+\_\+construction\+\_\+order} & A vector defining the R\+O\+F-\/based construction order for infrastructure. \\
\hline
{\em demand\+\_\+infra\+\_\+construction\+\_\+order} & A vector defining the demand-\/based construction order for infrastructure. \\
\hline
{\em infra\+\_\+construction\+\_\+triggers} & A vector of construction triggers for infrastructure projects. \\
\hline
{\em infra\+\_\+discount\+\_\+rate} & The discount rate applied to infrastructure construction costs. \\
\hline
{\em infra\+\_\+if\+\_\+built\+\_\+remove} & A vector defining dependencies for infrastructure projects. if infra option in position 0 of a row is built, remove infra options of I\+Ds in remaining positions of the same row. \\
\hline
{\em bond\+\_\+term} & The term of infrastructure bonds. \\
\hline
{\em bond\+\_\+interest\+\_\+rate} & The interest rate for infrastructure bonds. \\
\hline
{\em demand\+\_\+projection\+\_\+forecast\+\_\+length} & Length of the forecast period for demand projections (in weeks). \\
\hline
{\em demand\+\_\+projection\+\_\+historical\+\_\+period\+\_\+to\+\_\+use} & Historical period (in weeks) used for demand projection. \\
\hline
{\em demand\+\_\+projection\+\_\+reprojection\+\_\+frequency} & Frequency (in weeks) for updating demand projections.\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::invalid\+\_\+argument} & If both construction order vectors are empty. \\
\hline
{\em std\+::invalid\+\_\+argument} & If the infrastructure discount rate is less than or equal to zero.\\
\hline
\end{DoxyExceptions}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classUtility_a0189edb631c9596f094b15afeeb934fd}{Utility\+::calculate\+Weekly\+Average\+Water\+Prices}} for details on the computation of weekly average water prices. 

\mbox{\hyperlink{classInfrastructureManager}{Infrastructure\+Manager}} for details on infrastructure construction management. 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_ae590079ab073cb52a00cda7d921909c4}\label{classUtility_ae590079ab073cb52a00cda7d921909c4}} 
\index{Utility@{Utility}!Utility@{Utility}}
\index{Utility@{Utility}!Utility@{Utility}}
\subsubsection{\texorpdfstring{Utility()}{Utility()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily Utility\+::\+Utility (\begin{DoxyParamCaption}\item[{const char $\ast$}]{name,  }\item[{int}]{id,  }\item[{vector$<$ vector$<$ double $>$$>$ \&}]{demands\+\_\+all\+\_\+realizations,  }\item[{vector$<$ double $>$ \&}]{annual\+\_\+demand\+\_\+projections,  }\item[{int}]{number\+\_\+of\+\_\+week\+\_\+demands,  }\item[{const double}]{percent\+\_\+contingency\+\_\+fund\+\_\+contribution,  }\item[{const double}]{contingency\+\_\+fund\+\_\+cap,  }\item[{const vector$<$ vector$<$ double $>$$>$ \&}]{types\+Monthly\+Demand\+Fraction,  }\item[{const vector$<$ vector$<$ double $>$$>$ \&}]{types\+Monthly\+Water\+Price,  }\item[{Wwtp\+Discharge\+Rule}]{wwtp\+\_\+discharge\+\_\+rule,  }\item[{double}]{demand\+\_\+buffer,  }\item[{const vector$<$ int $>$ \&}]{rof\+\_\+infra\+\_\+construction\+\_\+order,  }\item[{const vector$<$ int $>$ \&}]{demand\+\_\+infra\+\_\+construction\+\_\+order,  }\item[{const vector$<$ double $>$ \&}]{infra\+\_\+construction\+\_\+triggers,  }\item[{double}]{infra\+\_\+discount\+\_\+rate,  }\item[{double}]{bond\+\_\+term,  }\item[{double}]{bond\+\_\+interest\+\_\+rate,  }\item[{int}]{demand\+\_\+projection\+\_\+forecast\+\_\+length,  }\item[{int}]{demand\+\_\+projection\+\_\+historical\+\_\+period\+\_\+to\+\_\+use,  }\item[{int}]{demand\+\_\+projection\+\_\+reprojection\+\_\+frequency }\end{DoxyParamCaption})}



Constructs a \mbox{\hyperlink{classUtility}{Utility}} object for when there is infrastructure to be built (uses a different \mbox{\hyperlink{classInfrastructureManager}{Infrastructure\+Manager}} constructor). Also includes a check for empty demand vectors that the prior constructor does not have. 

This constructor sets up a \mbox{\hyperlink{classUtility}{Utility}} with specified attributes and initializes its parameters and infrastructure manager. Sets up the \mbox{\hyperlink{classUtility}{Utility}} instance, initializes water demand, pricing, and financial properties, and integrates infrastructure construction management functionality. It also computes weekly average water prices and ensures the provided parameters are valid.

F\+I\+X\+ME\+: Unclear where this constructor is used, and how it differs from the other constructor.


\begin{DoxyParams}{Parameters}
{\em name} & The name of the utility. \\
\hline
{\em id} & The unique identifier for the utility. \\
\hline
{\em demands\+\_\+all\+\_\+realizations} & A vector of weekly demand data for all realizations. \\
\hline
{\em annual\+\_\+demand\+\_\+projections} & A vector of annual demand projections. \\
\hline
{\em number\+\_\+of\+\_\+week\+\_\+demands} & The number of weekly demand entries. \\
\hline
{\em percent\+\_\+contingency\+\_\+fund\+\_\+contribution} & Percentage contribution to the contingency fund. \\
\hline
{\em contingency\+\_\+fund\+\_\+cap} & The maximum allowed value of the contingency fund. \\
\hline
{\em types\+Monthly\+Demand\+Fraction} & A reference to a vector of vectors containing monthly demand fractions by water type. Table of size 12 (months in year) by number of consumer tiers with the fraction of the total demand consumed by each tier in each month of the year. The last column must be the fraction of the demand treated as sewage. The summation of all number in a row but the last one, therefore, must sum to 1. ~\newline
\\
\hline
{\em types\+Monthly\+Water\+Price} & A reference to a vector of vectors containing monthly water prices by tier type. The last column is the price charged for waste water treatment. \\
\hline
{\em wwtp\+\_\+discharge\+\_\+rule} & The rule governing wastewater treatment plant discharges. A 53-\/week-\/long time series according to which fractions of sewage is discharged in different water sources (normally one for each W\+W\+TP). \\
\hline
{\em demand\+\_\+buffer} & A buffer for smoothing demand projections. \\
\hline
{\em rof\+\_\+infra\+\_\+construction\+\_\+order} & A vector defining the R\+O\+F-\/based construction order for infrastructure. \\
\hline
{\em demand\+\_\+infra\+\_\+construction\+\_\+order} & A vector defining the demand-\/based construction order for infrastructure. \\
\hline
{\em infra\+\_\+construction\+\_\+triggers} & A vector of construction triggers for infrastructure projects. \\
\hline
{\em infra\+\_\+discount\+\_\+rate} & The discount rate applied to infrastructure construction costs. \\
\hline
{\em bond\+\_\+term} & The term of infrastructure bonds. \\
\hline
{\em bond\+\_\+interest\+\_\+rate} & The interest rate for infrastructure bonds. \\
\hline
{\em demand\+\_\+projection\+\_\+forecast\+\_\+length} & Length of the forecast period for demand projections (in weeks). \\
\hline
{\em demand\+\_\+projection\+\_\+historical\+\_\+period\+\_\+to\+\_\+use} & Historical period (in weeks) used for demand projection. \\
\hline
{\em demand\+\_\+projection\+\_\+reprojection\+\_\+frequency} & Frequency (in weeks) for updating demand projections.\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::invalid\+\_\+argument} & If both construction order vectors are empty. \\
\hline
{\em std\+::invalid\+\_\+argument} & If the infrastructure discount rate is less than or equal to zero.\\
\hline
\end{DoxyExceptions}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classUtility_a0189edb631c9596f094b15afeeb934fd}{Utility\+::calculate\+Weekly\+Average\+Water\+Prices}} for details on the computation of weekly average water prices. 

\mbox{\hyperlink{classInfrastructureManager}{Infrastructure\+Manager}} for details on infrastructure construction management. 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_a44eaefb71f90fcf28143e3e919074a97}\label{classUtility_a44eaefb71f90fcf28143e3e919074a97}} 
\index{Utility@{Utility}!Utility@{Utility}}
\index{Utility@{Utility}!Utility@{Utility}}
\subsubsection{\texorpdfstring{Utility()}{Utility()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily Utility\+::\+Utility (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classUtility}{Utility}} \&}]{utility }\end{DoxyParamCaption})}



Copy constructor for the \mbox{\hyperlink{classUtility}{Utility}} class. 

This constructor creates a new \mbox{\hyperlink{classUtility}{Utility}} object by copying the attributes and state from an existing \mbox{\hyperlink{classUtility}{Utility}} instance. It ensures that the infrastructure construction manager is properly reconnected to the new object\textquotesingle{}s water source vectors. The water\+\_\+sources vector is cleared after the copy to avoid duplicate or conflicting resources.


\begin{DoxyParams}{Parameters}
{\em utility} & The \mbox{\hyperlink{classUtility}{Utility}} object to copy. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classUtility_aecfe4b31e39b00555158a2d8288b874a}\label{classUtility_aecfe4b31e39b00555158a2d8288b874a}} 
\index{Utility@{Utility}!````~Utility@{$\sim$\+Utility}}
\index{````~Utility@{$\sim$\+Utility}!Utility@{Utility}}
\subsubsection{\texorpdfstring{$\sim$\+Utility()}{~Utility()}}
{\footnotesize\ttfamily Utility\+::$\sim$\+Utility (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Destructor for the \mbox{\hyperlink{classUtility}{Utility}} class. 

Cleans up resources associated with the \mbox{\hyperlink{classUtility}{Utility}} instance. Specifically, clears the water\+\_\+sources vector to release any dynamically allocated water source objects or references. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classUtility_a2eaf70b4492ab8ec0e0420d6b7c3b821}\label{classUtility_a2eaf70b4492ab8ec0e0420d6b7c3b821}} 
\index{Utility@{Utility}!add\+Insurance\+Payout@{add\+Insurance\+Payout}}
\index{add\+Insurance\+Payout@{add\+Insurance\+Payout}!Utility@{Utility}}
\subsubsection{\texorpdfstring{add\+Insurance\+Payout()}{addInsurancePayout()}}
{\footnotesize\ttfamily void Utility\+::add\+Insurance\+Payout (\begin{DoxyParamCaption}\item[{double}]{payout\+\_\+value }\end{DoxyParamCaption})}



Adds an insurance payout to the contingency fund. 

This function increases the contingency fund by the specified payout value and records the insurance payout. The payout value is added directly to the fund and also stored for future reference.


\begin{DoxyParams}{Parameters}
{\em payout\+\_\+value} & The amount of the insurance payout to be added to the contingency fund.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_aebbfd65c13e86cfeda8bdfbcc6712587}\label{classUtility_aebbfd65c13e86cfeda8bdfbcc6712587}} 
\index{Utility@{Utility}!add\+Water\+Source@{add\+Water\+Source}}
\index{add\+Water\+Source@{add\+Water\+Source}!Utility@{Utility}}
\subsubsection{\texorpdfstring{add\+Water\+Source()}{addWaterSource()}}
{\footnotesize\ttfamily void Utility\+::add\+Water\+Source (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classWaterSource}{Water\+Source}} $\ast$}]{water\+\_\+source }\end{DoxyParamCaption})}



Connect a water source to the utility. 

This function adds a new water source to the utility\textquotesingle{}s water sources list and updates the infrastructure construction manager accordingly. It also makes the water source online if certain conditions are met, such as having allocated treatment capacity or being an intake.

This function performs checks to ensure that the water source is correctly added to the utility\textquotesingle{}s system, resizing the water\+\_\+sources vector if necessary to accommodate the new source. It then updates the water source\textquotesingle{}s status in the infrastructure construction manager and adjusts the utility\textquotesingle{}s total capacity metrics.


\begin{DoxyParams}{Parameters}
{\em water\+\_\+source} & Pointer to the \mbox{\hyperlink{classWaterSource}{Water\+Source}} object to be added.\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classUtility_a0674d7d95f4d6595f7e01817a4d84a98}{check\+Errors\+Add\+Water\+Source\+Online}} 

infrastructure\+\_\+construction\+\_\+manager 

\mbox{\hyperlink{classWaterSource}{Water\+Source}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_a5bae4fe8c3f0c782f0cdf5d14b7b92a7}\label{classUtility_a5bae4fe8c3f0c782f0cdf5d14b7b92a7}} 
\index{Utility@{Utility}!calculate\+Annual\+Average\+Weekly\+Demand@{calculate\+Annual\+Average\+Weekly\+Demand}}
\index{calculate\+Annual\+Average\+Weekly\+Demand@{calculate\+Annual\+Average\+Weekly\+Demand}!Utility@{Utility}}
\subsubsection{\texorpdfstring{calculate\+Annual\+Average\+Weekly\+Demand()}{calculateAnnualAverageWeeklyDemand()}}
{\footnotesize\ttfamily vector$<$double$>$ Utility\+::calculate\+Annual\+Average\+Weekly\+Demand (\begin{DoxyParamCaption}\item[{vector$<$ double $>$ $\ast$}]{demands }\end{DoxyParamCaption})}



Calculates the annual average weekly demand for each year. 

This function computes the average weekly demand for each year based on the input demand series. It assumes the demand data is provided for each week of the year, and calculates the annual average by dividing the total demand for each year by the number of weeks in the year.


\begin{DoxyParams}{Parameters}
{\em demands} & A pointer to a vector of weekly demand values. The size of this vector should be a multiple of the number of weeks in a year (W\+E\+E\+K\+S\+\_\+\+I\+N\+\_\+\+Y\+E\+AR).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
vector$<$double$>$ A vector containing the average weekly demand for each year. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a38381b003d13986e37757dfea683f7f9}\label{classUtility_a38381b003d13986e37757dfea683f7f9}} 
\index{Utility@{Utility}!calculate\+Current\+To\+Next\+Year\+Demand\+Delta@{calculate\+Current\+To\+Next\+Year\+Demand\+Delta}}
\index{calculate\+Current\+To\+Next\+Year\+Demand\+Delta@{calculate\+Current\+To\+Next\+Year\+Demand\+Delta}!Utility@{Utility}}
\subsubsection{\texorpdfstring{calculate\+Current\+To\+Next\+Year\+Demand\+Delta()}{calculateCurrentToNextYearDemandDelta()}}
{\footnotesize\ttfamily double Utility\+::calculate\+Current\+To\+Next\+Year\+Demand\+Delta (\begin{DoxyParamCaption}\item[{int}]{current\+\_\+year }\end{DoxyParamCaption})}



Calculate the demand difference between the current year and the next year. 

This function calculates the delta (difference) in demand between the current year and the next year by subtracting the recorded demand for the current year from the projected demand for the next year. This value is used to update water treatment plant (W\+TP) allocations for the upcoming year.

This function uses annual\+\_\+demand\+\_\+projections to retrieve the projected demand for the next year and compares it with the current\+\_\+year\+\_\+recorded\+\_\+demand to compute the change in demand.


\begin{DoxyParams}{Parameters}
{\em current\+\_\+year} & The index representing the current year.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double The delta in demand between the next year\textquotesingle{}s projection and the current year\textquotesingle{}s recorded demand.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
annual\+\_\+demand\+\_\+projections, current\+\_\+year\+\_\+recorded\+\_\+demand 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_a10f96b2f34ba7e6e12a8e8fb98b8534a}\label{classUtility_a10f96b2f34ba7e6e12a8e8fb98b8534a}} 
\index{Utility@{Utility}!calculate\+Demand\+Estimate\+From\+Projection@{calculate\+Demand\+Estimate\+From\+Projection}}
\index{calculate\+Demand\+Estimate\+From\+Projection@{calculate\+Demand\+Estimate\+From\+Projection}!Utility@{Utility}}
\subsubsection{\texorpdfstring{calculate\+Demand\+Estimate\+From\+Projection()}{calculateDemandEstimateFromProjection()}}
{\footnotesize\ttfamily void Utility\+::calculate\+Demand\+Estimate\+From\+Projection (\begin{DoxyParamCaption}\item[{int}]{year,  }\item[{bool}]{reproject\+\_\+demand }\end{DoxyParamCaption})}



Calculates the estimated future demand based on projections and historical data. 

This function is used in lt\+R\+OF calculations to estimate the demand for 5 years ahead on the utility\textquotesingle{}s historical demand data and the projected demand. The demand is reprojected by calculating the average annual growth rate over the last few years if at least 5 years or prior data is available. To be used along with demand buffer.

The demand projection is updated if the re-\/projection conditions are met.


\begin{DoxyParams}{Parameters}
{\em week} & The current week in the simulation. \\
\hline
{\em reproject\+\_\+demand} & A flag indicating whether the demand should be reprojected.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em logic\+\_\+error} & if the forecast length exceeds the available projection data.\\
\hline
\end{DoxyExceptions}
\begin{DoxySeeAlso}{See also}
annual\+\_\+demand\+\_\+projections, demand\+\_\+projection\+\_\+forecast\+\_\+length, set\+Demand\+\_\+projection\+\_\+parameters 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_a5feecc73d561de022eb6ba3c657b3dbc}\label{classUtility_a5feecc73d561de022eb6ba3c657b3dbc}} 
\index{Utility@{Utility}!calculate\+Wastewater\+\_\+releases@{calculate\+Wastewater\+\_\+releases}}
\index{calculate\+Wastewater\+\_\+releases@{calculate\+Wastewater\+\_\+releases}!Utility@{Utility}}
\subsubsection{\texorpdfstring{calculate\+Wastewater\+\_\+releases()}{calculateWastewater\_releases()}}
{\footnotesize\ttfamily void Utility\+::calculate\+Wastewater\+\_\+releases (\begin{DoxyParamCaption}\item[{int}]{week,  }\item[{double $\ast$}]{discharges }\end{DoxyParamCaption})}



Calculate wastewater releases for a given week and update discharge values. 

This function calculates wastewater discharges based on the current week\textquotesingle{}s demand and updates the discharge values for each source in the wwtp\+\_\+discharge\+\_\+rule. The demand\+\_\+offset is accounted for when calculating the discharges.

It iterates over the wastewater treatment plant (W\+W\+TP) discharge rules, applying the relevant dependent variables to calculate the discharge for each source and updating the total wastewater discharge.


\begin{DoxyParams}{Parameters}
{\em week} & The week for which the calculation is being performed. \\
\hline
{\em discharges} & A pointer to an array where the discharge values for each source will be updated. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classUtility_a0189edb631c9596f094b15afeeb934fd}\label{classUtility_a0189edb631c9596f094b15afeeb934fd}} 
\index{Utility@{Utility}!calculate\+Weekly\+Average\+Water\+Prices@{calculate\+Weekly\+Average\+Water\+Prices}}
\index{calculate\+Weekly\+Average\+Water\+Prices@{calculate\+Weekly\+Average\+Water\+Prices}!Utility@{Utility}}
\subsubsection{\texorpdfstring{calculate\+Weekly\+Average\+Water\+Prices()}{calculateWeeklyAverageWaterPrices()}}
{\footnotesize\ttfamily void Utility\+::calculate\+Weekly\+Average\+Water\+Prices (\begin{DoxyParamCaption}\item[{const vector$<$ vector$<$ double $>$$>$ \&}]{types\+Monthly\+Demand\+Fraction,  }\item[{const vector$<$ vector$<$ double $>$$>$ \&}]{types\+Monthly\+Water\+Price }\end{DoxyParamCaption})}



Calculates average water price from consumer types and respective prices. 

This function calculates the weekly average water prices based on monthly water prices and the demand fraction for each consumer type. It computes the average monthly water price for each tier of consumers and then converts it into weekly prices by evenly distributing the monthly price across the weeks of the month.


\begin{DoxyParams}{Parameters}
{\em types\+Monthly\+Demand\+Fraction} & (const vector$<$vector$<$double$>$$>$\&) A 2D vector containing the demand fraction for each consumer type across the months. \\
\hline
{\em types\+Monthly\+Water\+Price} & (const vector$<$vector$<$double$>$$>$\&) A 2D vector containing the water prices for each consumer type across the months.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::invalid\+\_\+argument} & if there is a mismatch in the dimensions of the input data or other validation errors from price\+Calculation\+Error\+Checking.\\
\hline
\end{DoxyExceptions}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classUtility_a01ec91140b9d23bf5b03e0fc55bced0d}{price\+Calculation\+Error\+Checking}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_a54c8621f2cce5257343f8dc6bfd76cff}\label{classUtility_a54c8621f2cce5257343f8dc6bfd76cff}} 
\index{Utility@{Utility}!calculate\+Weekly\+Peaking\+Factor@{calculate\+Weekly\+Peaking\+Factor}}
\index{calculate\+Weekly\+Peaking\+Factor@{calculate\+Weekly\+Peaking\+Factor}!Utility@{Utility}}
\subsubsection{\texorpdfstring{calculate\+Weekly\+Peaking\+Factor()}{calculateWeeklyPeakingFactor()}}
{\footnotesize\ttfamily vector$<$double$>$ Utility\+::calculate\+Weekly\+Peaking\+Factor (\begin{DoxyParamCaption}\item[{vector$<$ double $>$ $\ast$}]{demands }\end{DoxyParamCaption})}



Calculates the weekly peaking factor for demand. 

This function calculates the peaking factor for each week over multiple years based on the demand data. The factor is determined by comparing each week\textquotesingle{}s demand to the average demand of the corresponding year, and then averaging over all years.


\begin{DoxyParams}{Parameters}
{\em demands} & A pointer to a vector containing demand values over multiple years.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
vector$<$double$>$ A vector of weekly peaking factors. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a0674d7d95f4d6595f7e01817a4d84a98}\label{classUtility_a0674d7d95f4d6595f7e01817a4d84a98}} 
\index{Utility@{Utility}!check\+Errors\+Add\+Water\+Source\+Online@{check\+Errors\+Add\+Water\+Source\+Online}}
\index{check\+Errors\+Add\+Water\+Source\+Online@{check\+Errors\+Add\+Water\+Source\+Online}!Utility@{Utility}}
\subsubsection{\texorpdfstring{check\+Errors\+Add\+Water\+Source\+Online()}{checkErrorsAddWaterSourceOnline()}}
{\footnotesize\ttfamily void Utility\+::check\+Errors\+Add\+Water\+Source\+Online (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classWaterSource}{Water\+Source}} $\ast$}]{water\+\_\+source }\end{DoxyParamCaption})}



Checks for errors when adding a water source to the utility. 

This function verifies if a water source with the same ID already exists in the utility\textquotesingle{}s water source list. If a duplicate is found, it throws an invalid\+\_\+argument exception. It helps ensure that each water source added to the utility has a unique ID. 
\begin{DoxyParams}{Parameters}
{\em water\+\_\+source} & A pointer to the water source being added to the utility.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::invalid\+\_\+argument} & If the water source has a duplicate ID in the utility. \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classUtility_aa770f28c76e84747bbd643f55dbc4dd5}\label{classUtility_aa770f28c76e84747bbd643f55dbc4dd5}} 
\index{Utility@{Utility}!clear\+Water\+Sources@{clear\+Water\+Sources}}
\index{clear\+Water\+Sources@{clear\+Water\+Sources}!Utility@{Utility}}
\subsubsection{\texorpdfstring{clear\+Water\+Sources()}{clearWaterSources()}}
{\footnotesize\ttfamily void Utility\+::clear\+Water\+Sources (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Clears all water sources associated with the utility. 

This function removes all entries from the water\+\_\+sources container, effectively disassociating all water sources from the utility. This operation will clear any stored references to water sources and reset the state of the utility with regard to water source management.

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a360c97e7dd372f3ff57f94314743e53d}\label{classUtility_a360c97e7dd372f3ff57f94314743e53d}} 
\index{Utility@{Utility}!comp\+By\+Id@{comp\+By\+Id}}
\index{comp\+By\+Id@{comp\+By\+Id}!Utility@{Utility}}
\subsubsection{\texorpdfstring{comp\+By\+Id()}{compById()}}
{\footnotesize\ttfamily static bool Utility\+::comp\+By\+Id (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classUtility}{Utility}} $\ast$}]{a,  }\item[{\mbox{\hyperlink{classUtility}{Utility}} $\ast$}]{b }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Compares two \mbox{\hyperlink{classUtility}{Utility}} objects based on their I\+Ds. 


\begin{DoxyParams}{Parameters}
{\em a} & A pointer to the first \mbox{\hyperlink{classUtility}{Utility}} object. \\
\hline
{\em b} & A pointer to the second \mbox{\hyperlink{classUtility}{Utility}} object.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the id of the first \mbox{\hyperlink{classUtility}{Utility}} object is less than the id of the second \mbox{\hyperlink{classUtility}{Utility}} object, false otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a7daa5b948a370eca83bc8c63890f6b19}\label{classUtility_a7daa5b948a370eca83bc8c63890f6b19}} 
\index{Utility@{Utility}!force\+Infrastructure\+Construction@{force\+Infrastructure\+Construction}}
\index{force\+Infrastructure\+Construction@{force\+Infrastructure\+Construction}!Utility@{Utility}}
\subsubsection{\texorpdfstring{force\+Infrastructure\+Construction()}{forceInfrastructureConstruction()}}
{\footnotesize\ttfamily void Utility\+::force\+Infrastructure\+Construction (\begin{DoxyParamCaption}\item[{int}]{week,  }\item[{vector$<$ int $>$}]{new\+\_\+infra\+\_\+triggered }\end{DoxyParamCaption})}



Forces the construction of triggered infrastructure and issues the corresponding bonds. 

This function initiates the construction of infrastructure that has been triggered for the specified week. It also ensures that bonds are issued for each triggered infrastructure project. If the project is part of a sequence, capital costs will be adjusted accordingly before bond issuance.

N\+O\+TE\+: This function is useful when there is a need to immediately force the construction of infrastructure regardless of other conditions or timelines.


\begin{DoxyParams}{Parameters}
{\em week} & The week during which infrastructure construction is forced to begin.\\
\hline
{\em new\+\_\+infra\+\_\+triggered} & A vector containing the I\+Ds of the newly triggered infrastructure projects.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::out\+\_\+of\+\_\+range} & if any of the elements in new\+\_\+infra\+\_\+triggered are invalid or do not correspond to existing infrastructure projects.\\
\hline
\end{DoxyExceptions}
\begin{DoxySeeAlso}{See also}
infrastructure\+\_\+construction\+\_\+manager 

\mbox{\hyperlink{classUtility_a152ceea2917ea7715e8fbf8aff24390f}{issue\+Bond}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_a70f24df5a7d4346ad0ebccd9b30960d3}\label{classUtility_a70f24df5a7d4346ad0ebccd9b30960d3}} 
\index{Utility@{Utility}!get\+Available\+Volume\+To\+Capacity\+Ratio@{get\+Available\+Volume\+To\+Capacity\+Ratio}}
\index{get\+Available\+Volume\+To\+Capacity\+Ratio@{get\+Available\+Volume\+To\+Capacity\+Ratio}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Available\+Volume\+To\+Capacity\+Ratio()}{getAvailableVolumeToCapacityRatio()}}
{\footnotesize\ttfamily double Utility\+::get\+Available\+Volume\+To\+Capacity\+Ratio (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns the ratio of available volume to total storage capacity. 

This function calculates the ratio of the current available volume (the volume of water that can still be utilized or stored) to the total storage capacity of the utility. This ratio provides an indication of how much capacity is currently available compared to the total storage potential.

\begin{DoxyReturn}{Returns}
double The ratio of available volume to total storage capacity. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_ab396bc312d5e5ddc0554138060a8a4d3}\label{classUtility_ab396bc312d5e5ddc0554138060a8a4d3}} 
\index{Utility@{Utility}!get\+Contingency\+\_\+fund@{get\+Contingency\+\_\+fund}}
\index{get\+Contingency\+\_\+fund@{get\+Contingency\+\_\+fund}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Contingency\+\_\+fund()}{getContingency\_fund()}}
{\footnotesize\ttfamily double Utility\+::get\+Contingency\+\_\+fund (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieves the current contingency fund balance. 

This function returns the current balance of the utility\textquotesingle{}s contingency fund, which is used to cover unexpected costs such as water shortages, transfer costs, or other financial needs related to utility operations.

\begin{DoxyReturn}{Returns}
double The current contingency fund balance. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_af1745fc1364e7a03dc561dd9832b7db4}\label{classUtility_af1745fc1364e7a03dc561dd9832b7db4}} 
\index{Utility@{Utility}!get\+Current\+\_\+contingency\+\_\+fund\+\_\+contribution@{get\+Current\+\_\+contingency\+\_\+fund\+\_\+contribution}}
\index{get\+Current\+\_\+contingency\+\_\+fund\+\_\+contribution@{get\+Current\+\_\+contingency\+\_\+fund\+\_\+contribution}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Current\+\_\+contingency\+\_\+fund\+\_\+contribution()}{getCurrent\_contingency\_fund\_contribution()}}
{\footnotesize\ttfamily double Utility\+::get\+Current\+\_\+contingency\+\_\+fund\+\_\+contribution (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Gets the current contribution to the contingency fund. 

This function returns the current contribution made to the utility\textquotesingle{}s contingency fund. The fund contribution is calculated based on various factors such as revenue losses, transfer costs, and other operational variables that affect the financial health of the utility.

\begin{DoxyReturn}{Returns}
double The current contribution to the contingency fund. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_ab0e6984f9bad9d5d2a756f015216f54f}\label{classUtility_ab0e6984f9bad9d5d2a756f015216f54f}} 
\index{Utility@{Utility}!get\+Current\+\_\+debt\+\_\+payment@{get\+Current\+\_\+debt\+\_\+payment}}
\index{get\+Current\+\_\+debt\+\_\+payment@{get\+Current\+\_\+debt\+\_\+payment}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Current\+\_\+debt\+\_\+payment()}{getCurrent\_debt\_payment()}}
{\footnotesize\ttfamily double Utility\+::get\+Current\+\_\+debt\+\_\+payment (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Gets the current debt payment for the utility. 

This function returns the current debt payment that the utility must make for its outstanding bonds. The debt payment is calculated based on the terms of the issued bonds and is used to manage the utility\textquotesingle{}s financial obligations.

\begin{DoxyReturn}{Returns}
double The current debt payment for the utility. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a407debda53abcf80ebd290414c1bf5bc}\label{classUtility_a407debda53abcf80ebd290414c1bf5bc}} 
\index{Utility@{Utility}!get\+Current\+\_\+debt\+\_\+payment\+\_\+present\+\_\+valued@{get\+Current\+\_\+debt\+\_\+payment\+\_\+present\+\_\+valued}}
\index{get\+Current\+\_\+debt\+\_\+payment\+\_\+present\+\_\+valued@{get\+Current\+\_\+debt\+\_\+payment\+\_\+present\+\_\+valued}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Current\+\_\+debt\+\_\+payment\+\_\+present\+\_\+valued()}{getCurrent\_debt\_payment\_present\_valued()}}
{\footnotesize\ttfamily double Utility\+::get\+Current\+\_\+debt\+\_\+payment\+\_\+present\+\_\+valued (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieves the current present-\/valued debt payment. 

This function returns the present-\/valued debt payment for the current week as calculated by the update\+Current\+\_\+present\+\_\+value\+\_\+debt\+\_\+payment function.

\begin{DoxyReturn}{Returns}
double The current present-\/valued debt payment. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a67627ab2e5f526a979099bb6b2d2f13f}\label{classUtility_a67627ab2e5f526a979099bb6b2d2f13f}} 
\index{Utility@{Utility}!get\+Current\+\_\+year\+\_\+demand\+\_\+record@{get\+Current\+\_\+year\+\_\+demand\+\_\+record}}
\index{get\+Current\+\_\+year\+\_\+demand\+\_\+record@{get\+Current\+\_\+year\+\_\+demand\+\_\+record}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Current\+\_\+year\+\_\+demand\+\_\+record()}{getCurrent\_year\_demand\_record()}}
{\footnotesize\ttfamily double Utility\+::get\+Current\+\_\+year\+\_\+demand\+\_\+record (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Gets the recorded demand for the current year. 

This function returns the actual demand recorded for the current year, which is used for demand projections and calculations. The value is updated at the end of each year.

\begin{DoxyReturn}{Returns}
The recorded demand for the current year. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_ab62d06b45773fb9e5574a339ac0c449e}\label{classUtility_ab62d06b45773fb9e5574a339ac0c449e}} 
\index{Utility@{Utility}!get\+Demand\+\_\+infra\+\_\+construction\+\_\+order@{get\+Demand\+\_\+infra\+\_\+construction\+\_\+order}}
\index{get\+Demand\+\_\+infra\+\_\+construction\+\_\+order@{get\+Demand\+\_\+infra\+\_\+construction\+\_\+order}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Demand\+\_\+infra\+\_\+construction\+\_\+order()}{getDemand\_infra\_construction\_order()}}
{\footnotesize\ttfamily const vector$<$int$>$\& Utility\+::get\+Demand\+\_\+infra\+\_\+construction\+\_\+order (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieves the demand-\/based infrastructure construction order. 

This function returns the order in which infrastructure should be constructed, based on the demand requirements for the utility. It helps in prioritizing construction efforts according to demand.

\begin{DoxyReturn}{Returns}
const vector$<$int$>$\& A constant reference to the vector representing the infrastructure construction order based on demand. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a04a400d8bfb89214632f9afca8c4eef5}\label{classUtility_a04a400d8bfb89214632f9afca8c4eef5}} 
\index{Utility@{Utility}!get\+Demand\+\_\+multiplier@{get\+Demand\+\_\+multiplier}}
\index{get\+Demand\+\_\+multiplier@{get\+Demand\+\_\+multiplier}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Demand\+\_\+multiplier()}{getDemand\_multiplier()}}
{\footnotesize\ttfamily double Utility\+::get\+Demand\+\_\+multiplier (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Gets the demand multiplier for the utility. 

This function returns the current demand multiplier, which is a factor that adjusts the demand calculations for the utility. It may be used to simulate changes in water consumption patterns, such as demand increases or decreases due to pricing, conservation efforts, or other factors.

\begin{DoxyReturn}{Returns}
double The current demand multiplier. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_acdd0e90d638d4a127a06787fe427ab59}\label{classUtility_acdd0e90d638d4a127a06787fe427ab59}} 
\index{Utility@{Utility}!get\+Demand\+\_\+offset@{get\+Demand\+\_\+offset}}
\index{get\+Demand\+\_\+offset@{get\+Demand\+\_\+offset}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Demand\+\_\+offset()}{getDemand\_offset()}}
{\footnotesize\ttfamily double Utility\+::get\+Demand\+\_\+offset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns the current demand offset for the utility. 

This function retrieves the value of the demand offset, which represents any adjustments made to the utility\textquotesingle{}s demand due to factors such as policy or agreements. It is used in calculating the utility\textquotesingle{}s total demand and pricing strategies.

\begin{DoxyReturn}{Returns}
double The current demand offset. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a27dc0aeabdcb9fdb5a7d388e67e905f8}\label{classUtility_a27dc0aeabdcb9fdb5a7d388e67e905f8}} 
\index{Utility@{Utility}!get\+Drought\+\_\+mitigation\+\_\+cost@{get\+Drought\+\_\+mitigation\+\_\+cost}}
\index{get\+Drought\+\_\+mitigation\+\_\+cost@{get\+Drought\+\_\+mitigation\+\_\+cost}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Drought\+\_\+mitigation\+\_\+cost()}{getDrought\_mitigation\_cost()}}
{\footnotesize\ttfamily double Utility\+::get\+Drought\+\_\+mitigation\+\_\+cost (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Gets the current cost for drought mitigation. 

This function returns the current cost for drought mitigation efforts, which are calculated based on factors like revenue losses, transfer costs, insurance payouts, and other variables affecting the utility\textquotesingle{}s drought response.

\begin{DoxyReturn}{Returns}
double The current drought mitigation cost. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a9ca028b10b1c466e010dcacca6a0b24e}\label{classUtility_a9ca028b10b1c466e010dcacca6a0b24e}} 
\index{Utility@{Utility}!get\+Future\+\_\+demand\+\_\+estimate@{get\+Future\+\_\+demand\+\_\+estimate}}
\index{get\+Future\+\_\+demand\+\_\+estimate@{get\+Future\+\_\+demand\+\_\+estimate}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Future\+\_\+demand\+\_\+estimate()}{getFuture\_demand\_estimate()}}
{\footnotesize\ttfamily double Utility\+::get\+Future\+\_\+demand\+\_\+estimate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Gets the estimated future demand. 

This function returns the projected demand for a future year, calculated based on historical demand growth rates or pre-\/defined projections. It is used for long-\/term risk of failure (L\+T\+R\+OF) calculations and planning.

\begin{DoxyReturn}{Returns}
The estimated demand for a future year. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a2903344b317f0949014c687d285b64b6}\label{classUtility_a2903344b317f0949014c687d285b64b6}} 
\index{Utility@{Utility}!get\+Gross\+Revenue@{get\+Gross\+Revenue}}
\index{get\+Gross\+Revenue@{get\+Gross\+Revenue}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Gross\+Revenue()}{getGrossRevenue()}}
{\footnotesize\ttfamily double Utility\+::get\+Gross\+Revenue (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieves the gross revenue of the utility. 

This function returns the current gross revenue of the utility. Gross revenue refers to the total revenue generated before any expenses or deductions, such as operational costs or taxes, are subtracted.

\begin{DoxyReturn}{Returns}
double The current gross revenue of the utility.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
Utility\+::set\+Gross\+Revenue 

Utility\+::calculate\+Gross\+Revenue 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_abe05c15d0ea2efec00c00a8ee418b53b}\label{classUtility_abe05c15d0ea2efec00c00a8ee418b53b}} 
\index{Utility@{Utility}!get\+Infrastructure\+\_\+built@{get\+Infrastructure\+\_\+built}}
\index{get\+Infrastructure\+\_\+built@{get\+Infrastructure\+\_\+built}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Infrastructure\+\_\+built()}{getInfrastructure\_built()}}
{\footnotesize\ttfamily const vector$<$int$>$ Utility\+::get\+Infrastructure\+\_\+built (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieves the infrastructure that was built in the last week. 

This function returns a list of the infrastructure items that were completed during the most recent week, as tracked by the infrastructure construction manager.

\begin{DoxyReturn}{Returns}
A constant reference to a vector of integers representing the I\+Ds of the infrastructure items that were completed in the last week.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
infrastructure\+\_\+construction\+\_\+manager.\+get\+Infra\+\_\+built\+\_\+last\+\_\+week 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_a0e8ecb5bbf910de9abecbef06c1662e6}\label{classUtility_a0e8ecb5bbf910de9abecbef06c1662e6}} 
\index{Utility@{Utility}!get\+Infrastructure\+\_\+construction\+\_\+manager@{get\+Infrastructure\+\_\+construction\+\_\+manager}}
\index{get\+Infrastructure\+\_\+construction\+\_\+manager@{get\+Infrastructure\+\_\+construction\+\_\+manager}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Infrastructure\+\_\+construction\+\_\+manager()}{getInfrastructure\_construction\_manager()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classInfrastructureManager}{Infrastructure\+Manager}}\& Utility\+::get\+Infrastructure\+\_\+construction\+\_\+manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns the infrastructure construction manager for the utility. 

This function provides access to the infrastructure construction manager, which handles the planning and management of infrastructure construction within the utility. This manager is responsible for managing the development of new infrastructure projects, including water sources, storage, and treatment facilities.

\begin{DoxyReturn}{Returns}
const \mbox{\hyperlink{classInfrastructureManager}{Infrastructure\+Manager}}\& The infrastructure construction manager.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
set\+Infrastructure\+\_\+construction\+\_\+manager 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_ab806fee785718cbc82b1963316785448}\label{classUtility_ab806fee785718cbc82b1963316785448}} 
\index{Utility@{Utility}!get\+Infrastructure\+\_\+net\+\_\+present\+\_\+cost@{get\+Infrastructure\+\_\+net\+\_\+present\+\_\+cost}}
\index{get\+Infrastructure\+\_\+net\+\_\+present\+\_\+cost@{get\+Infrastructure\+\_\+net\+\_\+present\+\_\+cost}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Infrastructure\+\_\+net\+\_\+present\+\_\+cost()}{getInfrastructure\_net\_present\_cost()}}
{\footnotesize\ttfamily double Utility\+::get\+Infrastructure\+\_\+net\+\_\+present\+\_\+cost (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Gets the net present cost of infrastructure for the utility. 

This function returns the current net present value (N\+PV) of the infrastructure for the utility. The net present cost represents the total cost of the infrastructure investments, accounting for both construction and operational costs, discounted over time.

\begin{DoxyReturn}{Returns}
double The net present cost of the utility\textquotesingle{}s infrastructure. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_af789e394a867f007b681c68af3fb3349}\label{classUtility_af789e394a867f007b681c68af3fb3349}} 
\index{Utility@{Utility}!get\+Insurance\+\_\+payout@{get\+Insurance\+\_\+payout}}
\index{get\+Insurance\+\_\+payout@{get\+Insurance\+\_\+payout}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Insurance\+\_\+payout()}{getInsurance\_payout()}}
{\footnotesize\ttfamily double Utility\+::get\+Insurance\+\_\+payout (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieves the insurance payout value. 

This function returns the amount of insurance payout that has been recorded. It can be used to check how much insurance the utility has received, typically as a result of an event triggering an insurance claim.

\begin{DoxyReturn}{Returns}
double The amount of the insurance payout. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_aa9a26e9b3b5af555c8278330c9f4a468}\label{classUtility_aa9a26e9b3b5af555c8278330c9f4a468}} 
\index{Utility@{Utility}!get\+Insurance\+\_\+purchase@{get\+Insurance\+\_\+purchase}}
\index{get\+Insurance\+\_\+purchase@{get\+Insurance\+\_\+purchase}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Insurance\+\_\+purchase()}{getInsurance\_purchase()}}
{\footnotesize\ttfamily double Utility\+::get\+Insurance\+\_\+purchase (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieves the insurance purchase value. 

This function returns the amount of insurance purchased by the utility. It can be used to check the total cost of insurance purchased by the utility, typically used for mitigating financial risk due to adverse events.

\begin{DoxyReturn}{Returns}
double The amount of insurance purchased. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a6ac587bf46d7147f9722dc4c89abbb3b}\label{classUtility_a6ac587bf46d7147f9722dc4c89abbb3b}} 
\index{Utility@{Utility}!get\+Long\+\_\+term\+\_\+risk\+\_\+of\+\_\+failure@{get\+Long\+\_\+term\+\_\+risk\+\_\+of\+\_\+failure}}
\index{get\+Long\+\_\+term\+\_\+risk\+\_\+of\+\_\+failure@{get\+Long\+\_\+term\+\_\+risk\+\_\+of\+\_\+failure}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Long\+\_\+term\+\_\+risk\+\_\+of\+\_\+failure()}{getLong\_term\_risk\_of\_failure()}}
{\footnotesize\ttfamily double Utility\+::get\+Long\+\_\+term\+\_\+risk\+\_\+of\+\_\+failure (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Gets the actual long-\/term risk of failure (max of storage/treatment R\+OF). 


\begin{DoxyParams}{Parameters}
{\em risk\+\_\+of\+\_\+failure} & The max risk of failure between storage/treatment R\+O\+Fs.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double The long-\/term risk of failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a3c35a6860d65f40648238b2719377bf6}\label{classUtility_a3c35a6860d65f40648238b2719377bf6}} 
\index{Utility@{Utility}!get\+Long\+\_\+term\+\_\+storage\+\_\+risk\+\_\+of\+\_\+failure@{get\+Long\+\_\+term\+\_\+storage\+\_\+risk\+\_\+of\+\_\+failure}}
\index{get\+Long\+\_\+term\+\_\+storage\+\_\+risk\+\_\+of\+\_\+failure@{get\+Long\+\_\+term\+\_\+storage\+\_\+risk\+\_\+of\+\_\+failure}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Long\+\_\+term\+\_\+storage\+\_\+risk\+\_\+of\+\_\+failure()}{getLong\_term\_storage\_risk\_of\_failure()}}
{\footnotesize\ttfamily double Utility\+::get\+Long\+\_\+term\+\_\+storage\+\_\+risk\+\_\+of\+\_\+failure (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieves the long-\/term storage risk of failure. 

This function returns the long-\/term risk of failure for the storage component of the utility, which is set using the set\+Long\+Term\+Risk\+\_\+of\+\_\+failures function. This value is used in risk management and infrastructure planning calculations.

\begin{DoxyReturn}{Returns}
double The long-\/term storage risk of failure as a percentage. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_aade5d5dc1ea04641ef9f709542848316}\label{classUtility_aade5d5dc1ea04641ef9f709542848316}} 
\index{Utility@{Utility}!get\+Long\+\_\+term\+\_\+treatment\+\_\+risk\+\_\+of\+\_\+failure@{get\+Long\+\_\+term\+\_\+treatment\+\_\+risk\+\_\+of\+\_\+failure}}
\index{get\+Long\+\_\+term\+\_\+treatment\+\_\+risk\+\_\+of\+\_\+failure@{get\+Long\+\_\+term\+\_\+treatment\+\_\+risk\+\_\+of\+\_\+failure}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Long\+\_\+term\+\_\+treatment\+\_\+risk\+\_\+of\+\_\+failure()}{getLong\_term\_treatment\_risk\_of\_failure()}}
{\footnotesize\ttfamily double Utility\+::get\+Long\+\_\+term\+\_\+treatment\+\_\+risk\+\_\+of\+\_\+failure (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieves the long-\/term treatment risk of failure. 

This function returns the long-\/term risk of failure for the treatment component of the utility, which is set using the set\+Long\+Term\+Risk\+\_\+of\+\_\+failures function. This value is used in risk management and infrastructure planning calculations.

\begin{DoxyReturn}{Returns}
double The long-\/term treatment risk of failure as a percentage. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a93d865d309801d2b44687b2e14620386}\label{classUtility_a93d865d309801d2b44687b2e14620386}} 
\index{Utility@{Utility}!get\+Net\+\_\+stream\+\_\+inflow@{get\+Net\+\_\+stream\+\_\+inflow}}
\index{get\+Net\+\_\+stream\+\_\+inflow@{get\+Net\+\_\+stream\+\_\+inflow}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Net\+\_\+stream\+\_\+inflow()}{getNet\_stream\_inflow()}}
{\footnotesize\ttfamily double Utility\+::get\+Net\+\_\+stream\+\_\+inflow (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns the net stream inflow of the utility. 

This function retrieves the net stream inflow value, representing the amount of water entering the utility\textquotesingle{}s system from stream sources. The net stream inflow accounts for the total inflow minus any outflow, providing a measure of the system\textquotesingle{}s incoming water volume.

\begin{DoxyReturn}{Returns}
double The net stream inflow value. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_ade3427a88355631a3657f752ace874fc}\label{classUtility_ade3427a88355631a3657f752ace874fc}} 
\index{Utility@{Utility}!get\+Restricted\+Demand@{get\+Restricted\+Demand}}
\index{get\+Restricted\+Demand@{get\+Restricted\+Demand}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Restricted\+Demand()}{getRestrictedDemand()}}
{\footnotesize\ttfamily double Utility\+::get\+Restricted\+Demand (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieves the restricted demand for the utility. 

This function returns the restricted demand, which is the total water demand after restrictions or adjustments, such as limitations in water supply or surcharges, have been applied. This value represents the demand that the utility expects under restricted conditions.

\begin{DoxyReturn}{Returns}
double The current restricted demand value. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_ab43bfbf7db1b5dc2e554a584b19f9e3c}\label{classUtility_ab43bfbf7db1b5dc2e554a584b19f9e3c}} 
\index{Utility@{Utility}!get\+Risk\+\_\+of\+\_\+failure@{get\+Risk\+\_\+of\+\_\+failure}}
\index{get\+Risk\+\_\+of\+\_\+failure@{get\+Risk\+\_\+of\+\_\+failure}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Risk\+\_\+of\+\_\+failure()}{getRisk\_of\_failure()}}
{\footnotesize\ttfamily double Utility\+::get\+Risk\+\_\+of\+\_\+failure (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieves the short-\/term risk of failure for the utility. 

This function returns the short-\/term risk of failure value for the utility. It provides an indicator of the risk level for the utility\textquotesingle{}s operations in the near future, helping in decision-\/making and planning for infrastructure improvements or other mitigative actions.

\begin{DoxyReturn}{Returns}
double The short-\/term risk of failure of the utility.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classUtility_a68d5088951f6bdccbb7af18ea8f153f5}{Utility\+::set\+Risk\+\_\+of\+\_\+failure}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_a446e46d3dac749121db6cb839acf28dd}\label{classUtility_a446e46d3dac749121db6cb839acf28dd}} 
\index{Utility@{Utility}!get\+Rof\+\_\+infrastructure\+\_\+construction\+\_\+order@{get\+Rof\+\_\+infrastructure\+\_\+construction\+\_\+order}}
\index{get\+Rof\+\_\+infrastructure\+\_\+construction\+\_\+order@{get\+Rof\+\_\+infrastructure\+\_\+construction\+\_\+order}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Rof\+\_\+infrastructure\+\_\+construction\+\_\+order()}{getRof\_infrastructure\_construction\_order()}}
{\footnotesize\ttfamily const vector$<$int$>$\& Utility\+::get\+Rof\+\_\+infrastructure\+\_\+construction\+\_\+order (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieves the order of infrastructure construction based on risk of failure (R\+OF). 

This function returns a reference to a vector containing the order in which infrastructure should be constructed based on the risk of failure. The infrastructure construction order is determined by evaluating the R\+OF of different infrastructure elements, which informs the prioritization for construction.

\begin{DoxyReturn}{Returns}
A constant vector$<$int$>$ reference to a vector of integers representing the infrastructure construction order.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
infrastructure\+\_\+construction\+\_\+manager 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_affbfd106c7b5cdf6703d01d6ad838fde}\label{classUtility_affbfd106c7b5cdf6703d01d6ad838fde}} 
\index{Utility@{Utility}!get\+Sinusoidal\+Factor@{get\+Sinusoidal\+Factor}}
\index{get\+Sinusoidal\+Factor@{get\+Sinusoidal\+Factor}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Sinusoidal\+Factor()}{getSinusoidalFactor()}}
{\footnotesize\ttfamily double Utility\+::get\+Sinusoidal\+Factor (\begin{DoxyParamCaption}\item[{int}]{week,  }\item[{double}]{A,  }\item[{double}]{T,  }\item[{double}]{p }\end{DoxyParamCaption})}



Calculates the sinusoidal factor based on the given parameters. 

This function computes a sinusoidal factor for a given week, where the output is influenced by amplitude (A), period (T), and phase (p). It is typically used in scenarios where a periodic fluctuation is modeled.


\begin{DoxyParams}{Parameters}
{\em week} & The current week for which the sinusoidal factor is calculated. \\
\hline
{\em A} & The amplitude of the sinusoidal fluctuation. \\
\hline
{\em T} & The period of the fluctuation (in weeks). \\
\hline
{\em p} & The phase shift of the sinusoidal function.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double The computed sinusoidal factor. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_aaaa05e97f2d33cf7a28b5c91ec253026}\label{classUtility_aaaa05e97f2d33cf7a28b5c91ec253026}} 
\index{Utility@{Utility}!get\+Storage\+Risk\+\_\+of\+\_\+failure@{get\+Storage\+Risk\+\_\+of\+\_\+failure}}
\index{get\+Storage\+Risk\+\_\+of\+\_\+failure@{get\+Storage\+Risk\+\_\+of\+\_\+failure}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Storage\+Risk\+\_\+of\+\_\+failure()}{getStorageRisk\_of\_failure()}}
{\footnotesize\ttfamily double Utility\+::get\+Storage\+Risk\+\_\+of\+\_\+failure (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieves the short-\/term storage risk of failure. 

This function returns the short-\/term storage risk of failure, which is a value that indicates the likelihood of failure in the storage capacity over a short period.

\begin{DoxyReturn}{Returns}
double The short-\/term storage risk of failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a0e27f2877c780e214c6dda06d03246fe}\label{classUtility_a0e27f2877c780e214c6dda06d03246fe}} 
\index{Utility@{Utility}!get\+Storage\+To\+Capacity\+Ratio@{get\+Storage\+To\+Capacity\+Ratio}}
\index{get\+Storage\+To\+Capacity\+Ratio@{get\+Storage\+To\+Capacity\+Ratio}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Storage\+To\+Capacity\+Ratio()}{getStorageToCapacityRatio()}}
{\footnotesize\ttfamily double Utility\+::get\+Storage\+To\+Capacity\+Ratio (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieves the ratio of stored volume to total storage capacity. 

This function calculates and returns the ratio of the total stored volume to the total storage capacity of the utility. It provides a measure of how efficiently the utility is utilizing its storage capacity, indicating whether the storage is under-\/utilized or nearing full capacity.

\begin{DoxyReturn}{Returns}
double The ratio of stored volume to total storage capacity.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classUtility_a16f8269dc5f80c1d079c49f33495f620}{Utility\+::get\+Total\+\_\+storage\+\_\+capacity}}, \mbox{\hyperlink{classUtility_a5d932aef9e201e824ac681cd6928613a}{Utility\+::get\+Total\+\_\+stored\+\_\+volume}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_a6128e9ac10cc873773112593b5788d81}\label{classUtility_a6128e9ac10cc873773112593b5788d81}} 
\index{Utility@{Utility}!get\+Total\+\_\+available\+\_\+volume@{get\+Total\+\_\+available\+\_\+volume}}
\index{get\+Total\+\_\+available\+\_\+volume@{get\+Total\+\_\+available\+\_\+volume}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Total\+\_\+available\+\_\+volume()}{getTotal\_available\_volume()}}
{\footnotesize\ttfamily double Utility\+::get\+Total\+\_\+available\+\_\+volume (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns the total available volume of the utility. 

This function retrieves the total available volume of water that the utility has access to. The value represents the quantity of water available for distribution, typically measured in cubic meters or gallons.

\begin{DoxyReturn}{Returns}
double The total available volume of water. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a16f8269dc5f80c1d079c49f33495f620}\label{classUtility_a16f8269dc5f80c1d079c49f33495f620}} 
\index{Utility@{Utility}!get\+Total\+\_\+storage\+\_\+capacity@{get\+Total\+\_\+storage\+\_\+capacity}}
\index{get\+Total\+\_\+storage\+\_\+capacity@{get\+Total\+\_\+storage\+\_\+capacity}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Total\+\_\+storage\+\_\+capacity()}{getTotal\_storage\_capacity()}}
{\footnotesize\ttfamily double Utility\+::get\+Total\+\_\+storage\+\_\+capacity (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieves the total storage capacity of the utility. 

This function returns the total storage capacity available to the utility. It is used to get the total volume of water that the utility can store. \begin{DoxyReturn}{Returns}
double The total storage capacity of the utility.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
Utility\+::set\+Total\+Storage\+Capacity 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_a5d932aef9e201e824ac681cd6928613a}\label{classUtility_a5d932aef9e201e824ac681cd6928613a}} 
\index{Utility@{Utility}!get\+Total\+\_\+stored\+\_\+volume@{get\+Total\+\_\+stored\+\_\+volume}}
\index{get\+Total\+\_\+stored\+\_\+volume@{get\+Total\+\_\+stored\+\_\+volume}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Total\+\_\+stored\+\_\+volume()}{getTotal\_stored\_volume()}}
{\footnotesize\ttfamily double Utility\+::get\+Total\+\_\+stored\+\_\+volume (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns the total stored volume of water in the utility\textquotesingle{}s system. 

This function retrieves the total volume of water that has been stored within the utility\textquotesingle{}s storage facilities. The stored volume is an important measure for understanding the utility\textquotesingle{}s capacity to manage and supply water, especially in relation to demand and available volume.

\begin{DoxyReturn}{Returns}
double The total stored volume of water. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a6ab2e5b8aec47bcfed522c98ea1b5f79}\label{classUtility_a6ab2e5b8aec47bcfed522c98ea1b5f79}} 
\index{Utility@{Utility}!get\+Total\+\_\+treatment\+\_\+capacity@{get\+Total\+\_\+treatment\+\_\+capacity}}
\index{get\+Total\+\_\+treatment\+\_\+capacity@{get\+Total\+\_\+treatment\+\_\+capacity}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Total\+\_\+treatment\+\_\+capacity()}{getTotal\_treatment\_capacity()}}
{\footnotesize\ttfamily double Utility\+::get\+Total\+\_\+treatment\+\_\+capacity (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns the total treatment capacity of the utility. 

This function provides the total treatment capacity available to the utility, which is the capacity to treat water for distribution or other uses. The total treatment capacity is crucial for calculating the utility’s ability to process incoming water and meet demand, especially in cases of varying or increasing water demand.

\begin{DoxyReturn}{Returns}
double The total treatment capacity of the utility.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classUtility_a16f8269dc5f80c1d079c49f33495f620}{Utility\+::get\+Total\+\_\+storage\+\_\+capacity}} 

Utility\+::calculate\+Water\+Treatment\+Needs 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_a1fd8aedeaf56d674fd024dac1f11b20c}\label{classUtility_a1fd8aedeaf56d674fd024dac1f11b20c}} 
\index{Utility@{Utility}!get\+Treatment\+Risk\+\_\+of\+\_\+failure@{get\+Treatment\+Risk\+\_\+of\+\_\+failure}}
\index{get\+Treatment\+Risk\+\_\+of\+\_\+failure@{get\+Treatment\+Risk\+\_\+of\+\_\+failure}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Treatment\+Risk\+\_\+of\+\_\+failure()}{getTreatmentRisk\_of\_failure()}}
{\footnotesize\ttfamily double Utility\+::get\+Treatment\+Risk\+\_\+of\+\_\+failure (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieves the short-\/term treatment risk of failure. 

This function returns the short-\/term treatment risk of failure, which is a value that indicates the likelihood of failure in the treatment capacity over a short period.

\begin{DoxyReturn}{Returns}
double The short-\/term treatment risk of failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a062fd9a622bd9893c142ae56523010dd}\label{classUtility_a062fd9a622bd9893c142ae56523010dd}} 
\index{Utility@{Utility}!get\+Unfulfilled\+\_\+demand@{get\+Unfulfilled\+\_\+demand}}
\index{get\+Unfulfilled\+\_\+demand@{get\+Unfulfilled\+\_\+demand}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Unfulfilled\+\_\+demand()}{getUnfulfilled\_demand()}}
{\footnotesize\ttfamily double Utility\+::get\+Unfulfilled\+\_\+demand (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns the unfulfilled demand of the utility. 

This function calculates and returns the amount of demand that cannot be fulfilled by the available resources, based on the restricted demand and the total available volume or treatment capacity. The unfulfilled demand is the excess demand that exceeds the utility\textquotesingle{}s resources, if any.

\begin{DoxyReturn}{Returns}
double The unfulfilled demand value. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_aa5fd345867aa8fb5c49d05110d51ca52}\label{classUtility_aa5fd345867aa8fb5c49d05110d51ca52}} 
\index{Utility@{Utility}!get\+Unrestricted\+Demand@{get\+Unrestricted\+Demand}}
\index{get\+Unrestricted\+Demand@{get\+Unrestricted\+Demand}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Unrestricted\+Demand()}{getUnrestrictedDemand()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily double Utility\+::get\+Unrestricted\+Demand (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieves the unrestricted demand for the utility. 

This function returns the unrestricted demand, which is the total water demand without any restrictions or adjustments applied. This value represents the demand that the utility would expect if there were no supply limitations.

\begin{DoxyReturn}{Returns}
double The current unrestricted demand value. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_ae2d1b744d965d9b916dd7d3103631c92}\label{classUtility_ae2d1b744d965d9b916dd7d3103631c92}} 
\index{Utility@{Utility}!get\+Unrestricted\+Demand@{get\+Unrestricted\+Demand}}
\index{get\+Unrestricted\+Demand@{get\+Unrestricted\+Demand}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Unrestricted\+Demand()}{getUnrestrictedDemand()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily double Utility\+::get\+Unrestricted\+Demand (\begin{DoxyParamCaption}\item[{int}]{week }\end{DoxyParamCaption}) const}



Gets the unrestricted demand for the utility at a specific week. 

This function returns the unrestricted demand for the utility in a given week. Unrestricted demand is the total demand for water without any restrictions or adjustments such as demand offset or restriction due to droughts or other operational limitations.


\begin{DoxyParams}{Parameters}
{\em week} & The week for which the unrestricted demand is being queried.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double The unrestricted demand value for the specified week.
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::out\+\_\+of\+\_\+range} & If the provided week is outside the valid range of the demand series. \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classUtility_a73afadbbcd2d1a21452937b514d10c34}\label{classUtility_a73afadbbcd2d1a21452937b514d10c34}} 
\index{Utility@{Utility}!get\+Unrestricted\+Demand\+To\+Treatment\+Capacity\+Ratio@{get\+Unrestricted\+Demand\+To\+Treatment\+Capacity\+Ratio}}
\index{get\+Unrestricted\+Demand\+To\+Treatment\+Capacity\+Ratio@{get\+Unrestricted\+Demand\+To\+Treatment\+Capacity\+Ratio}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Unrestricted\+Demand\+To\+Treatment\+Capacity\+Ratio()}{getUnrestrictedDemandToTreatmentCapacityRatio()}}
{\footnotesize\ttfamily double Utility\+::get\+Unrestricted\+Demand\+To\+Treatment\+Capacity\+Ratio (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns the ratio of unrestricted demand to total treatment capacity. 

This function calculates the ratio of the current unrestricted demand to the total treatment capacity of the utility. The ratio helps to assess whether the current demand can be handled by the available treatment capacity.

\begin{DoxyReturn}{Returns}
double The ratio of unrestricted demand to total treatment capacity. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a68dc298c3078ff450cdc7b6a69422da1}\label{classUtility_a68dc298c3078ff450cdc7b6a69422da1}} 
\index{Utility@{Utility}!get\+Waste\+\_\+water\+\_\+discharge@{get\+Waste\+\_\+water\+\_\+discharge}}
\index{get\+Waste\+\_\+water\+\_\+discharge@{get\+Waste\+\_\+water\+\_\+discharge}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Waste\+\_\+water\+\_\+discharge()}{getWaste\_water\_discharge()}}
{\footnotesize\ttfamily double Utility\+::get\+Waste\+\_\+water\+\_\+discharge (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns the amount of waste water discharge for the utility. 

This function retrieves the current waste water discharge value associated with the utility. The value represents the amount of waste water being discharged by the utility, typically measured in a specified unit such as cubic meters or gallons.

\begin{DoxyReturn}{Returns}
double The amount of waste water discharge. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_af68f63148aa901e781b939c8aa3699af}\label{classUtility_af68f63148aa901e781b939c8aa3699af}} 
\index{Utility@{Utility}!get\+Water\+\_\+sources@{get\+Water\+\_\+sources}}
\index{get\+Water\+\_\+sources@{get\+Water\+\_\+sources}!Utility@{Utility}}
\subsubsection{\texorpdfstring{get\+Water\+\_\+sources()}{getWater\_sources()}}
{\footnotesize\ttfamily const vector$<$\mbox{\hyperlink{classWaterSource}{Water\+Source}} $\ast$$>$\& Utility\+::get\+Water\+\_\+sources (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns the list of water sources associated with the utility. 

This function provides access to the collection of water sources that are currently associated with the utility. The list is returned as a constant reference to ensure that the original list is not modified.

\begin{DoxyReturn}{Returns}
const vector$<$\+Water\+Source $\ast$$>$ \& A constant reference to a vector containing the water sources. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_ae93114986578d3d3fbae56f271ac7df6}\label{classUtility_ae93114986578d3d3fbae56f271ac7df6}} 
\index{Utility@{Utility}!infrastructure\+Construction\+Handler@{infrastructure\+Construction\+Handler}}
\index{infrastructure\+Construction\+Handler@{infrastructure\+Construction\+Handler}!Utility@{Utility}}
\subsubsection{\texorpdfstring{infrastructure\+Construction\+Handler()}{infrastructureConstructionHandler()}}
{\footnotesize\ttfamily int Utility\+::infrastructure\+Construction\+Handler (\begin{DoxyParamCaption}\item[{double}]{long\+\_\+term\+\_\+rof,  }\item[{int}]{week }\end{DoxyParamCaption})}



Handles infrastructure construction based on long-\/term risk of failure and other parameters. 

This function calculates whether new infrastructure should be triggered based on the long-\/term risk of failure, the current demand series, and the available infrastructure capacity. If new infrastructure is triggered, it initiates the necessary steps to issue bonds and update the infrastructure Net Present Value (N\+PV).

This function is typically used to manage the infrastructure expansion process when the utility faces increased risk or demand that necessitates additional capacity.


\begin{DoxyParams}{Parameters}
{\em long\+\_\+term\+\_\+rof} & The long-\/term risk of failure, influencing infrastructure construction decisions.\\
\hline
{\em week} & The current week number in the simulation or process.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int The ID of the newly triggered infrastructure project. Returns N\+O\+N\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+ED if no new infrastructure was triggered.
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::invalid\+\_\+argument} & if long\+\_\+term\+\_\+rof or week are outside expected ranges or invalid.\\
\hline
\end{DoxyExceptions}
\begin{DoxySeeAlso}{See also}
infrastructure\+\_\+construction\+\_\+manager 

\mbox{\hyperlink{classUtility_a152ceea2917ea7715e8fbf8aff24390f}{issue\+Bond}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_a152ceea2917ea7715e8fbf8aff24390f}\label{classUtility_a152ceea2917ea7715e8fbf8aff24390f}} 
\index{Utility@{Utility}!issue\+Bond@{issue\+Bond}}
\index{issue\+Bond@{issue\+Bond}!Utility@{Utility}}
\subsubsection{\texorpdfstring{issue\+Bond()}{issueBond()}}
{\footnotesize\ttfamily void Utility\+::issue\+Bond (\begin{DoxyParamCaption}\item[{int}]{new\+\_\+infra\+\_\+triggered,  }\item[{int}]{week }\end{DoxyParamCaption})}



Issues a bond for the new infrastructure triggered in the utility. 

This function issues a bond for a newly triggered infrastructure and adds it to the list of issued bonds if it hasn’t been issued already. It calculates the net present value (N\+PV) of the bond at the time of issuance and updates the infrastructure net present cost.


\begin{DoxyParams}{Parameters}
{\em new\+\_\+infra\+\_\+triggered} & (int) The ID of the newly triggered infrastructure. If the value is N\+O\+N\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+ED, no bond is issued. \\
\hline
{\em week} & (int) The current week of the simulation, used for bond issuance.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classBond_a726edbe3ea7047ebc7246585943763e3}{Bond\+::issue\+Bond}}, \mbox{\hyperlink{classBond_a5997278813deb16aa5d01bbca8ecc7b2}{Bond\+::get\+Net\+Present\+Value\+At\+Issuance}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_ae2dad8029e34c5bb073a5ddf4381d278}\label{classUtility_ae2dad8029e34c5bb073a5ddf4381d278}} 
\index{Utility@{Utility}!operator$<$@{operator$<$}}
\index{operator$<$@{operator$<$}!Utility@{Utility}}
\subsubsection{\texorpdfstring{operator$<$()}{operator<()}}
{\footnotesize\ttfamily bool Utility\+::operator$<$ (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classUtility}{Utility}} $\ast$}]{other }\end{DoxyParamCaption})}



Less-\/than operator for comparing \mbox{\hyperlink{classUtility}{Utility}} objects based on their I\+Ds. 

This operator compares the current \mbox{\hyperlink{classUtility}{Utility}} instance with another \mbox{\hyperlink{classUtility}{Utility}} object to determine if the ID of the current instance is less than that of the other.


\begin{DoxyParams}{Parameters}
{\em other} & A pointer to the other \mbox{\hyperlink{classUtility}{Utility}} object to compare against.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the id of the current \mbox{\hyperlink{classUtility}{Utility}} is less than the id of the other \mbox{\hyperlink{classUtility}{Utility}}. Otherwise, returns false. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a9a362d68a5aa3ec934c286f3a7e9b721}\label{classUtility_a9a362d68a5aa3ec934c286f3a7e9b721}} 
\index{Utility@{Utility}!operator=@{operator=}}
\index{operator=@{operator=}!Utility@{Utility}}
\subsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classUtility}{Utility}}\& Utility\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classUtility}{Utility}} \&}]{utility }\end{DoxyParamCaption})}



Copy assignment operator for the \mbox{\hyperlink{classUtility}{Utility}} class. 

Assigns the state of an existing \mbox{\hyperlink{classUtility}{Utility}} object to the current instance. This operator ensures a deep copy of the relevant data, including reinitializing and clearing resources before copying.


\begin{DoxyParams}{Parameters}
{\em utility} & The \mbox{\hyperlink{classUtility}{Utility}} object to copy data from.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A reference to the current instance ($\ast$this) after copying. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a222897e8c338fde0d754df4683fbc89b}\label{classUtility_a222897e8c338fde0d754df4683fbc89b}} 
\index{Utility@{Utility}!operator$>$@{operator$>$}}
\index{operator$>$@{operator$>$}!Utility@{Utility}}
\subsubsection{\texorpdfstring{operator$>$()}{operator>()}}
{\footnotesize\ttfamily bool Utility\+::operator$>$ (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classUtility}{Utility}} $\ast$}]{other }\end{DoxyParamCaption})}



Compares the current \mbox{\hyperlink{classUtility}{Utility}} object with another \mbox{\hyperlink{classUtility}{Utility}} object using their I\+Ds. 


\begin{DoxyParams}{Parameters}
{\em other} & A pointer to another \mbox{\hyperlink{classUtility}{Utility}} object to compare with.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the current \mbox{\hyperlink{classUtility}{Utility}} object\textquotesingle{}s ID is greater than the other \mbox{\hyperlink{classUtility}{Utility}} object\textquotesingle{}s ID, false otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a01ec91140b9d23bf5b03e0fc55bced0d}\label{classUtility_a01ec91140b9d23bf5b03e0fc55bced0d}} 
\index{Utility@{Utility}!price\+Calculation\+Error\+Checking@{price\+Calculation\+Error\+Checking}}
\index{price\+Calculation\+Error\+Checking@{price\+Calculation\+Error\+Checking}!Utility@{Utility}}
\subsubsection{\texorpdfstring{price\+Calculation\+Error\+Checking()}{priceCalculationErrorChecking()}}
{\footnotesize\ttfamily void Utility\+::price\+Calculation\+Error\+Checking (\begin{DoxyParamCaption}\item[{const vector$<$ vector$<$ double $>$$>$ \&}]{types\+Monthly\+Demand\+Fraction,  }\item[{const vector$<$ vector$<$ double $>$$>$ \&}]{types\+Monthly\+Water\+Price }\end{DoxyParamCaption})}



Checks for errors in the monthly demand fraction and water price data. 

This function verifies that the given monthly demand fractions and water prices meet the expected format and size. It checks that there are exactly 12 months\textquotesingle{} worth of data and that the number of tiers (e.\+g., consumer types) matches across the demand fractions and water prices. If any of the checks fail, it throws an invalid\+\_\+argument exception with a descriptive message.

This function is used before performing price calculations to ensure the integrity and correctness of the data.


\begin{DoxyParams}{Parameters}
{\em types\+Monthly\+Demand\+Fraction} & A 2D vector where each row represents a month, and each column represents the demand fraction for a different consumer tier.\\
\hline
{\em types\+Monthly\+Water\+Price} & A 2D vector where each row represents a month, and each column represents the water price for a different consumer tier.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::invalid\+\_\+argument} & if the number of months is not equal to 12 or if the dimensions of the demand fractions and water prices do not match.\\
\hline
\end{DoxyExceptions}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classUtility_a0189edb631c9596f094b15afeeb934fd}{Utility\+::calculate\+Weekly\+Average\+Water\+Prices}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_a97073e3d7a30275c639484b3158284fa}\label{classUtility_a97073e3d7a30275c639484b3158284fa}} 
\index{Utility@{Utility}!purchase\+Insurance@{purchase\+Insurance}}
\index{purchase\+Insurance@{purchase\+Insurance}!Utility@{Utility}}
\subsubsection{\texorpdfstring{purchase\+Insurance()}{purchaseInsurance()}}
{\footnotesize\ttfamily void Utility\+::purchase\+Insurance (\begin{DoxyParamCaption}\item[{double}]{insurance\+\_\+price }\end{DoxyParamCaption})}



Purchases insurance by deducting from the contingency fund. 

This function reduces the contingency\+\_\+fund by the specified insurance\+\_\+price and records the insurance purchase amount. It is used to simulate the purchase of insurance, typically for risk mitigation or disaster recovery purposes.


\begin{DoxyParams}{Parameters}
{\em insurance\+\_\+price} & The cost of the insurance to be purchased.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_af9ec9c2cb69166db021f03ce9ddf4d8e}\label{classUtility_af9ec9c2cb69166db021f03ce9ddf4d8e}} 
\index{Utility@{Utility}!reset\+Drought\+Mitigation\+Variables@{reset\+Drought\+Mitigation\+Variables}}
\index{reset\+Drought\+Mitigation\+Variables@{reset\+Drought\+Mitigation\+Variables}!Utility@{Utility}}
\subsubsection{\texorpdfstring{reset\+Drought\+Mitigation\+Variables()}{resetDroughtMitigationVariables()}}
{\footnotesize\ttfamily void Utility\+::reset\+Drought\+Mitigation\+Variables (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Resets the drought mitigation variables in the utility. 

This function resets key variables related to drought mitigation, which include the restricted price, offset rate per volume, and the demand offset. These variables are typically used during drought conditions to manage water allocation and pricing.

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a0ac180e13fb963a29c2860664c3f352a}\label{classUtility_a0ac180e13fb963a29c2860664c3f352a}} 
\index{Utility@{Utility}!reset\+Total\+\_\+storage\+\_\+capacity@{reset\+Total\+\_\+storage\+\_\+capacity}}
\index{reset\+Total\+\_\+storage\+\_\+capacity@{reset\+Total\+\_\+storage\+\_\+capacity}!Utility@{Utility}}
\subsubsection{\texorpdfstring{reset\+Total\+\_\+storage\+\_\+capacity()}{resetTotal\_storage\_capacity()}}
{\footnotesize\ttfamily void Utility\+::reset\+Total\+\_\+storage\+\_\+capacity (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Resets the total storage capacity of the utility. 

This function sets the total storage capacity of the utility to 0, essentially clearing the current storage capacity value. This may be used in cases where the storage capacity needs to be recalculated or reset due to changes in infrastructure or other conditions.

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a0a3190b991d667caf30a2e7cf447fae1}\label{classUtility_a0a3190b991d667caf30a2e7cf447fae1}} 
\index{Utility@{Utility}!set\+Current\+\_\+year\+\_\+demand\+\_\+record@{set\+Current\+\_\+year\+\_\+demand\+\_\+record}}
\index{set\+Current\+\_\+year\+\_\+demand\+\_\+record@{set\+Current\+\_\+year\+\_\+demand\+\_\+record}!Utility@{Utility}}
\subsubsection{\texorpdfstring{set\+Current\+\_\+year\+\_\+demand\+\_\+record()}{setCurrent\_year\_demand\_record()}}
{\footnotesize\ttfamily void Utility\+::set\+Current\+\_\+year\+\_\+demand\+\_\+record (\begin{DoxyParamCaption}\item[{double}]{current\+\_\+demand }\end{DoxyParamCaption})}



Sets the recorded demand for the current year. 

This function records the actual demand for the current year, which is used in various projections and calculations, such as estimating future demand and calculating growth rates.


\begin{DoxyParams}{Parameters}
{\em current\+\_\+demand} & The actual demand recorded for the current year.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_ad562626bc39694622495d2fb2b68ecd4}\label{classUtility_ad562626bc39694622495d2fb2b68ecd4}} 
\index{Utility@{Utility}!set\+Demand\+\_\+multiplier@{set\+Demand\+\_\+multiplier}}
\index{set\+Demand\+\_\+multiplier@{set\+Demand\+\_\+multiplier}!Utility@{Utility}}
\subsubsection{\texorpdfstring{set\+Demand\+\_\+multiplier()}{setDemand\_multiplier()}}
{\footnotesize\ttfamily void Utility\+::set\+Demand\+\_\+multiplier (\begin{DoxyParamCaption}\item[{double}]{demand\+\_\+multiplier }\end{DoxyParamCaption})}



Sets the demand multiplier for the utility. 

This function sets the multiplier for the utility\textquotesingle{}s demand calculations. The demand multiplier is used to adjust the demand for the utility based on various factors, such as changes in demand patterns, growth projections, or other external factors that may affect water consumption.


\begin{DoxyParams}{Parameters}
{\em demand\+\_\+multiplier} & The value to set as the demand multiplier. It should be a positive value that adjusts the demand calculations for the utility.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classUtility_a04a400d8bfb89214632f9afca8c4eef5}{Utility\+::get\+Demand\+\_\+multiplier}} 

Utility\+::calculate\+Demand\+With\+Multiplier 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_a6e7f1df1fcde0b14475c7045bdcaf218}\label{classUtility_a6e7f1df1fcde0b14475c7045bdcaf218}} 
\index{Utility@{Utility}!set\+Demand\+\_\+offset@{set\+Demand\+\_\+offset}}
\index{set\+Demand\+\_\+offset@{set\+Demand\+\_\+offset}!Utility@{Utility}}
\subsubsection{\texorpdfstring{set\+Demand\+\_\+offset()}{setDemand\_offset()}}
{\footnotesize\ttfamily void Utility\+::set\+Demand\+\_\+offset (\begin{DoxyParamCaption}\item[{double}]{demand\+\_\+offset,  }\item[{double}]{offset\+\_\+rate\+\_\+per\+\_\+volume }\end{DoxyParamCaption})}



Sets the demand offset and the offset rate per volume for the utility. 

This function updates the demand offset by adding the specified value to the current demand offset, allowing for multiple transfer agreements to accumulate. Additionally, it sets the offset rate per volume, which is used to adjust the demand calculations based on the volume of water allocated or transferred.


\begin{DoxyParams}{Parameters}
{\em demand\+\_\+offset} & The amount by which to adjust the utility\textquotesingle{}s demand offset. This value will be added to the current demand offset. \\
\hline
{\em offset\+\_\+rate\+\_\+per\+\_\+volume} & The rate at which the demand offset adjusts based on the volume of water.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classUtility_acdd0e90d638d4a127a06787fe427ab59}{Utility\+::get\+Demand\+\_\+offset}} 

Utility\+::calculate\+Adjusted\+Demand 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_aa465673857827435f256bde97d36b77d}\label{classUtility_aa465673857827435f256bde97d36b77d}} 
\index{Utility@{Utility}!set\+Future\+\_\+demand\+\_\+estimate@{set\+Future\+\_\+demand\+\_\+estimate}}
\index{set\+Future\+\_\+demand\+\_\+estimate@{set\+Future\+\_\+demand\+\_\+estimate}!Utility@{Utility}}
\subsubsection{\texorpdfstring{set\+Future\+\_\+demand\+\_\+estimate()}{setFuture\_demand\_estimate()}}
{\footnotesize\ttfamily void Utility\+::set\+Future\+\_\+demand\+\_\+estimate (\begin{DoxyParamCaption}\item[{double}]{demand\+\_\+estimate }\end{DoxyParamCaption})}



Sets the estimated future demand. 

This function sets the projected demand for a future year. The demand estimate is typically used in long-\/term planning and risk calculations.


\begin{DoxyParams}{Parameters}
{\em demand\+\_\+estimate} & The projected demand for a future year.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a0a5ccfc2e606ef46f1c1a52707fb5071}\label{classUtility_a0a5ccfc2e606ef46f1c1a52707fb5071}} 
\index{Utility@{Utility}!set\+Long\+Term\+Risk\+\_\+of\+\_\+failures@{set\+Long\+Term\+Risk\+\_\+of\+\_\+failures}}
\index{set\+Long\+Term\+Risk\+\_\+of\+\_\+failures@{set\+Long\+Term\+Risk\+\_\+of\+\_\+failures}!Utility@{Utility}}
\subsubsection{\texorpdfstring{set\+Long\+Term\+Risk\+\_\+of\+\_\+failures()}{setLongTermRisk\_of\_failures()}}
{\footnotesize\ttfamily void Utility\+::set\+Long\+Term\+Risk\+\_\+of\+\_\+failures (\begin{DoxyParamCaption}\item[{double}]{storage\+\_\+risk\+\_\+of\+\_\+failure,  }\item[{double}]{treatment\+\_\+risk\+\_\+of\+\_\+failure }\end{DoxyParamCaption})}



Sets the long-\/term risk of failure for storage and treatment. 

This function sets the long-\/term risk of failure for both the storage and treatment components of the utility. It allows the user to define the risk of failure for each aspect, which is used in subsequent calculations related to infrastructure planning and management.


\begin{DoxyParams}{Parameters}
{\em storage\+\_\+risk\+\_\+of\+\_\+failure} & The long-\/term risk of failure for storage, as a percentage. \\
\hline
{\em treatment\+\_\+risk\+\_\+of\+\_\+failure} & The long-\/term risk of failure for treatment, as a percentage.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a6a89bff2044b4f68714ce9934344e2ad}\label{classUtility_a6a89bff2044b4f68714ce9934344e2ad}} 
\index{Utility@{Utility}!set\+No\+Finaical\+Calculations@{set\+No\+Finaical\+Calculations}}
\index{set\+No\+Finaical\+Calculations@{set\+No\+Finaical\+Calculations}!Utility@{Utility}}
\subsubsection{\texorpdfstring{set\+No\+Finaical\+Calculations()}{setNoFinaicalCalculations()}}
{\footnotesize\ttfamily void Utility\+::set\+No\+Finaical\+Calculations (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Disables financial calculations for the utility. 

This function sets the used\+\_\+for\+\_\+realization flag to false, indicating that financial calculations should not be performed for the utility in the current context or iteration.

F\+I\+X\+ME\+: Fix name to set\+No\+Financial\+Calculations

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a2d41989b4154aed5c2fb99a27183ca34}\label{classUtility_a2d41989b4154aed5c2fb99a27183ca34}} 
\index{Utility@{Utility}!set\+Realization@{set\+Realization}}
\index{set\+Realization@{set\+Realization}!Utility@{Utility}}
\subsubsection{\texorpdfstring{set\+Realization()}{setRealization()}}
{\footnotesize\ttfamily void Utility\+::set\+Realization (\begin{DoxyParamCaption}\item[{unsigned long}]{r,  }\item[{vector$<$ double $>$ \&}]{rdm\+\_\+factors }\end{DoxyParamCaption})}



Sets the realization factors for the utility and adjusts demand series. Eliminates reference to comprehensive demand data set. 

This function adjusts the utility\textquotesingle{}s demand series based on the provided realization factors, which are applied to the demands for the current realization. It also adjusts bond-\/related parameters, infrastructure discount rates, and other factors that influence the utility\textquotesingle{}s operations.


\begin{DoxyParams}{Parameters}
{\em r} & The index of the realization (from the set of all realizations). \\
\hline
{\em rdm\+\_\+factors} & A vector containing realization factors\+:
\begin{DoxyItemize}
\item rdm\+\_\+factors\mbox{[}0\mbox{]} is the demand factor applied to the demand series.
\item rdm\+\_\+factors\mbox{[}1\mbox{]} is the multiplier for the bond term.
\item rdm\+\_\+factors\mbox{[}2\mbox{]} is the multiplier for the bond interest rate.
\item rdm\+\_\+factors\mbox{[}3\mbox{]} is the multiplier for the infrastructure discount rate.
\end{DoxyItemize}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classUtility_a54c8621f2cce5257343f8dc6bfd76cff}{calculate\+Weekly\+Peaking\+Factor}} 

\mbox{\hyperlink{classUtility_a5bae4fe8c3f0c782f0cdf5d14b7b92a7}{calculate\+Annual\+Average\+Weekly\+Demand}} 

demands\+\_\+all\+\_\+realizations 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_a7f642d886a6d1d165e86b2e6a7c51ed4}\label{classUtility_a7f642d886a6d1d165e86b2e6a7c51ed4}} 
\index{Utility@{Utility}!set\+Restricted\+\_\+price@{set\+Restricted\+\_\+price}}
\index{set\+Restricted\+\_\+price@{set\+Restricted\+\_\+price}!Utility@{Utility}}
\subsubsection{\texorpdfstring{set\+Restricted\+\_\+price()}{setRestricted\_price()}}
{\footnotesize\ttfamily void Utility\+::set\+Restricted\+\_\+price (\begin{DoxyParamCaption}\item[{double}]{restricted\+\_\+price }\end{DoxyParamCaption})}



Sets the restricted price for the utility. 

This function sets the restricted price, which is the water price applied when restrictions are enacted (e.\+g., during a drought or water usage limitations). This price may differ from the unrestricted price and is used when the utility enforces supply constraints.


\begin{DoxyParams}{Parameters}
{\em restricted\+\_\+price} & The new restricted price value to be set for the utility.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_a68d5088951f6bdccbb7af18ea8f153f5}\label{classUtility_a68d5088951f6bdccbb7af18ea8f153f5}} 
\index{Utility@{Utility}!set\+Risk\+\_\+of\+\_\+failure@{set\+Risk\+\_\+of\+\_\+failure}}
\index{set\+Risk\+\_\+of\+\_\+failure@{set\+Risk\+\_\+of\+\_\+failure}!Utility@{Utility}}
\subsubsection{\texorpdfstring{set\+Risk\+\_\+of\+\_\+failure()}{setRisk\_of\_failure()}}
{\footnotesize\ttfamily void Utility\+::set\+Risk\+\_\+of\+\_\+failure (\begin{DoxyParamCaption}\item[{double}]{risk\+\_\+of\+\_\+failure }\end{DoxyParamCaption})}



Sets the actual short-\/term risk of failure. 


\begin{DoxyParams}{Parameters}
{\em risk\+\_\+of\+\_\+failure} & The actual risk of failure for storage components (max of storage/treatment R\+OF). \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classUtility_aadf42161486c8305b0b55aa65c5f519e}\label{classUtility_aadf42161486c8305b0b55aa65c5f519e}} 
\index{Utility@{Utility}!set\+Risk\+\_\+of\+\_\+failures@{set\+Risk\+\_\+of\+\_\+failures}}
\index{set\+Risk\+\_\+of\+\_\+failures@{set\+Risk\+\_\+of\+\_\+failures}!Utility@{Utility}}
\subsubsection{\texorpdfstring{set\+Risk\+\_\+of\+\_\+failures()}{setRisk\_of\_failures()}}
{\footnotesize\ttfamily void Utility\+::set\+Risk\+\_\+of\+\_\+failures (\begin{DoxyParamCaption}\item[{double}]{storage\+\_\+risk\+\_\+of\+\_\+failure,  }\item[{double}]{treatment\+\_\+risk\+\_\+of\+\_\+failure }\end{DoxyParamCaption})}



Sets the short-\/term risk of failure for both storage and treatment components. 


\begin{DoxyParams}{Parameters}
{\em storage\+\_\+risk\+\_\+of\+\_\+failure} & The risk of failure for storage components. \\
\hline
{\em treatment\+\_\+risk\+\_\+of\+\_\+failure} & The risk of failure for treatment components. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classUtility_ae2dd2175d9fe1d71ea1f1e8b43a21148}\label{classUtility_ae2dd2175d9fe1d71ea1f1e8b43a21148}} 
\index{Utility@{Utility}!set\+Treatment\+Capacity@{set\+Treatment\+Capacity}}
\index{set\+Treatment\+Capacity@{set\+Treatment\+Capacity}!Utility@{Utility}}
\subsubsection{\texorpdfstring{set\+Treatment\+Capacity()}{setTreatmentCapacity()}}
{\footnotesize\ttfamily void Utility\+::set\+Treatment\+Capacity (\begin{DoxyParamCaption}\item[{double}]{total\+\_\+capacity }\end{DoxyParamCaption})}



This function sets the total treatment capacity for the utility. 


\begin{DoxyParams}{Parameters}
{\em total\+\_\+capacity} & The total treatment capacity to be set.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_ae01127adf3c99415310e77b22bd9f3b5}\label{classUtility_ae01127adf3c99415310e77b22bd9f3b5}} 
\index{Utility@{Utility}!set\+Water\+Source\+Online@{set\+Water\+Source\+Online}}
\index{set\+Water\+Source\+Online@{set\+Water\+Source\+Online}!Utility@{Utility}}
\subsubsection{\texorpdfstring{set\+Water\+Source\+Online()}{setWaterSourceOnline()}}
{\footnotesize\ttfamily void Utility\+::set\+Water\+Source\+Online (\begin{DoxyParamCaption}\item[{unsigned int}]{source\+\_\+id,  }\item[{int}]{week }\end{DoxyParamCaption})}



Sets a specified water source as online for the utility. 

This function triggers the transition of a water source from offline to online status, updating the utility\textquotesingle{}s infrastructure to reflect the new capacity and availability of the water source. The change is reflected in the utility\textquotesingle{}s storage and treatment capacities, as well as the available and stored volumes.


\begin{DoxyParams}{Parameters}
{\em source\+\_\+id} & The unique identifier of the water source to be set online. \\
\hline
{\em week} & The current week of the year, used to manage construction timelines and updates.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
Infrastructure\+Construction\+Manager\+::set\+Water\+Source\+Online 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_aca42b14087c3184d4fec10a2e8729c05}\label{classUtility_aca42b14087c3184d4fec10a2e8729c05}} 
\index{Utility@{Utility}!split\+Demands@{split\+Demands}}
\index{split\+Demands@{split\+Demands}!Utility@{Utility}}
\subsubsection{\texorpdfstring{split\+Demands()}{splitDemands()}}
{\footnotesize\ttfamily void Utility\+::split\+Demands (\begin{DoxyParamCaption}\item[{int}]{week,  }\item[{vector$<$ vector$<$ double $>$$>$ \&}]{demands,  }\item[{bool}]{apply\+\_\+demand\+\_\+buffer = {\ttfamily false},  }\item[{bool}]{apply\+\_\+demand\+\_\+projection = {\ttfamily false} }\end{DoxyParamCaption})}



Splits demands across available water sources. 

This function allocates the utility\textquotesingle{}s water demand across various water sources based on their available capacity and treatment capabilities, and updates the contingency fund if necessary. It accounts for projections and buffers applied to demand and rebalances demand among sources in case of overallocation.

Demand is allocated so that river intakes and reuse are first used to their capacity before requesting water from allocations in reservoirs.


\begin{DoxyParams}{Parameters}
{\em week} & The current week number for which the demands are being split. \\
\hline
{\em demands} & A 2D vector that stores the demands allocated to each water source for the utility. \\
\hline
{\em apply\+\_\+demand\+\_\+buffer} & Flag to indicate whether a demand buffer should be applied. \\
\hline
{\em apply\+\_\+demand\+\_\+projection} & Flag to indicate whether future demand projections should be used.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{classUtility_ab663efd526505a3d843cae7075cc3b91}\label{classUtility_ab663efd526505a3d843cae7075cc3b91}} 
\index{Utility@{Utility}!update\+Contingency\+Fund\+And\+Debt\+Service@{update\+Contingency\+Fund\+And\+Debt\+Service}}
\index{update\+Contingency\+Fund\+And\+Debt\+Service@{update\+Contingency\+Fund\+And\+Debt\+Service}!Utility@{Utility}}
\subsubsection{\texorpdfstring{update\+Contingency\+Fund\+And\+Debt\+Service()}{updateContingencyFundAndDebtService()}}
{\footnotesize\ttfamily void Utility\+::update\+Contingency\+Fund\+And\+Debt\+Service (\begin{DoxyParamCaption}\item[{double}]{unrestricted\+\_\+demand,  }\item[{double}]{demand\+\_\+multiplier,  }\item[{double}]{demand\+\_\+offset,  }\item[{double}]{unfulfilled\+\_\+demand,  }\item[{int}]{week }\end{DoxyParamCaption})}



Updates the utility\textquotesingle{}s contingency fund and debt service based on the current demand and water prices. 

This function calculates and updates the contingency fund, gross revenue, revenue losses due to restrictions, and the debt service for the utility. It takes into account factors such as unrestricted and restricted demand, the current water price, and any unfulfilled demand. It also updates variables related to drought mitigation costs and fund contributions.

This function works for both sources and receivers of transfers, and the transfer water prices are different than regular prices for both sources and receivers. It also stores the cost of drought mitigation.


\begin{DoxyParams}{Parameters}
{\em unrestricted\+\_\+demand} & The total demand for water without any restrictions applied. \\
\hline
{\em demand\+\_\+multiplier} & The multiplier applied to demand to reflect adjustments such as restrictions. \\
\hline
{\em demand\+\_\+offset} & The offset to be applied to demand, typically due to transfer agreements or other adjustments. \\
\hline
{\em unfulfilled\+\_\+demand} & The amount of demand that could not be fulfilled due to limitations on supply. \\
\hline
{\em week} & The current week of the year for which the update is being performed.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em logic\+\_\+error} & If the restricted price is lower than the unrestricted price, which is invalid.\\
\hline
\end{DoxyExceptions}
\begin{DoxySeeAlso}{See also}
Utility\+::update\+Debt\+Payment 

Utility\+::calculate\+Revenue\+Losses 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_a63f5ae95014d9e729a3de51f19540042}\label{classUtility_a63f5ae95014d9e729a3de51f19540042}} 
\index{Utility@{Utility}!update\+Current\+\_\+debt\+\_\+payment@{update\+Current\+\_\+debt\+\_\+payment}}
\index{update\+Current\+\_\+debt\+\_\+payment@{update\+Current\+\_\+debt\+\_\+payment}!Utility@{Utility}}
\subsubsection{\texorpdfstring{update\+Current\+\_\+debt\+\_\+payment()}{updateCurrent\_debt\_payment()}}
{\footnotesize\ttfamily double Utility\+::update\+Current\+\_\+debt\+\_\+payment (\begin{DoxyParamCaption}\item[{int}]{week }\end{DoxyParamCaption})}



Updates the current debt payment for the utility for a specific week, if that\textquotesingle{}s the first week of the year. 

This function calculates the current debt payment that the utility owes based on the bonds it has issued. It checks if any bonds are variable debt service bonds (associated with variable joint water treatment projects), and adjusts the debt service accordingly. It also sums up the debt service for all issued bonds and returns the total debt payment for the given week.


\begin{DoxyParams}{Parameters}
{\em week} & The current week of the year, used to calculate the applicable debt service for that week.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double The total current debt payment for the utility for the specified week.
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em none} & \\
\hline
\end{DoxyExceptions}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classBond_aff7fc4e1edcf199fb592d22c765b854e}{Bond\+::set\+Debt\+Service}} 

\mbox{\hyperlink{classBond_a98d8ecaf4b36319674ebd220598996bc}{Bond\+::get\+Debt\+Service}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_ab920387a318f7d7956da5e92582a58a3}\label{classUtility_ab920387a318f7d7956da5e92582a58a3}} 
\index{Utility@{Utility}!update\+Current\+\_\+present\+\_\+value\+\_\+debt\+\_\+payment@{update\+Current\+\_\+present\+\_\+value\+\_\+debt\+\_\+payment}}
\index{update\+Current\+\_\+present\+\_\+value\+\_\+debt\+\_\+payment@{update\+Current\+\_\+present\+\_\+value\+\_\+debt\+\_\+payment}!Utility@{Utility}}
\subsubsection{\texorpdfstring{update\+Current\+\_\+present\+\_\+value\+\_\+debt\+\_\+payment()}{updateCurrent\_present\_value\_debt\_payment()}}
{\footnotesize\ttfamily double Utility\+::update\+Current\+\_\+present\+\_\+value\+\_\+debt\+\_\+payment (\begin{DoxyParamCaption}\item[{int}]{week }\end{DoxyParamCaption})}



Updates the present value of the debt payment for the current week. 

This function calculates the total present value of the debt payments to be made in a week for each bond issued by the utility (if that\textquotesingle{}s the first week of the year), considering any changes in debt service allocation over the course of the repayment. It sums the present value of debt payments for all bonds and returns the total amount.


\begin{DoxyParams}{Parameters}
{\em week} & The current week for which the present value of debt service is calculated. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double The total present value of the debt payment for the given week. 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em None} & \\
\hline
\end{DoxyExceptions}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classBond_a322d4ab0c0c72824ac4df5df80f14d24}{Bond\+::get\+Present\+Value\+Debt\+Service()}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_af394fe9f04a371a7cf10ddadba575e85}\label{classUtility_af394fe9f04a371a7cf10ddadba575e85}} 
\index{Utility@{Utility}!update\+Total\+Available\+Volume@{update\+Total\+Available\+Volume}}
\index{update\+Total\+Available\+Volume@{update\+Total\+Available\+Volume}!Utility@{Utility}}
\subsubsection{\texorpdfstring{update\+Total\+Available\+Volume()}{updateTotalAvailableVolume()}}
{\footnotesize\ttfamily void Utility\+::update\+Total\+Available\+Volume (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Update the total available volume and net stream inflow based on current water sources. 

This function recalculates the total available volume, total stored volume, and net stream inflow by iterating over both priority and non-\/priority draw water sources and updating these values accordingly.

\begin{DoxySeeAlso}{See also}
get\+Available\+Allocated\+Volume() 

get\+Allocated\+Inflow() 

get\+Priority\+Source\+Potential\+Volume() 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classUtility_ae0134c9627b79067e1789c95c775570d}\label{classUtility_ae0134c9627b79067e1789c95c775570d}} 
\index{Utility@{Utility}!update\+Treatment\+Capacity@{update\+Treatment\+Capacity}}
\index{update\+Treatment\+Capacity@{update\+Treatment\+Capacity}!Utility@{Utility}}
\subsubsection{\texorpdfstring{update\+Treatment\+Capacity()}{updateTreatmentCapacity()}}
{\footnotesize\ttfamily void Utility\+::update\+Treatment\+Capacity (\begin{DoxyParamCaption}\item[{double}]{capacity\+\_\+adjustment }\end{DoxyParamCaption})}



This function calculates the annual average weekly demand for a given set of demand data. 


\begin{DoxyParams}{Parameters}
{\em demands} & A pointer to a vector containing weekly demand values. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A vector containing the annual average weekly demand for each year.
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em No} & exceptions are thrown in this function. \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classUtility_a0dca2586b9ed761cdab3b0a344daf21c}\label{classUtility_a0dca2586b9ed761cdab3b0a344daf21c}} 
\index{Utility@{Utility}!water\+Price@{water\+Price}}
\index{water\+Price@{water\+Price}!Utility@{Utility}}
\subsubsection{\texorpdfstring{water\+Price()}{waterPrice()}}
{\footnotesize\ttfamily double Utility\+::water\+Price (\begin{DoxyParamCaption}\item[{int}]{week }\end{DoxyParamCaption})}



Returns the water price for a specific week. 

This function retrieves the weekly average volumetric water price for the given week from the weekly\+\_\+average\+\_\+volumetric\+\_\+price vector.

F\+I\+X\+ME\+: Can change name to better reflect the function\textquotesingle{}s purpose as a getter


\begin{DoxyParams}{Parameters}
{\em week} & The week number (from 0 to W\+E\+E\+K\+S\+\_\+\+I\+N\+\_\+\+Y\+E\+AR) for which the water price is requested.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double The water price for the specified week.
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::out\+\_\+of\+\_\+range} & if the week parameter is out of bounds (less than 0 or greater than W\+E\+E\+K\+S\+\_\+\+I\+N\+\_\+\+Y\+E\+AR).\\
\hline
\end{DoxyExceptions}
\begin{DoxySeeAlso}{See also}
weekly\+\_\+average\+\_\+volumetric\+\_\+price 
\end{DoxySeeAlso}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classUtility_a4be9760339ec06e5c932890da8e566b3}\label{classUtility_a4be9760339ec06e5c932890da8e566b3}} 
\index{Utility@{Utility}!demand\+\_\+buffer@{demand\+\_\+buffer}}
\index{demand\+\_\+buffer@{demand\+\_\+buffer}!Utility@{Utility}}
\subsubsection{\texorpdfstring{demand\+\_\+buffer}{demand\_buffer}}
{\footnotesize\ttfamily const double Utility\+::demand\+\_\+buffer}



The demand buffer for smoothing demand projections. 

\mbox{\Hypertarget{classUtility_ad41c4ea5c911c5000452a3371cd65d5f}\label{classUtility_ad41c4ea5c911c5000452a3371cd65d5f}} 
\index{Utility@{Utility}!id@{id}}
\index{id@{id}!Utility@{Utility}}
\subsubsection{\texorpdfstring{id}{id}}
{\footnotesize\ttfamily const int Utility\+::id}



The unique identifier for the utility. 

\mbox{\Hypertarget{classUtility_ad0ce5c179a7f5ceb46d4fcae08dbfb47}\label{classUtility_ad0ce5c179a7f5ceb46d4fcae08dbfb47}} 
\index{Utility@{Utility}!name@{name}}
\index{name@{name}!Utility@{Utility}}
\subsubsection{\texorpdfstring{name}{name}}
{\footnotesize\ttfamily const char$\ast$ Utility\+::name}



A pointer to the name of the utility. 

\mbox{\Hypertarget{classUtility_a0548db3746582251082aa430db49dad0}\label{classUtility_a0548db3746582251082aa430db49dad0}} 
\index{Utility@{Utility}!number\+\_\+of\+\_\+week\+\_\+demands@{number\+\_\+of\+\_\+week\+\_\+demands}}
\index{number\+\_\+of\+\_\+week\+\_\+demands@{number\+\_\+of\+\_\+week\+\_\+demands}!Utility@{Utility}}
\subsubsection{\texorpdfstring{number\+\_\+of\+\_\+week\+\_\+demands}{number\_of\_week\_demands}}
{\footnotesize\ttfamily const int Utility\+::number\+\_\+of\+\_\+week\+\_\+demands}



The number of weeks where demand data is available. 

\mbox{\Hypertarget{classUtility_a7b1a097ec188be8e7175d058b5e6596c}\label{classUtility_a7b1a097ec188be8e7175d058b5e6596c}} 
\index{Utility@{Utility}!percent\+\_\+contingency\+\_\+fund\+\_\+contribution@{percent\+\_\+contingency\+\_\+fund\+\_\+contribution}}
\index{percent\+\_\+contingency\+\_\+fund\+\_\+contribution@{percent\+\_\+contingency\+\_\+fund\+\_\+contribution}!Utility@{Utility}}
\subsubsection{\texorpdfstring{percent\+\_\+contingency\+\_\+fund\+\_\+contribution}{percent\_contingency\_fund\_contribution}}
{\footnotesize\ttfamily const double Utility\+::percent\+\_\+contingency\+\_\+fund\+\_\+contribution}



The percentage contribution of its gross revenue to the contingency fund. 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/fs02/pmr82\+\_\+0001/lbl59/\+Water\+Paths-\/doc/src/\+System\+Components/\+Utility/\mbox{\hyperlink{Utility_8h}{Utility.\+h}}\end{DoxyCompactItemize}
