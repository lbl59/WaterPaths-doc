\hypertarget{classRestrictions}{}\section{Restrictions Class Reference}
\label{classRestrictions}\index{Restrictions@{Restrictions}}


{\ttfamily \#include $<$Restrictions.\+h$>$}

Inheritance diagram for Restrictions\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classRestrictions}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classRestrictions_aec6f37bfaec7d6e22e82945289fd9acc_aec6f37bfaec7d6e22e82945289fd9acc}{Restrictions}} (const int \mbox{\hyperlink{classDroughtMitigationPolicy_abf3ed19ed98e0d74dc9ae24094be640b_abf3ed19ed98e0d74dc9ae24094be640b}{id}}, const vector$<$ double $>$ \&\mbox{\hyperlink{classRestrictions_ae05c6899c05a7ffe39c4ceb7cdcd3daf_ae05c6899c05a7ffe39c4ceb7cdcd3daf}{stage\+\_\+multipliers}}, const vector$<$ double $>$ \&\mbox{\hyperlink{classRestrictions_a1c519068b4ab14737f726817f1edf9d0_a1c519068b4ab14737f726817f1edf9d0}{stage\+\_\+triggers}})
\item 
\mbox{\hyperlink{classRestrictions_a78083b572f1368bb863d40d7da807077_a78083b572f1368bb863d40d7da807077}{Restrictions}} (const int \mbox{\hyperlink{classDroughtMitigationPolicy_abf3ed19ed98e0d74dc9ae24094be640b_abf3ed19ed98e0d74dc9ae24094be640b}{id}}, const vector$<$ double $>$ \&\mbox{\hyperlink{classRestrictions_ae05c6899c05a7ffe39c4ceb7cdcd3daf_ae05c6899c05a7ffe39c4ceb7cdcd3daf}{stage\+\_\+multipliers}}, const vector$<$ double $>$ \&\mbox{\hyperlink{classRestrictions_a1c519068b4ab14737f726817f1edf9d0_a1c519068b4ab14737f726817f1edf9d0}{stage\+\_\+triggers}}, const vector$<$ vector$<$ double $>$$>$ $\ast$types\+Monthly\+Demand\+Fraction, const vector$<$ vector$<$ double $>$$>$ $\ast$types\+Monthly\+Water\+Price, const vector$<$ vector$<$ double $>$$>$ $\ast$price\+Multipliers)
\item 
\mbox{\hyperlink{classRestrictions_aa8653b70ff7eedb4e8fc1b21ebf2ead9_aa8653b70ff7eedb4e8fc1b21ebf2ead9}{Restrictions}} (const \mbox{\hyperlink{classRestrictions}{Restrictions}} \&reservoir)
\item 
void \mbox{\hyperlink{classRestrictions_a1ef7559adc034bdddd047ee776b5f9a9_a1ef7559adc034bdddd047ee776b5f9a9}{apply\+Policy}} (int week) override
\item 
void \mbox{\hyperlink{classRestrictions_ab0a2b62495d6cdd8d1fedba419c05c37_ab0a2b62495d6cdd8d1fedba419c05c37}{add\+System\+Components}} (vector$<$ \mbox{\hyperlink{classUtility}{Utility}} $\ast$$>$ systems\+\_\+utilities, vector$<$ \mbox{\hyperlink{classWaterSource}{Water\+Source}} $\ast$$>$ water\+\_\+sources, vector$<$ \mbox{\hyperlink{classMinEnvFlowControl}{Min\+Env\+Flow\+Control}} $\ast$$>$ min\+\_\+env\+\_\+flow\+\_\+controls) override
\item 
double \mbox{\hyperlink{classRestrictions_a4282debfe00607f87f59a08ec1844d40_a4282debfe00607f87f59a08ec1844d40}{get\+Current\+\_\+multiplier}} () const
\item 
\mbox{\hyperlink{classRestrictions_a54c8a857a2beed78d34a46c36951b004_a54c8a857a2beed78d34a46c36951b004}{$\sim$\+Restrictions}} ()
\item 
void \mbox{\hyperlink{classRestrictions_a5155dcecc8b995c1793fa400f1533959_a5155dcecc8b995c1793fa400f1533959}{calculate\+Weekly\+Average\+Water\+Prices}} (const vector$<$ vector$<$ double $>$$>$ $\ast$types\+Monthly\+Demand\+Fraction, const vector$<$ vector$<$ double $>$$>$ $\ast$types\+Monthly\+Water\+Price, const vector$<$ vector$<$ double $>$$>$ $\ast$price\+Multipliers)
\item 
void \mbox{\hyperlink{classRestrictions_abc17a8a403311933a3bb58fbecd5f5fd_abc17a8a403311933a3bb58fbecd5f5fd}{set\+Realization}} (unsigned long realization\+\_\+id, vector$<$ double $>$ \&utilities\+\_\+rdm, vector$<$ double $>$ \&water\+\_\+sources\+\_\+rdm, vector$<$ double $>$ \&policy\+\_\+rdm) override
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
vector$<$ double $>$ \mbox{\hyperlink{classRestrictions_ae05c6899c05a7ffe39c4ceb7cdcd3daf_ae05c6899c05a7ffe39c4ceb7cdcd3daf}{stage\+\_\+multipliers}}
\item 
const vector$<$ double $>$ \mbox{\hyperlink{classRestrictions_a1c519068b4ab14737f726817f1edf9d0_a1c519068b4ab14737f726817f1edf9d0}{stage\+\_\+triggers}}
\item 
double \mbox{\hyperlink{classRestrictions_aa640571d6082e54187bc1472c6114f69_aa640571d6082e54187bc1472c6114f69}{current\+\_\+multiplier}} = 0
\item 
vector$<$ vector$<$ double $>$ $>$ \mbox{\hyperlink{classRestrictions_a987355e7c1e8e614faccb8aa06523563_a987355e7c1e8e614faccb8aa06523563}{restricted\+\_\+weekly\+\_\+average\+\_\+volumetric\+\_\+price}}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classRestrictions_aec6f37bfaec7d6e22e82945289fd9acc_aec6f37bfaec7d6e22e82945289fd9acc}\label{classRestrictions_aec6f37bfaec7d6e22e82945289fd9acc_aec6f37bfaec7d6e22e82945289fd9acc}} 
\index{Restrictions@{Restrictions}!Restrictions@{Restrictions}}
\index{Restrictions@{Restrictions}!Restrictions@{Restrictions}}
\subsubsection{\texorpdfstring{Restrictions()}{Restrictions()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily Restrictions\+::\+Restrictions (\begin{DoxyParamCaption}\item[{const int}]{id,  }\item[{const vector$<$ double $>$ \&}]{stage\+\_\+multipliers,  }\item[{const vector$<$ double $>$ \&}]{stage\+\_\+triggers }\end{DoxyParamCaption})}

Restriction policy. 
\begin{DoxyParams}{Parameters}
{\em id} & \\
\hline
{\em stage\+\_\+multipliers} & \\
\hline
{\em stage\+\_\+triggers} & \\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000003}{Todo}}]set lower R\+OF threshold for utilities to lift restrictions. 

implement drought surcharges. \end{DoxyRefDesc}
\mbox{\Hypertarget{classRestrictions_a78083b572f1368bb863d40d7da807077_a78083b572f1368bb863d40d7da807077}\label{classRestrictions_a78083b572f1368bb863d40d7da807077_a78083b572f1368bb863d40d7da807077}} 
\index{Restrictions@{Restrictions}!Restrictions@{Restrictions}}
\index{Restrictions@{Restrictions}!Restrictions@{Restrictions}}
\subsubsection{\texorpdfstring{Restrictions()}{Restrictions()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily Restrictions\+::\+Restrictions (\begin{DoxyParamCaption}\item[{const int}]{id,  }\item[{const vector$<$ double $>$ \&}]{stage\+\_\+multipliers,  }\item[{const vector$<$ double $>$ \&}]{stage\+\_\+triggers,  }\item[{const vector$<$ vector$<$ double $>$$>$ $\ast$}]{types\+Monthly\+Demand\+Fraction,  }\item[{const vector$<$ vector$<$ double $>$$>$ $\ast$}]{types\+Monthly\+Water\+Price,  }\item[{const vector$<$ vector$<$ double $>$$>$ $\ast$}]{price\+Multipliers }\end{DoxyParamCaption})}

\mbox{\Hypertarget{classRestrictions_aa8653b70ff7eedb4e8fc1b21ebf2ead9_aa8653b70ff7eedb4e8fc1b21ebf2ead9}\label{classRestrictions_aa8653b70ff7eedb4e8fc1b21ebf2ead9_aa8653b70ff7eedb4e8fc1b21ebf2ead9}} 
\index{Restrictions@{Restrictions}!Restrictions@{Restrictions}}
\index{Restrictions@{Restrictions}!Restrictions@{Restrictions}}
\subsubsection{\texorpdfstring{Restrictions()}{Restrictions()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily Restrictions\+::\+Restrictions (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classRestrictions}{Restrictions}} \&}]{reservoir }\end{DoxyParamCaption})}

\mbox{\Hypertarget{classRestrictions_a54c8a857a2beed78d34a46c36951b004_a54c8a857a2beed78d34a46c36951b004}\label{classRestrictions_a54c8a857a2beed78d34a46c36951b004_a54c8a857a2beed78d34a46c36951b004}} 
\index{Restrictions@{Restrictions}!````~Restrictions@{$\sim$\+Restrictions}}
\index{````~Restrictions@{$\sim$\+Restrictions}!Restrictions@{Restrictions}}
\subsubsection{\texorpdfstring{$\sim$\+Restrictions()}{~Restrictions()}}
{\footnotesize\ttfamily Restrictions\+::$\sim$\+Restrictions (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classRestrictions_ab0a2b62495d6cdd8d1fedba419c05c37_ab0a2b62495d6cdd8d1fedba419c05c37}\label{classRestrictions_ab0a2b62495d6cdd8d1fedba419c05c37_ab0a2b62495d6cdd8d1fedba419c05c37}} 
\index{Restrictions@{Restrictions}!add\+System\+Components@{add\+System\+Components}}
\index{add\+System\+Components@{add\+System\+Components}!Restrictions@{Restrictions}}
\subsubsection{\texorpdfstring{add\+System\+Components()}{addSystemComponents()}}
{\footnotesize\ttfamily void Restrictions\+::add\+System\+Components (\begin{DoxyParamCaption}\item[{vector$<$ \mbox{\hyperlink{classUtility}{Utility}} $\ast$$>$}]{systems\+\_\+utilities,  }\item[{vector$<$ \mbox{\hyperlink{classWaterSource}{Water\+Source}} $\ast$$>$}]{water\+\_\+sources,  }\item[{vector$<$ \mbox{\hyperlink{classMinEnvFlowControl}{Min\+Env\+Flow\+Control}} $\ast$$>$}]{min\+\_\+env\+\_\+flow\+\_\+controls }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Get utility whose I\+Ds correspond to restriction policy ID.

Link utility to policy. 

Implements \mbox{\hyperlink{classDroughtMitigationPolicy_aaab042a79d781afe8e08753b7012372a_aaab042a79d781afe8e08753b7012372a}{Drought\+Mitigation\+Policy}}.

\mbox{\Hypertarget{classRestrictions_a1ef7559adc034bdddd047ee776b5f9a9_a1ef7559adc034bdddd047ee776b5f9a9}\label{classRestrictions_a1ef7559adc034bdddd047ee776b5f9a9_a1ef7559adc034bdddd047ee776b5f9a9}} 
\index{Restrictions@{Restrictions}!apply\+Policy@{apply\+Policy}}
\index{apply\+Policy@{apply\+Policy}!Restrictions@{Restrictions}}
\subsubsection{\texorpdfstring{apply\+Policy()}{applyPolicy()}}
{\footnotesize\ttfamily void Restrictions\+::apply\+Policy (\begin{DoxyParamCaption}\item[{int}]{week }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Loop through restriction stage rof triggers to see which stage should be applied, if any.

Demand multiplier to be applied, based on the rofs. 

Implements \mbox{\hyperlink{classDroughtMitigationPolicy_a76c1a85eaf7707306fe173b6437cc31d_a76c1a85eaf7707306fe173b6437cc31d}{Drought\+Mitigation\+Policy}}.

\mbox{\Hypertarget{classRestrictions_a5155dcecc8b995c1793fa400f1533959_a5155dcecc8b995c1793fa400f1533959}\label{classRestrictions_a5155dcecc8b995c1793fa400f1533959_a5155dcecc8b995c1793fa400f1533959}} 
\index{Restrictions@{Restrictions}!calculate\+Weekly\+Average\+Water\+Prices@{calculate\+Weekly\+Average\+Water\+Prices}}
\index{calculate\+Weekly\+Average\+Water\+Prices@{calculate\+Weekly\+Average\+Water\+Prices}!Restrictions@{Restrictions}}
\subsubsection{\texorpdfstring{calculate\+Weekly\+Average\+Water\+Prices()}{calculateWeeklyAverageWaterPrices()}}
{\footnotesize\ttfamily void Restrictions\+::calculate\+Weekly\+Average\+Water\+Prices (\begin{DoxyParamCaption}\item[{const vector$<$ vector$<$ double $>$$>$ $\ast$}]{types\+Monthly\+Demand\+Fraction,  }\item[{const vector$<$ vector$<$ double $>$$>$ $\ast$}]{types\+Monthly\+Water\+Price,  }\item[{const vector$<$ vector$<$ double $>$$>$ $\ast$}]{price\+Multipliers }\end{DoxyParamCaption})}

Calculates average water price from consumer types and respective prices. 
\begin{DoxyParams}{Parameters}
{\em types\+Monthly\+Demand\+Fraction} & \\
\hline
{\em types\+Monthly\+Water\+Price} & \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classRestrictions_a4282debfe00607f87f59a08ec1844d40_a4282debfe00607f87f59a08ec1844d40}\label{classRestrictions_a4282debfe00607f87f59a08ec1844d40_a4282debfe00607f87f59a08ec1844d40}} 
\index{Restrictions@{Restrictions}!get\+Current\+\_\+multiplier@{get\+Current\+\_\+multiplier}}
\index{get\+Current\+\_\+multiplier@{get\+Current\+\_\+multiplier}!Restrictions@{Restrictions}}
\subsubsection{\texorpdfstring{get\+Current\+\_\+multiplier()}{getCurrent\_multiplier()}}
{\footnotesize\ttfamily double Restrictions\+::get\+Current\+\_\+multiplier (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

\mbox{\Hypertarget{classRestrictions_abc17a8a403311933a3bb58fbecd5f5fd_abc17a8a403311933a3bb58fbecd5f5fd}\label{classRestrictions_abc17a8a403311933a3bb58fbecd5f5fd_abc17a8a403311933a3bb58fbecd5f5fd}} 
\index{Restrictions@{Restrictions}!set\+Realization@{set\+Realization}}
\index{set\+Realization@{set\+Realization}!Restrictions@{Restrictions}}
\subsubsection{\texorpdfstring{set\+Realization()}{setRealization()}}
{\footnotesize\ttfamily void Restrictions\+::set\+Realization (\begin{DoxyParamCaption}\item[{unsigned long}]{realization\+\_\+id,  }\item[{vector$<$ double $>$ \&}]{utilities\+\_\+rdm,  }\item[{vector$<$ double $>$ \&}]{water\+\_\+sources\+\_\+rdm,  }\item[{vector$<$ double $>$ \&}]{policy\+\_\+rdm }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classDroughtMitigationPolicy_a5d2033543cacca1e412eebef5106eab4_a5d2033543cacca1e412eebef5106eab4}{Drought\+Mitigation\+Policy}}.



\subsection{Field Documentation}
\mbox{\Hypertarget{classRestrictions_aa640571d6082e54187bc1472c6114f69_aa640571d6082e54187bc1472c6114f69}\label{classRestrictions_aa640571d6082e54187bc1472c6114f69_aa640571d6082e54187bc1472c6114f69}} 
\index{Restrictions@{Restrictions}!current\+\_\+multiplier@{current\+\_\+multiplier}}
\index{current\+\_\+multiplier@{current\+\_\+multiplier}!Restrictions@{Restrictions}}
\subsubsection{\texorpdfstring{current\+\_\+multiplier}{current\_multiplier}}
{\footnotesize\ttfamily double Restrictions\+::current\+\_\+multiplier = 0\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classRestrictions_a987355e7c1e8e614faccb8aa06523563_a987355e7c1e8e614faccb8aa06523563}\label{classRestrictions_a987355e7c1e8e614faccb8aa06523563_a987355e7c1e8e614faccb8aa06523563}} 
\index{Restrictions@{Restrictions}!restricted\+\_\+weekly\+\_\+average\+\_\+volumetric\+\_\+price@{restricted\+\_\+weekly\+\_\+average\+\_\+volumetric\+\_\+price}}
\index{restricted\+\_\+weekly\+\_\+average\+\_\+volumetric\+\_\+price@{restricted\+\_\+weekly\+\_\+average\+\_\+volumetric\+\_\+price}!Restrictions@{Restrictions}}
\subsubsection{\texorpdfstring{restricted\+\_\+weekly\+\_\+average\+\_\+volumetric\+\_\+price}{restricted\_weekly\_average\_volumetric\_price}}
{\footnotesize\ttfamily vector$<$vector$<$double$>$ $>$ Restrictions\+::restricted\+\_\+weekly\+\_\+average\+\_\+volumetric\+\_\+price\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classRestrictions_ae05c6899c05a7ffe39c4ceb7cdcd3daf_ae05c6899c05a7ffe39c4ceb7cdcd3daf}\label{classRestrictions_ae05c6899c05a7ffe39c4ceb7cdcd3daf_ae05c6899c05a7ffe39c4ceb7cdcd3daf}} 
\index{Restrictions@{Restrictions}!stage\+\_\+multipliers@{stage\+\_\+multipliers}}
\index{stage\+\_\+multipliers@{stage\+\_\+multipliers}!Restrictions@{Restrictions}}
\subsubsection{\texorpdfstring{stage\+\_\+multipliers}{stage\_multipliers}}
{\footnotesize\ttfamily vector$<$double$>$ Restrictions\+::stage\+\_\+multipliers\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classRestrictions_a1c519068b4ab14737f726817f1edf9d0_a1c519068b4ab14737f726817f1edf9d0}\label{classRestrictions_a1c519068b4ab14737f726817f1edf9d0_a1c519068b4ab14737f726817f1edf9d0}} 
\index{Restrictions@{Restrictions}!stage\+\_\+triggers@{stage\+\_\+triggers}}
\index{stage\+\_\+triggers@{stage\+\_\+triggers}!Restrictions@{Restrictions}}
\subsubsection{\texorpdfstring{stage\+\_\+triggers}{stage\_triggers}}
{\footnotesize\ttfamily const vector$<$double$>$ Restrictions\+::stage\+\_\+triggers\hspace{0.3cm}{\ttfamily [private]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/\+Drought\+Mitigation\+Instruments/\mbox{\hyperlink{Restrictions_8h}{Restrictions.\+h}}\item 
src/\+Drought\+Mitigation\+Instruments/\mbox{\hyperlink{Restrictions_8cpp}{Restrictions.\+cpp}}\end{DoxyCompactItemize}
