\hypertarget{classAllocatedReservoir}{}\section{Allocated\+Reservoir Class Reference}
\label{classAllocatedReservoir}\index{Allocated\+Reservoir@{Allocated\+Reservoir}}


{\ttfamily \#include $<$Allocated\+Reservoir.\+h$>$}

Inheritance diagram for Allocated\+Reservoir\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classAllocatedReservoir}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classAllocatedReservoir_a0b2d620a1d1fe9a9fe053269f35a9a70}{Allocated\+Reservoir}} (const char $\ast$\mbox{\hyperlink{classWaterSource_a846ea74c5b453d014f594d41fee8c765}{name}}, const int \mbox{\hyperlink{classWaterSource_a6eafe5dfefd317877d1244e8a7c6e742}{id}}, const vector$<$ \mbox{\hyperlink{classCatchment}{Catchment}} $\ast$$>$ \&\mbox{\hyperlink{classWaterSource_a8c18c34f23f8a06685c1d12f462ed830}{catchments}}, const double \mbox{\hyperlink{classWaterSource_a2ec257b415b248214a8bce7fc5267723}{capacity}}, const double max\+\_\+treatment\+\_\+capacity, Evaporation\+Series \&\mbox{\hyperlink{classReservoir_a2d2d9b302c13703309bb798d24136810}{evaporation\+\_\+series}}, Data\+Series $\ast$\mbox{\hyperlink{classReservoir_a46bd5b750963dfa9a57b247fd77ab8ff}{storage\+\_\+area\+\_\+curve}}, vector$<$ int $>$ $\ast$\mbox{\hyperlink{classWaterSource_ac345583fc2d0f7e1db31ee40244d7ace}{utilities\+\_\+with\+\_\+allocations}}, vector$<$ double $>$ $\ast$\mbox{\hyperlink{classWaterSource_a2f6655a80c4847fe039987255d9d998c}{allocated\+\_\+fractions}}, vector$<$ double $>$ $\ast$\mbox{\hyperlink{classWaterSource_aa73fe10cfc6579b2fb79529e1dde5140}{allocated\+\_\+treatment\+\_\+fractions}})
\begin{DoxyCompactList}\small\item\em Constructor for the \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} class. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classAllocatedReservoir_a22794afc1f06d13fc3099015a2250b0d}{Allocated\+Reservoir}} (const char $\ast$\mbox{\hyperlink{classWaterSource_a846ea74c5b453d014f594d41fee8c765}{name}}, const int \mbox{\hyperlink{classWaterSource_a6eafe5dfefd317877d1244e8a7c6e742}{id}}, const vector$<$ \mbox{\hyperlink{classCatchment}{Catchment}} $\ast$$>$ \&\mbox{\hyperlink{classWaterSource_a8c18c34f23f8a06685c1d12f462ed830}{catchments}}, const double \mbox{\hyperlink{classWaterSource_a2ec257b415b248214a8bce7fc5267723}{capacity}}, const double max\+\_\+treatment\+\_\+capacity, Evaporation\+Series \&\mbox{\hyperlink{classReservoir_a2d2d9b302c13703309bb798d24136810}{evaporation\+\_\+series}}, Data\+Series $\ast$\mbox{\hyperlink{classReservoir_a46bd5b750963dfa9a57b247fd77ab8ff}{storage\+\_\+area\+\_\+curve}}, const vector$<$ double $>$ \&construction\+\_\+time\+\_\+range, double permitting\+\_\+period, \mbox{\hyperlink{classBond}{Bond}} \&bond, vector$<$ int $>$ $\ast$\mbox{\hyperlink{classWaterSource_ac345583fc2d0f7e1db31ee40244d7ace}{utilities\+\_\+with\+\_\+allocations}}, vector$<$ double $>$ $\ast$\mbox{\hyperlink{classWaterSource_a2f6655a80c4847fe039987255d9d998c}{allocated\+\_\+fractions}}, vector$<$ double $>$ $\ast$\mbox{\hyperlink{classWaterSource_aa73fe10cfc6579b2fb79529e1dde5140}{allocated\+\_\+treatment\+\_\+fractions}})
\begin{DoxyCompactList}\small\item\em Constructor for the \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} class. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classAllocatedReservoir_a17a60d40d936b1a68459d0bd9578aada}{Allocated\+Reservoir}} (const char $\ast$\mbox{\hyperlink{classWaterSource_a846ea74c5b453d014f594d41fee8c765}{name}}, const int \mbox{\hyperlink{classWaterSource_a6eafe5dfefd317877d1244e8a7c6e742}{id}}, const vector$<$ \mbox{\hyperlink{classCatchment}{Catchment}} $\ast$$>$ \&\mbox{\hyperlink{classWaterSource_a8c18c34f23f8a06685c1d12f462ed830}{catchments}}, const double \mbox{\hyperlink{classWaterSource_a2ec257b415b248214a8bce7fc5267723}{capacity}}, const double max\+\_\+treatment\+\_\+capacity, Evaporation\+Series \&\mbox{\hyperlink{classReservoir_a2d2d9b302c13703309bb798d24136810}{evaporation\+\_\+series}}, double storage\+\_\+area, vector$<$ int $>$ $\ast$\mbox{\hyperlink{classWaterSource_ac345583fc2d0f7e1db31ee40244d7ace}{utilities\+\_\+with\+\_\+allocations}}, vector$<$ double $>$ $\ast$\mbox{\hyperlink{classWaterSource_a2f6655a80c4847fe039987255d9d998c}{allocated\+\_\+fractions}}, vector$<$ double $>$ $\ast$\mbox{\hyperlink{classWaterSource_aa73fe10cfc6579b2fb79529e1dde5140}{allocated\+\_\+treatment\+\_\+fractions}})
\begin{DoxyCompactList}\small\item\em Constructor for the \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} class. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classAllocatedReservoir_a44ac982717a21a0b24bb3019d07ffe89}{Allocated\+Reservoir}} (const char $\ast$\mbox{\hyperlink{classWaterSource_a846ea74c5b453d014f594d41fee8c765}{name}}, const int \mbox{\hyperlink{classWaterSource_a6eafe5dfefd317877d1244e8a7c6e742}{id}}, const vector$<$ \mbox{\hyperlink{classCatchment}{Catchment}} $\ast$$>$ \&\mbox{\hyperlink{classWaterSource_a8c18c34f23f8a06685c1d12f462ed830}{catchments}}, const double \mbox{\hyperlink{classWaterSource_a2ec257b415b248214a8bce7fc5267723}{capacity}}, const double max\+\_\+treatment\+\_\+capacity, Evaporation\+Series \&\mbox{\hyperlink{classReservoir_a2d2d9b302c13703309bb798d24136810}{evaporation\+\_\+series}}, double storage\+\_\+area, const vector$<$ double $>$ \&construction\+\_\+time\+\_\+range, double permitting\+\_\+period, \mbox{\hyperlink{classBond}{Bond}} \&bond, vector$<$ int $>$ $\ast$\mbox{\hyperlink{classWaterSource_ac345583fc2d0f7e1db31ee40244d7ace}{utilities\+\_\+with\+\_\+allocations}}, vector$<$ double $>$ $\ast$\mbox{\hyperlink{classWaterSource_a2f6655a80c4847fe039987255d9d998c}{allocated\+\_\+fractions}}, vector$<$ double $>$ $\ast$\mbox{\hyperlink{classWaterSource_aa73fe10cfc6579b2fb79529e1dde5140}{allocated\+\_\+treatment\+\_\+fractions}})
\begin{DoxyCompactList}\small\item\em Constructor for the \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} class. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classAllocatedReservoir_a59098eb446ada7a23e914543f3c419c0}{Allocated\+Reservoir}} (const \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} \&allocated\+\_\+reservoir)
\begin{DoxyCompactList}\small\item\em Copy constructor for the \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} class. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} \& \mbox{\hyperlink{classAllocatedReservoir_a31c1733dbf7385599f1b9866df353b4c}{operator=}} (const \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} \&allocated\+\_\+reservoir)
\begin{DoxyCompactList}\small\item\em Assignment operator for the \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} class. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classAllocatedReservoir_a3fc9aaca619a97d338449384e579900c}{$\sim$\+Allocated\+Reservoir}} ()
\begin{DoxyCompactList}\small\item\em Destructor for the \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} class. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classAllocatedReservoir_aa5a3683ac3a1e7a778627332c6a7fff7}{apply\+Continuity}} (int week, double \mbox{\hyperlink{classWaterSource_a7a69b2e9b6030f1035e6cf44d2918ee5}{upstream\+\_\+source\+\_\+inflow}}, double \mbox{\hyperlink{classWaterSource_aeb5a2d2d83383a70ca20f3e94635a9c7}{wastewater\+\_\+inflow}}, vector$<$ double $>$ \&demand\+\_\+outflow) override
\begin{DoxyCompactList}\small\item\em Updates reservoir state by applying water balance equations for a given week. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classAllocatedReservoir_aea294cbca1e1630a1307072632d14b05}{set\+Full}} () override
\begin{DoxyCompactList}\small\item\em Sets the reservoir and all allocated volumes to full capacity. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classAllocatedReservoir_ae161ebfc285aa69cb8b7f4fe20ee7a2e}{get\+Available\+Allocated\+Volume}} (int utility\+\_\+id) override
\begin{DoxyCompactList}\small\item\em Retrieves the available allocated volume for a specific utility. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classAllocatedReservoir_a3a9b7ce2e1d42cc373095cfd40ef2ae2}{remove\+Water}} (int allocation\+\_\+id, double volume) override
\begin{DoxyCompactList}\small\item\em Removes a utility\textquotesingle{}s allocated volume of water from the reservoir updates the reservoir state. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classAllocatedReservoir_a8b9b38494fa23f0bea78134c82644bf1}{get\+Allocated\+Capacity}} (int utility\+\_\+id) override
\begin{DoxyCompactList}\small\item\em Retrieves the allocated capacity for a specific utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classAllocatedReservoir_a731381982c9245b0bf24db4082dc74c1}{get\+Allocated\+Fraction}} (int utility\+\_\+id) override
\begin{DoxyCompactList}\small\item\em Retrieves the allocated fraction of capacity for a specific utility. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classAllocatedReservoir_a191cf4347eb2ea57b203c102f8fc805e}{add\+Capacity}} (double \mbox{\hyperlink{classWaterSource_a2ec257b415b248214a8bce7fc5267723}{capacity}}, int utility\+\_\+id) override
\begin{DoxyCompactList}\small\item\em Adds capacity to the reservoir and adjusts allocations for each utility. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classAllocatedReservoir_ab781bee3253277f1dcfa4c12756d9d6f}{add\+Treatment\+Capacity}} (const double added\+\_\+plant\+\_\+treatment\+\_\+capacity, int utility\+\_\+id) override
\begin{DoxyCompactList}\small\item\em Adds treatment capacity to the reservoir for a specific utility and updates allocation fractions. This function increases the plant\textquotesingle{}s treatment capacity for a specified utility and recalculates the treatment allocation fractions for all utilities. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classAllocatedReservoir_aba81b93e1aa1154ce411248903fabde6}{get\+Allocated\+Treatment\+Capacity}} (int utility\+\_\+id) const override
\begin{DoxyCompactList}\small\item\em Retrieves the allocated treatment capacity for a specific utility. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classAllocatedReservoir_a114e9cde6a106b786ca0ed39283cbbed}{get\+Supply\+Allocated\+Fraction}} (int utility\+\_\+id) override
\begin{DoxyCompactList}\small\item\em Retrieves the supply allocated fraction for a specific utility. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classAllocatedReservoir_a9d025365aa42dfff13a0aac8ea7863fa}{mass\+\_\+balance\+\_\+with\+\_\+wq\+\_\+pool}} (double net\+\_\+inflow, vector$<$ double $>$ \&demand\+\_\+outflow)
\begin{DoxyCompactList}\small\item\em Performs the mass balance calculation for the reservoir with the water quality (WQ) pool. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classAllocatedReservoir_ac719b30d5a83ba19ea722449ce9580e1}{mass\+\_\+balance\+\_\+without\+\_\+wq\+\_\+pool}} (double net\+\_\+inflow, vector$<$ double $>$ \&demand\+\_\+outflow)
\begin{DoxyCompactList}\small\item\em Performs the mass balance calculation for the reservoir without considering the water quality (WQ) pool. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classAllocatedReservoir_a739d93f7981f597a3db0a3d613304b8e}{set\+Online}} () override
\begin{DoxyCompactList}\small\item\em Sets the reservoir online, initializing available volume and allocated volumes. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
const bool \mbox{\hyperlink{classAllocatedReservoir_af6a1924f60de19b7f77781af0419c39b}{has\+\_\+water\+\_\+quality\+\_\+pool}}
\begin{DoxyCompactList}\small\item\em A flag to indicate if the reservoir has a water quality pool. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classAllocatedReservoir_ae34d7123ff096d676609e32ba4b83e47}{continuity\+\_\+error}}
\begin{DoxyCompactList}\small\item\em The error in calculating inflow continuity. Calculated as the total\+\_\+outflow of the reservoir + available\+\_\+allocated\+\_\+volumes to a specific utility. Should be zero. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classAllocatedReservoir_a0b2d620a1d1fe9a9fe053269f35a9a70}\label{classAllocatedReservoir_a0b2d620a1d1fe9a9fe053269f35a9a70}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{Allocated\+Reservoir()}{AllocatedReservoir()}\hspace{0.1cm}{\footnotesize\ttfamily [1/5]}}
{\footnotesize\ttfamily Allocated\+Reservoir\+::\+Allocated\+Reservoir (\begin{DoxyParamCaption}\item[{const char $\ast$}]{name,  }\item[{const int}]{id,  }\item[{const vector$<$ \mbox{\hyperlink{classCatchment}{Catchment}} $\ast$$>$ \&}]{catchments,  }\item[{const double}]{capacity,  }\item[{const double}]{max\+\_\+treatment\+\_\+capacity,  }\item[{Evaporation\+Series \&}]{evaporation\+\_\+series,  }\item[{Data\+Series $\ast$}]{storage\+\_\+area\+\_\+curve,  }\item[{vector$<$ int $>$ $\ast$}]{utilities\+\_\+with\+\_\+allocations,  }\item[{vector$<$ double $>$ $\ast$}]{allocated\+\_\+fractions,  }\item[{vector$<$ double $>$ $\ast$}]{allocated\+\_\+treatment\+\_\+fractions }\end{DoxyParamCaption})}



Constructor for the \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} class. 

This function initializes an \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} object with the specified parameters. It sets up the reservoir’s name, ID, catchments, capacities, and various allocation fractions. Additionally, it checks if the water quality pool is initialized.


\begin{DoxyParams}{Parameters}
{\em name} & The name of the reservoir. \\
\hline
{\em id} & The unique identifier for the reservoir. \\
\hline
{\em catchments} & A vector of pointers to catchment objects associated with the reservoir. \\
\hline
{\em capacity} & The total capacity of the reservoir. \\
\hline
{\em max\+\_\+treatment\+\_\+capacity} & The maximum treatment capacity of the reservoir. \\
\hline
{\em evaporation\+\_\+series} & The evaporation series object associated with the reservoir. \\
\hline
{\em storage\+\_\+area\+\_\+curve} & A pointer to a Data\+Series object representing the storage area curve. \\
\hline
{\em utilities\+\_\+with\+\_\+allocations} & A pointer to a vector of integers representing the utilities with allocations. \\
\hline
{\em allocated\+\_\+fractions} & A pointer to a vector of doubles representing the allocated fractions of the reservoir. \\
\hline
{\em allocated\+\_\+treatment\+\_\+fractions} & A pointer to a vector of doubles representing the allocated treatment fractions.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{classAllocatedReservoir_a22794afc1f06d13fc3099015a2250b0d}\label{classAllocatedReservoir_a22794afc1f06d13fc3099015a2250b0d}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{Allocated\+Reservoir()}{AllocatedReservoir()}\hspace{0.1cm}{\footnotesize\ttfamily [2/5]}}
{\footnotesize\ttfamily Allocated\+Reservoir\+::\+Allocated\+Reservoir (\begin{DoxyParamCaption}\item[{const char $\ast$}]{name,  }\item[{const int}]{id,  }\item[{const vector$<$ \mbox{\hyperlink{classCatchment}{Catchment}} $\ast$$>$ \&}]{catchments,  }\item[{const double}]{capacity,  }\item[{const double}]{max\+\_\+treatment\+\_\+capacity,  }\item[{Evaporation\+Series \&}]{evaporation\+\_\+series,  }\item[{Data\+Series $\ast$}]{storage\+\_\+area\+\_\+curve,  }\item[{const vector$<$ double $>$ \&}]{construction\+\_\+time\+\_\+range,  }\item[{double}]{permitting\+\_\+period,  }\item[{\mbox{\hyperlink{classBond}{Bond}} \&}]{bond,  }\item[{vector$<$ int $>$ $\ast$}]{utilities\+\_\+with\+\_\+allocations,  }\item[{vector$<$ double $>$ $\ast$}]{allocated\+\_\+fractions,  }\item[{vector$<$ double $>$ $\ast$}]{allocated\+\_\+treatment\+\_\+fractions }\end{DoxyParamCaption})}



Constructor for the \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} class. 

This function initializes an \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} object with the specified parameters. It sets up additional attributes including construction time, permitting period, and bond information. Additionally, it checks if the water quality pool is initialized.


\begin{DoxyParams}{Parameters}
{\em name} & The name of the reservoir. \\
\hline
{\em id} & The unique identifier for the reservoir. \\
\hline
{\em catchments} & A vector of pointers to catchment objects associated with the reservoir. \\
\hline
{\em capacity} & The total capacity of the reservoir. \\
\hline
{\em max\+\_\+treatment\+\_\+capacity} & The maximum treatment capacity of the reservoir. \\
\hline
{\em evaporation\+\_\+series} & The evaporation series associated with the reservoir. \\
\hline
{\em storage\+\_\+area\+\_\+curve} & A pointer to a Data\+Series object representing the storage area curve. \\
\hline
{\em construction\+\_\+time\+\_\+range} & A vector of doubles representing the range of construction times for the reservoir. \\
\hline
{\em permitting\+\_\+period} & The permitting period for the reservoir. \\
\hline
{\em bond} & The \mbox{\hyperlink{classBond}{Bond}} object associated with the reservoir. \\
\hline
{\em utilities\+\_\+with\+\_\+allocations} & A pointer to a vector of integers representing the utilities with allocations. \\
\hline
{\em allocated\+\_\+fractions} & A pointer to a vector of doubles representing the allocated fractions of the reservoir. \\
\hline
{\em allocated\+\_\+treatment\+\_\+fractions} & A pointer to a vector of doubles representing the allocated treatment fractions.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{classAllocatedReservoir_a17a60d40d936b1a68459d0bd9578aada}\label{classAllocatedReservoir_a17a60d40d936b1a68459d0bd9578aada}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{Allocated\+Reservoir()}{AllocatedReservoir()}\hspace{0.1cm}{\footnotesize\ttfamily [3/5]}}
{\footnotesize\ttfamily Allocated\+Reservoir\+::\+Allocated\+Reservoir (\begin{DoxyParamCaption}\item[{const char $\ast$}]{name,  }\item[{const int}]{id,  }\item[{const vector$<$ \mbox{\hyperlink{classCatchment}{Catchment}} $\ast$$>$ \&}]{catchments,  }\item[{const double}]{capacity,  }\item[{const double}]{max\+\_\+treatment\+\_\+capacity,  }\item[{Evaporation\+Series \&}]{evaporation\+\_\+series,  }\item[{double}]{storage\+\_\+area,  }\item[{vector$<$ int $>$ $\ast$}]{utilities\+\_\+with\+\_\+allocations,  }\item[{vector$<$ double $>$ $\ast$}]{allocated\+\_\+fractions,  }\item[{vector$<$ double $>$ $\ast$}]{allocated\+\_\+treatment\+\_\+fractions }\end{DoxyParamCaption})}



Constructor for the \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} class. 

This function initializes an \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} object with the specified parameters. It sets up a reservoir with a fixed storage area instead of a storage area curve. Additionally, it checks if the water quality pool is initialized.


\begin{DoxyParams}{Parameters}
{\em name} & The name of the reservoir. \\
\hline
{\em id} & The unique identifier for the reservoir. \\
\hline
{\em catchments} & A vector of pointers to catchment objects associated with the reservoir. \\
\hline
{\em capacity} & The total capacity of the reservoir. \\
\hline
{\em max\+\_\+treatment\+\_\+capacity} & The maximum treatment capacity of the reservoir. \\
\hline
{\em evaporation\+\_\+series} & The evaporation series object associated with the reservoir. \\
\hline
{\em storage\+\_\+area} & The storage area of the reservoir. \\
\hline
{\em utilities\+\_\+with\+\_\+allocations} & A pointer to a vector of integers representing the utilities with allocations. \\
\hline
{\em allocated\+\_\+fractions} & A pointer to a vector of doubles representing the allocated fractions of the reservoir. \\
\hline
{\em allocated\+\_\+treatment\+\_\+fractions} & A pointer to a vector of doubles representing the allocated treatment fractions.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{classAllocatedReservoir_a44ac982717a21a0b24bb3019d07ffe89}\label{classAllocatedReservoir_a44ac982717a21a0b24bb3019d07ffe89}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{Allocated\+Reservoir()}{AllocatedReservoir()}\hspace{0.1cm}{\footnotesize\ttfamily [4/5]}}
{\footnotesize\ttfamily Allocated\+Reservoir\+::\+Allocated\+Reservoir (\begin{DoxyParamCaption}\item[{const char $\ast$}]{name,  }\item[{const int}]{id,  }\item[{const vector$<$ \mbox{\hyperlink{classCatchment}{Catchment}} $\ast$$>$ \&}]{catchments,  }\item[{const double}]{capacity,  }\item[{const double}]{max\+\_\+treatment\+\_\+capacity,  }\item[{Evaporation\+Series \&}]{evaporation\+\_\+series,  }\item[{double}]{storage\+\_\+area,  }\item[{const vector$<$ double $>$ \&}]{construction\+\_\+time\+\_\+range,  }\item[{double}]{permitting\+\_\+period,  }\item[{\mbox{\hyperlink{classBond}{Bond}} \&}]{bond,  }\item[{vector$<$ int $>$ $\ast$}]{utilities\+\_\+with\+\_\+allocations,  }\item[{vector$<$ double $>$ $\ast$}]{allocated\+\_\+fractions,  }\item[{vector$<$ double $>$ $\ast$}]{allocated\+\_\+treatment\+\_\+fractions }\end{DoxyParamCaption})}



Constructor for the \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} class. 

This function initializes an \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} object with the specified parameters. It sets up additional attributes including construction time, permitting period, and bond information. It sets up a reservoir with a fixed storage area instead of a storage area curve. Additionally, it checks if the water quality pool is initialized.


\begin{DoxyParams}{Parameters}
{\em name} & The name of the reservoir. \\
\hline
{\em id} & The unique identifier for the reservoir. \\
\hline
{\em catchments} & A vector of pointers to catchment objects associated with the reservoir. \\
\hline
{\em capacity} & The total capacity of the reservoir. \\
\hline
{\em max\+\_\+treatment\+\_\+capacity} & The maximum treatment capacity of the reservoir. \\
\hline
{\em evaporation\+\_\+series} & The evaporation series associated with the reservoir. \\
\hline
{\em storage\+\_\+area} & The storage area of the reservoir. \\
\hline
{\em construction\+\_\+time\+\_\+range} & A vector of doubles representing the range of construction times for the reservoir. \\
\hline
{\em permitting\+\_\+period} & The permitting period for the reservoir. \\
\hline
{\em bond} & The \mbox{\hyperlink{classBond}{Bond}} object associated with the reservoir. \\
\hline
{\em utilities\+\_\+with\+\_\+allocations} & A pointer to a vector of integers representing the utilities with allocations. \\
\hline
{\em allocated\+\_\+fractions} & A pointer to a vector of doubles representing the allocated fractions of the reservoir. \\
\hline
{\em allocated\+\_\+treatment\+\_\+fractions} & A pointer to a vector of doubles representing the allocated treatment fractions.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{classAllocatedReservoir_a59098eb446ada7a23e914543f3c419c0}\label{classAllocatedReservoir_a59098eb446ada7a23e914543f3c419c0}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{Allocated\+Reservoir()}{AllocatedReservoir()}\hspace{0.1cm}{\footnotesize\ttfamily [5/5]}}
{\footnotesize\ttfamily Allocated\+Reservoir\+::\+Allocated\+Reservoir (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} \&}]{allocated\+\_\+reservoir }\end{DoxyParamCaption})}



Copy constructor for the \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} class. 

This function creates a new {\ttfamily \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}}} object as a copy of an existing one. It initializes the new object by copying the data members from the provided {\ttfamily allocated\+\_\+reservoir}, including the base class {\ttfamily \mbox{\hyperlink{classReservoir}{Reservoir}}} and the {\ttfamily has\+\_\+water\+\_\+quality\+\_\+pool} member.


\begin{DoxyParams}{Parameters}
{\em allocated\+\_\+reservoir} & The {\ttfamily \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}}} object to be copied.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{classAllocatedReservoir_a3fc9aaca619a97d338449384e579900c}\label{classAllocatedReservoir_a3fc9aaca619a97d338449384e579900c}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!````~Allocated\+Reservoir@{$\sim$\+Allocated\+Reservoir}}
\index{````~Allocated\+Reservoir@{$\sim$\+Allocated\+Reservoir}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{$\sim$\+Allocated\+Reservoir()}{~AllocatedReservoir()}}
{\footnotesize\ttfamily Allocated\+Reservoir\+::$\sim$\+Allocated\+Reservoir (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Destructor for the \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} class. 

This function cleans up the {\ttfamily \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}}} object when it goes out of scope. As it is defaulted, it relies on the compiler-\/generated destructor to handle cleanup.

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classAllocatedReservoir_a191cf4347eb2ea57b203c102f8fc805e}\label{classAllocatedReservoir_a191cf4347eb2ea57b203c102f8fc805e}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!add\+Capacity@{add\+Capacity}}
\index{add\+Capacity@{add\+Capacity}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{add\+Capacity()}{addCapacity()}}
{\footnotesize\ttfamily void Allocated\+Reservoir\+::add\+Capacity (\begin{DoxyParamCaption}\item[{double}]{capacity,  }\item[{int}]{utility\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Adds capacity to the reservoir and adjusts allocations for each utility. 

This function increases the reservoir\textquotesingle{}s total capacity and redistributes the added capacity among utilities based on their allocated fractions. This function overrides the base class {\ttfamily \mbox{\hyperlink{classReservoir}{Reservoir}}} function to include continuity calculations.


\begin{DoxyParams}{Parameters}
{\em capacity} & The additional capacity to be added to the reservoir. \\
\hline
{\em utility\+\_\+id} & The identifier of the utility initiating the capacity increase.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classWaterSource_ab869abb3d3dde1875e933482bedc3ae3}{Water\+Source}}.

\mbox{\Hypertarget{classAllocatedReservoir_ab781bee3253277f1dcfa4c12756d9d6f}\label{classAllocatedReservoir_ab781bee3253277f1dcfa4c12756d9d6f}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!add\+Treatment\+Capacity@{add\+Treatment\+Capacity}}
\index{add\+Treatment\+Capacity@{add\+Treatment\+Capacity}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{add\+Treatment\+Capacity()}{addTreatmentCapacity()}}
{\footnotesize\ttfamily void Allocated\+Reservoir\+::add\+Treatment\+Capacity (\begin{DoxyParamCaption}\item[{const double}]{added\+\_\+plant\+\_\+treatment\+\_\+capacity,  }\item[{int}]{utility\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Adds treatment capacity to the reservoir for a specific utility and updates allocation fractions. This function increases the plant\textquotesingle{}s treatment capacity for a specified utility and recalculates the treatment allocation fractions for all utilities. 

Both the total treatment capacity of the new plant and the fraction of the treatment capacity allocated to a given utility allow for joint treatment plants. To have one utility only building an exclusive plant, the fraction will be 1.

This function overrides the base class {\ttfamily \mbox{\hyperlink{classReservoir}{Reservoir}}} function to include continuity calculations.


\begin{DoxyParams}{Parameters}
{\em added\+\_\+plant\+\_\+treatment\+\_\+capacity} & The additional treatment capacity to be added. \\
\hline
{\em utility\+\_\+id} & The identifier of the utility receiving the additional treatment capacity.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classWaterSource_ac2bc1a09fce3a3201d62a73052b27b0b}{Water\+Source}}.

\mbox{\Hypertarget{classAllocatedReservoir_aa5a3683ac3a1e7a778627332c6a7fff7}\label{classAllocatedReservoir_aa5a3683ac3a1e7a778627332c6a7fff7}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!apply\+Continuity@{apply\+Continuity}}
\index{apply\+Continuity@{apply\+Continuity}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{apply\+Continuity()}{applyContinuity()}}
{\footnotesize\ttfamily void Allocated\+Reservoir\+::apply\+Continuity (\begin{DoxyParamCaption}\item[{int}]{week,  }\item[{double}]{upstream\+\_\+source\+\_\+inflow,  }\item[{double}]{wastewater\+\_\+inflow,  }\item[{vector$<$ double $>$ \&}]{demand\+\_\+outflow }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Updates reservoir state by applying water balance equations for a given week. 

This function calculates the reservoir\textquotesingle{}s continuity, accounting for inflows, outflows, evaporation, and demand, and updates the state of the reservoir accordingly. This function overrides the base class {\ttfamily \mbox{\hyperlink{classReservoir}{Reservoir}}} function to include continuity calculations.


\begin{DoxyParams}{Parameters}
{\em week} & The current week for which continuity is calculated. \\
\hline
{\em upstream\+\_\+source\+\_\+inflow} & The inflow from upstream water sources. \\
\hline
{\em wastewater\+\_\+inflow} & The inflow from wastewater sources. \\
\hline
{\em demand\+\_\+outflow} & A vector representing the water demands of different utilities.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em runtime\+\_\+error} & If the continuity error exceeds acceptable limits or allocated volumes do not match the available volume. \\
\hline
\end{DoxyExceptions}


Implements \mbox{\hyperlink{classWaterSource_ac070445379fe706f65b977dade4f3fbc}{Water\+Source}}.

\mbox{\Hypertarget{classAllocatedReservoir_a8b9b38494fa23f0bea78134c82644bf1}\label{classAllocatedReservoir_a8b9b38494fa23f0bea78134c82644bf1}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!get\+Allocated\+Capacity@{get\+Allocated\+Capacity}}
\index{get\+Allocated\+Capacity@{get\+Allocated\+Capacity}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{get\+Allocated\+Capacity()}{getAllocatedCapacity()}}
{\footnotesize\ttfamily double Allocated\+Reservoir\+::get\+Allocated\+Capacity (\begin{DoxyParamCaption}\item[{int}]{utility\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Retrieves the allocated capacity for a specific utility. 

This function overrides the base class {\ttfamily \mbox{\hyperlink{classReservoir}{Reservoir}}} function to allow specific utility-\/related information to be retrieved.


\begin{DoxyParams}{Parameters}
{\em utility\+\_\+id} & The identifier of the utility for which the allocated capacity is retrieved.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double The allocated capacity for the specified utility. 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classWaterSource_ad218f2a603d7ebce268d800e0249a74c}{Water\+Source}}.

\mbox{\Hypertarget{classAllocatedReservoir_a731381982c9245b0bf24db4082dc74c1}\label{classAllocatedReservoir_a731381982c9245b0bf24db4082dc74c1}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!get\+Allocated\+Fraction@{get\+Allocated\+Fraction}}
\index{get\+Allocated\+Fraction@{get\+Allocated\+Fraction}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{get\+Allocated\+Fraction()}{getAllocatedFraction()}}
{\footnotesize\ttfamily double Allocated\+Reservoir\+::get\+Allocated\+Fraction (\begin{DoxyParamCaption}\item[{int}]{utility\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Retrieves the allocated fraction of capacity for a specific utility. 

This function returns the fraction of the reservoir\textquotesingle{}s total capacity that is allocated to a specific utility. This function overrides the base class {\ttfamily \mbox{\hyperlink{classReservoir}{Reservoir}}} function to allow specific utility-\/related information to be retrieved.


\begin{DoxyParams}{Parameters}
{\em utility\+\_\+id} & The identifier of the utility for which the allocated fraction is retrieved.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double The allocated fraction for the specified utility (unitless, typically between 0 and 1). 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classWaterSource_acec9b1fef81a9b73c4517409438452ac}{Water\+Source}}.

\mbox{\Hypertarget{classAllocatedReservoir_aba81b93e1aa1154ce411248903fabde6}\label{classAllocatedReservoir_aba81b93e1aa1154ce411248903fabde6}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!get\+Allocated\+Treatment\+Capacity@{get\+Allocated\+Treatment\+Capacity}}
\index{get\+Allocated\+Treatment\+Capacity@{get\+Allocated\+Treatment\+Capacity}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{get\+Allocated\+Treatment\+Capacity()}{getAllocatedTreatmentCapacity()}}
{\footnotesize\ttfamily double Allocated\+Reservoir\+::get\+Allocated\+Treatment\+Capacity (\begin{DoxyParamCaption}\item[{int}]{utility\+\_\+id }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Retrieves the allocated treatment capacity for a specific utility. 

This function returns the treatment capacity allocated to the specified utility. If the utility ID corresponds to the water quality allocation, an exception is thrown as it does not have an allocated treatment capacity. This function overrides the base class {\ttfamily \mbox{\hyperlink{classReservoir}{Reservoir}}} function to reference a specific utility.


\begin{DoxyParams}{Parameters}
{\em utility\+\_\+id} & The identifier of the utility whose treatment capacity is being queried.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double The allocated treatment capacity (m³/day) for the specified utility.
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::invalid\+\_\+argument} & If {\ttfamily utility\+\_\+id} corresponds to the water quality allocation. \\
\hline
\end{DoxyExceptions}


Reimplemented from \mbox{\hyperlink{classWaterSource_ab98528c4d2e6ecd14cb2c813b1d445c6}{Water\+Source}}.

\mbox{\Hypertarget{classAllocatedReservoir_ae161ebfc285aa69cb8b7f4fe20ee7a2e}\label{classAllocatedReservoir_ae161ebfc285aa69cb8b7f4fe20ee7a2e}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!get\+Available\+Allocated\+Volume@{get\+Available\+Allocated\+Volume}}
\index{get\+Available\+Allocated\+Volume@{get\+Available\+Allocated\+Volume}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{get\+Available\+Allocated\+Volume()}{getAvailableAllocatedVolume()}}
{\footnotesize\ttfamily double Allocated\+Reservoir\+::get\+Available\+Allocated\+Volume (\begin{DoxyParamCaption}\item[{int}]{utility\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Retrieves the available allocated volume for a specific utility. 

This function returns the current available volume of water allocated to the specified utility. It retrieves the allocated volume from the {\ttfamily available\+\_\+allocated\+\_\+volumes} vector using the {\ttfamily utility\+\_\+id}. This function overrides the base class {\ttfamily \mbox{\hyperlink{classReservoir}{Reservoir}}} function to include continuity calculations.


\begin{DoxyParams}{Parameters}
{\em utility\+\_\+id} & The identifier of the utility for which the allocated volume is retrieved.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double The available allocated volume for the specified utility. 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classWaterSource_ad4667296dc6b6dabc36b871529ca2749}{Water\+Source}}.

\mbox{\Hypertarget{classAllocatedReservoir_a114e9cde6a106b786ca0ed39283cbbed}\label{classAllocatedReservoir_a114e9cde6a106b786ca0ed39283cbbed}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!get\+Supply\+Allocated\+Fraction@{get\+Supply\+Allocated\+Fraction}}
\index{get\+Supply\+Allocated\+Fraction@{get\+Supply\+Allocated\+Fraction}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{get\+Supply\+Allocated\+Fraction()}{getSupplyAllocatedFraction()}}
{\footnotesize\ttfamily double Allocated\+Reservoir\+::get\+Supply\+Allocated\+Fraction (\begin{DoxyParamCaption}\item[{int}]{utility\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Retrieves the supply allocated fraction for a specific utility. 

This function returns the supply allocated fraction for the specified utility. If the utility ID corresponds to the water quality allocation, an exception is thrown because water quality allocation cannot be used for supply. This function overrides the base class {\ttfamily \mbox{\hyperlink{classReservoir}{Reservoir}}} function to reference a specific utility.


\begin{DoxyParams}{Parameters}
{\em utility\+\_\+id} & The identifier of the utility whose supply allocation fraction is being queried.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double The supply allocated fraction for the specified utility.
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::invalid\+\_\+argument} & If {\ttfamily utility\+\_\+id} corresponds to the water quality allocation. \\
\hline
\end{DoxyExceptions}


Reimplemented from \mbox{\hyperlink{classWaterSource_a484bca192a9e3aacaad47db0afb8fbdd}{Water\+Source}}.

\mbox{\Hypertarget{classAllocatedReservoir_a9d025365aa42dfff13a0aac8ea7863fa}\label{classAllocatedReservoir_a9d025365aa42dfff13a0aac8ea7863fa}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!mass\+\_\+balance\+\_\+with\+\_\+wq\+\_\+pool@{mass\+\_\+balance\+\_\+with\+\_\+wq\+\_\+pool}}
\index{mass\+\_\+balance\+\_\+with\+\_\+wq\+\_\+pool@{mass\+\_\+balance\+\_\+with\+\_\+wq\+\_\+pool}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{mass\+\_\+balance\+\_\+with\+\_\+wq\+\_\+pool()}{mass\_balance\_with\_wq\_pool()}}
{\footnotesize\ttfamily bool Allocated\+Reservoir\+::mass\+\_\+balance\+\_\+with\+\_\+wq\+\_\+pool (\begin{DoxyParamCaption}\item[{double}]{net\+\_\+inflow,  }\item[{vector$<$ double $>$ \&}]{demand\+\_\+outflow }\end{DoxyParamCaption})}



Performs the mass balance calculation for the reservoir with the water quality (WQ) pool. 

This function calculates the mass balance for the reservoir by considering both the allocations for utilities and the water quality pool. It splits the incoming net inflow among the utilities, subtracts their respective demands, and handles cases where the allocated volume goes negative by charging the water quality pool. The function also flags when an allocation exceeds its capacity.


\begin{DoxyParams}{Parameters}
{\em net\+\_\+inflow} & The net inflow into the reservoir (inflow minus outflow from upstream sources). \\
\hline
{\em demand\+\_\+outflow} & A vector containing the demand outflows for each utility.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool Returns {\ttfamily true} if overallocation occurs (i.\+e., any allocation exceeds its capacity), {\ttfamily false} otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{classAllocatedReservoir_ac719b30d5a83ba19ea722449ce9580e1}\label{classAllocatedReservoir_ac719b30d5a83ba19ea722449ce9580e1}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!mass\+\_\+balance\+\_\+without\+\_\+wq\+\_\+pool@{mass\+\_\+balance\+\_\+without\+\_\+wq\+\_\+pool}}
\index{mass\+\_\+balance\+\_\+without\+\_\+wq\+\_\+pool@{mass\+\_\+balance\+\_\+without\+\_\+wq\+\_\+pool}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{mass\+\_\+balance\+\_\+without\+\_\+wq\+\_\+pool()}{mass\_balance\_without\_wq\_pool()}}
{\footnotesize\ttfamily bool Allocated\+Reservoir\+::mass\+\_\+balance\+\_\+without\+\_\+wq\+\_\+pool (\begin{DoxyParamCaption}\item[{double}]{net\+\_\+inflow,  }\item[{vector$<$ double $>$ \&}]{demand\+\_\+outflow }\end{DoxyParamCaption})}



Performs the mass balance calculation for the reservoir without considering the water quality (WQ) pool. 

This function calculates the mass balance for the reservoir when there is no water quality pool. It splits the incoming net inflow among the utilities based on their allocation fractions, subtracts their respective demands, and checks if any allocation exceeds its capacity.


\begin{DoxyParams}{Parameters}
{\em net\+\_\+inflow} & The net inflow into the reservoir (inflow minus outflow from upstream sources). \\
\hline
{\em demand\+\_\+outflow} & A vector containing the demand outflows for each utility.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool Returns {\ttfamily true} if overallocation occurs (i.\+e., any allocation exceeds its capacity), {\ttfamily false} otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{classAllocatedReservoir_a31c1733dbf7385599f1b9866df353b4c}\label{classAllocatedReservoir_a31c1733dbf7385599f1b9866df353b4c}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!operator=@{operator=}}
\index{operator=@{operator=}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}}\& Allocated\+Reservoir\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} \&}]{allocated\+\_\+reservoir }\end{DoxyParamCaption})}



Assignment operator for the \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}} class. 

This function assigns the state of one {\ttfamily \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}}} object to another using the assignment operator. It copies the data members from the provided {\ttfamily allocated\+\_\+reservoir} object to the current object ({\ttfamily $\ast$this}), including the base class {\ttfamily \mbox{\hyperlink{classReservoir}{Reservoir}}} and the {\ttfamily has\+\_\+water\+\_\+quality\+\_\+pool} member.


\begin{DoxyParams}{Parameters}
{\em allocated\+\_\+reservoir} & The {\ttfamily \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}}} object to be assigned.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A reference to the current {\ttfamily \mbox{\hyperlink{classAllocatedReservoir}{Allocated\+Reservoir}}} object ({\ttfamily $\ast$this}). 
\end{DoxyReturn}
\mbox{\Hypertarget{classAllocatedReservoir_a3a9b7ce2e1d42cc373095cfd40ef2ae2}\label{classAllocatedReservoir_a3a9b7ce2e1d42cc373095cfd40ef2ae2}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!remove\+Water@{remove\+Water}}
\index{remove\+Water@{remove\+Water}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{remove\+Water()}{removeWater()}}
{\footnotesize\ttfamily void Allocated\+Reservoir\+::remove\+Water (\begin{DoxyParamCaption}\item[{int}]{allocation\+\_\+id,  }\item[{double}]{volume }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Removes a utility\textquotesingle{}s allocated volume of water from the reservoir updates the reservoir state. 

This function reduces the allocated volume for a specific utility by the given amount, adjusts the total available volume of the reservoir, and updates the total demand and policy-\/added demand. This function overrides the base class {\ttfamily \mbox{\hyperlink{classReservoir}{Reservoir}}} function to include continuity calculations.


\begin{DoxyParams}{Parameters}
{\em allocation\+\_\+id} & The identifier of the allocation (utility) from which water is to be removed. \\
\hline
{\em volume} & The volume of water to be removed.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classWaterSource_a4a4d948033c57feb8523bd7d5828c59b}{Water\+Source}}.

\mbox{\Hypertarget{classAllocatedReservoir_aea294cbca1e1630a1307072632d14b05}\label{classAllocatedReservoir_aea294cbca1e1630a1307072632d14b05}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!set\+Full@{set\+Full}}
\index{set\+Full@{set\+Full}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{set\+Full()}{setFull()}}
{\footnotesize\ttfamily void Allocated\+Reservoir\+::set\+Full (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Sets the reservoir and all allocated volumes to full capacity. 

This function marks the reservoir as full by setting its state to maximum capacity. Additionally, it ensures that all allocations for utilities are set to their respective maximum capacities. This function overrides the base class {\ttfamily \mbox{\hyperlink{classReservoir}{Reservoir}}} function to include continuity calculations.

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classWaterSource_a86999f23ec7f4fb518adb88e16f156a7}{Water\+Source}}.

\mbox{\Hypertarget{classAllocatedReservoir_a739d93f7981f597a3db0a3d613304b8e}\label{classAllocatedReservoir_a739d93f7981f597a3db0a3d613304b8e}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!set\+Online@{set\+Online}}
\index{set\+Online@{set\+Online}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{set\+Online()}{setOnline()}}
{\footnotesize\ttfamily void Allocated\+Reservoir\+::set\+Online (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Sets the reservoir online, initializing available volume and allocated volumes. 

This function sets the reservoir\textquotesingle{}s state to \char`\"{}online\char`\"{} by initializing its available volume to zero and setting all allocated volumes to zero for each utility with allocations. This represents the transition from an offline state to an active state where the reservoir is ready to receive inflows. This function overrides the base class {\ttfamily \mbox{\hyperlink{classReservoir}{Reservoir}}} function to include continuity calculations.

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classWaterSource_aaa55dc6e14ff184380300147b53c56ec}{Water\+Source}}.



\subsection{Member Data Documentation}
\mbox{\Hypertarget{classAllocatedReservoir_ae34d7123ff096d676609e32ba4b83e47}\label{classAllocatedReservoir_ae34d7123ff096d676609e32ba4b83e47}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!continuity\+\_\+error@{continuity\+\_\+error}}
\index{continuity\+\_\+error@{continuity\+\_\+error}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{continuity\+\_\+error}{continuity\_error}}
{\footnotesize\ttfamily double Allocated\+Reservoir\+::continuity\+\_\+error\hspace{0.3cm}{\ttfamily [protected]}}



The error in calculating inflow continuity. Calculated as the total\+\_\+outflow of the reservoir + available\+\_\+allocated\+\_\+volumes to a specific utility. Should be zero. 

\mbox{\Hypertarget{classAllocatedReservoir_af6a1924f60de19b7f77781af0419c39b}\label{classAllocatedReservoir_af6a1924f60de19b7f77781af0419c39b}} 
\index{Allocated\+Reservoir@{Allocated\+Reservoir}!has\+\_\+water\+\_\+quality\+\_\+pool@{has\+\_\+water\+\_\+quality\+\_\+pool}}
\index{has\+\_\+water\+\_\+quality\+\_\+pool@{has\+\_\+water\+\_\+quality\+\_\+pool}!Allocated\+Reservoir@{Allocated\+Reservoir}}
\subsubsection{\texorpdfstring{has\+\_\+water\+\_\+quality\+\_\+pool}{has\_water\_quality\_pool}}
{\footnotesize\ttfamily const bool Allocated\+Reservoir\+::has\+\_\+water\+\_\+quality\+\_\+pool\hspace{0.3cm}{\ttfamily [protected]}}



A flag to indicate if the reservoir has a water quality pool. 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/\+System\+Components/\+Water\+Sources/\mbox{\hyperlink{AllocatedReservoir_8h}{Allocated\+Reservoir.\+h}}\end{DoxyCompactItemize}
