\hypertarget{classSimulation}{}\section{Simulation Class Reference}
\label{classSimulation}\index{Simulation@{Simulation}}


The {\ttfamily \mbox{\hyperlink{classSimulation}{Simulation}}} class represents the main simulation object that implements the simulation process.  




{\ttfamily \#include $<$Simulation.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classSimulation_ac9b9db9c3de5f9ff33f6ea89e2435c87}{Simulation}} (vector$<$ \mbox{\hyperlink{classWaterSource}{Water\+Source}} $\ast$$>$ \&water\+\_\+sources, \mbox{\hyperlink{classGraph}{Graph}} \&water\+\_\+sources\+\_\+graph, const vector$<$ vector$<$ int $>$$>$ \&water\+\_\+sources\+\_\+to\+\_\+utilities, vector$<$ \mbox{\hyperlink{classUtility}{Utility}} $\ast$$>$ \&utilities, const vector$<$ \mbox{\hyperlink{classDroughtMitigationPolicy}{Drought\+Mitigation\+Policy}} $\ast$$>$ \&drought\+\_\+mitigation\+\_\+policies, vector$<$ \mbox{\hyperlink{classMinEnvFlowControl}{Min\+Env\+Flow\+Control}} $\ast$$>$ \&min\+\_\+env\+\_\+flow\+\_\+controls, vector$<$ vector$<$ double $>$$>$ \&utilities\+\_\+rdm, vector$<$ vector$<$ double $>$$>$ \&water\+\_\+sources\+\_\+rdm, vector$<$ vector$<$ double $>$$>$ \&policies\+\_\+rdm, const unsigned long total\+\_\+simulation\+\_\+time, vector$<$ unsigned long $>$ \&realizations\+\_\+to\+\_\+run)
\begin{DoxyCompactList}\small\item\em Constructor for the \mbox{\hyperlink{classSimulation}{Simulation}} class. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classSimulation_a99c76e396f63ca8f98d362c76804345b}{Simulation}} (vector$<$ \mbox{\hyperlink{classWaterSource}{Water\+Source}} $\ast$$>$ \&water\+\_\+sources, \mbox{\hyperlink{classGraph}{Graph}} \&water\+\_\+sources\+\_\+graph, const vector$<$ vector$<$ int $>$$>$ \&water\+\_\+sources\+\_\+to\+\_\+utilities, vector$<$ \mbox{\hyperlink{classUtility}{Utility}} $\ast$$>$ \&utilities, const vector$<$ \mbox{\hyperlink{classDroughtMitigationPolicy}{Drought\+Mitigation\+Policy}} $\ast$$>$ \&drought\+\_\+mitigation\+\_\+policies, vector$<$ \mbox{\hyperlink{classMinEnvFlowControl}{Min\+Env\+Flow\+Control}} $\ast$$>$ \&min\+\_\+env\+\_\+flow\+\_\+controls, vector$<$ vector$<$ double $>$$>$ \&utilities\+\_\+rdm, vector$<$ vector$<$ double $>$$>$ \&water\+\_\+sources\+\_\+rdm, vector$<$ vector$<$ double $>$$>$ \&policies\+\_\+rdm, const unsigned long total\+\_\+simulation\+\_\+time, vector$<$ unsigned long $>$ \&realizations\+\_\+to\+\_\+run, vector$<$ vector$<$ \mbox{\hyperlink{classMatrix2D}{Matrix2D}}$<$ double $>$$>$$>$ \&precomputed\+\_\+rof\+\_\+tables, vector$<$ vector$<$ double $>$$>$ \&table\+\_\+storage\+\_\+shift, vector$<$ vector$<$ double $>$$>$ \&table\+\_\+base\+\_\+storage\+\_\+shift, vector$<$ vector$<$ double $>$$>$ \&treatment\+\_\+demand\+\_\+buffer\+\_\+shift, string \&rof\+\_\+tables\+\_\+folder)
\begin{DoxyCompactList}\small\item\em Constructor for the \mbox{\hyperlink{classSimulation}{Simulation}} class with precomputed R\+OF tables and shifts. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classSimulation_a68f43435cf8308d5415cdfcdb84e1fac}{Simulation}} (vector$<$ \mbox{\hyperlink{classWaterSource}{Water\+Source}} $\ast$$>$ \&water\+\_\+sources, \mbox{\hyperlink{classGraph}{Graph}} \&water\+\_\+sources\+\_\+graph, const vector$<$ vector$<$ int $>$$>$ \&water\+\_\+sources\+\_\+to\+\_\+utilities, vector$<$ \mbox{\hyperlink{classUtility}{Utility}} $\ast$$>$ \&utilities, const vector$<$ \mbox{\hyperlink{classDroughtMitigationPolicy}{Drought\+Mitigation\+Policy}} $\ast$$>$ \&drought\+\_\+mitigation\+\_\+policies, vector$<$ \mbox{\hyperlink{classMinEnvFlowControl}{Min\+Env\+Flow\+Control}} $\ast$$>$ \&min\+\_\+env\+\_\+flow\+\_\+controls, vector$<$ vector$<$ double $>$$>$ \&utilities\+\_\+rdm, vector$<$ vector$<$ double $>$$>$ \&water\+\_\+sources\+\_\+rdm, vector$<$ vector$<$ double $>$$>$ \&policies\+\_\+rdm, const unsigned long total\+\_\+simulation\+\_\+time, vector$<$ unsigned long $>$ \&realizations\+\_\+to\+\_\+run, string \&rof\+\_\+tables\+\_\+folder)
\begin{DoxyCompactList}\small\item\em Constructor for the \mbox{\hyperlink{classSimulation}{Simulation}} class with the option to export R\+OF tables. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classSimulation}{Simulation}} \& \mbox{\hyperlink{classSimulation_acc5a0541c0439cea0604d4d0e38ed3b2}{operator=}} (const \mbox{\hyperlink{classSimulation}{Simulation}} \&simulation)
\begin{DoxyCompactList}\small\item\em Assignment operator for the \mbox{\hyperlink{classSimulation}{Simulation}} class. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classSimulation_a701bd94edc5cf562b5c4e66ae43400bb}{$\sim$\+Simulation}} ()
\begin{DoxyCompactList}\small\item\em Destructor for the \mbox{\hyperlink{classSimulation}{Simulation}} class. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMasterDataCollector}{Master\+Data\+Collector}} $\ast$ \mbox{\hyperlink{classSimulation_a401edb8c7e3390fee0340212993bcd79}{run\+Full\+Simulation}} (unsigned long n\+\_\+threads, double $\ast$vars)
\begin{DoxyCompactList}\small\item\em Runs the full simulation across multiple realizations. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSimulation_ac9ff965191f13b1ce044344fd1e5d0ac}{setup\+Simulation}} (vector$<$ \mbox{\hyperlink{classWaterSource}{Water\+Source}} $\ast$$>$ \&water\+\_\+sources, \mbox{\hyperlink{classGraph}{Graph}} \&water\+\_\+sources\+\_\+graph, const vector$<$ vector$<$ int $>$$>$ \&water\+\_\+sources\+\_\+to\+\_\+utilities, vector$<$ \mbox{\hyperlink{classUtility}{Utility}} $\ast$$>$ \&utilities, const vector$<$ \mbox{\hyperlink{classDroughtMitigationPolicy}{Drought\+Mitigation\+Policy}} $\ast$$>$ \&drought\+\_\+mitigation\+\_\+policies, vector$<$ \mbox{\hyperlink{classMinEnvFlowControl}{Min\+Env\+Flow\+Control}} $\ast$$>$ \&min\+\_\+env\+\_\+flow\+\_\+controls, vector$<$ vector$<$ double $>$$>$ \&utilities\+\_\+rdm, vector$<$ vector$<$ double $>$$>$ \&water\+\_\+sources\+\_\+rdm, vector$<$ vector$<$ double $>$$>$ \&policies\+\_\+rdm, vector$<$ unsigned long $>$ \&realizations\+\_\+to\+\_\+run)
\begin{DoxyCompactList}\small\item\em Set up the simulation by initializing water sources, utilities, and various components. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSimulation_aa2e2863a0038345c46dd827b97008347}{create\+Continuity\+Models}} (unsigned long realization, \mbox{\hyperlink{classContinuityModelRealization}{Continuity\+Model\+Realization}} $\ast$\&realization\+\_\+model, \mbox{\hyperlink{classContinuityModelROF}{Continuity\+Model\+R\+OF}} $\ast$\&rof\+\_\+model)
\begin{DoxyCompactList}\small\item\em Creates and initializes realization and R\+OF models for the simulation. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSimulation_a3279f9efae2c262b54ad4d16c631033c}{print\+Progress}} (double percentage)
\begin{DoxyCompactList}\small\item\em Prints the progress of a task in percentage and visual bar format. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
The {\ttfamily \mbox{\hyperlink{classSimulation}{Simulation}}} class represents the main simulation object that implements the simulation process. 

Created by bernardo on 1/25/17. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classSimulation_ac9b9db9c3de5f9ff33f6ea89e2435c87}\label{classSimulation_ac9b9db9c3de5f9ff33f6ea89e2435c87}} 
\index{Simulation@{Simulation}!Simulation@{Simulation}}
\index{Simulation@{Simulation}!Simulation@{Simulation}}
\subsubsection{\texorpdfstring{Simulation()}{Simulation()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily Simulation\+::\+Simulation (\begin{DoxyParamCaption}\item[{vector$<$ \mbox{\hyperlink{classWaterSource}{Water\+Source}} $\ast$$>$ \&}]{water\+\_\+sources,  }\item[{\mbox{\hyperlink{classGraph}{Graph}} \&}]{water\+\_\+sources\+\_\+graph,  }\item[{const vector$<$ vector$<$ int $>$$>$ \&}]{water\+\_\+sources\+\_\+to\+\_\+utilities,  }\item[{vector$<$ \mbox{\hyperlink{classUtility}{Utility}} $\ast$$>$ \&}]{utilities,  }\item[{const vector$<$ \mbox{\hyperlink{classDroughtMitigationPolicy}{Drought\+Mitigation\+Policy}} $\ast$$>$ \&}]{drought\+\_\+mitigation\+\_\+policies,  }\item[{vector$<$ \mbox{\hyperlink{classMinEnvFlowControl}{Min\+Env\+Flow\+Control}} $\ast$$>$ \&}]{min\+\_\+env\+\_\+flow\+\_\+controls,  }\item[{vector$<$ vector$<$ double $>$$>$ \&}]{utilities\+\_\+rdm,  }\item[{vector$<$ vector$<$ double $>$$>$ \&}]{water\+\_\+sources\+\_\+rdm,  }\item[{vector$<$ vector$<$ double $>$$>$ \&}]{policies\+\_\+rdm,  }\item[{const unsigned long}]{total\+\_\+simulation\+\_\+time,  }\item[{vector$<$ unsigned long $>$ \&}]{realizations\+\_\+to\+\_\+run }\end{DoxyParamCaption})}



Constructor for the \mbox{\hyperlink{classSimulation}{Simulation}} class. 

This constructor initializes a simulation with the provided parameters, setting up water sources, utilities, drought mitigation policies, environmental flow controls, and various randomization matrices for the simulation. It also sets up the realization processes to be run during the simulation.


\begin{DoxyParams}{Parameters}
{\em water\+\_\+sources} & A vector of water source pointers that are part of the simulation. \\
\hline
{\em water\+\_\+sources\+\_\+graph} & A graph representing the relationships between water sources. \\
\hline
{\em water\+\_\+sources\+\_\+to\+\_\+utilities} & A matrix that maps water sources to utilities. \\
\hline
{\em utilities} & A vector of utility pointers involved in the simulation. \\
\hline
{\em drought\+\_\+mitigation\+\_\+policies} & A vector of drought mitigation policies. \\
\hline
{\em min\+\_\+env\+\_\+flow\+\_\+controls} & A vector of minimum environmental flow controls. \\
\hline
{\em utilities\+\_\+rdm} & A matrix of utilities randomization data. \\
\hline
{\em water\+\_\+sources\+\_\+rdm} & A matrix of water sources randomization data. \\
\hline
{\em policies\+\_\+rdm} & A matrix of policies randomization data. \\
\hline
{\em total\+\_\+simulation\+\_\+time} & The total duration of the simulation. \\
\hline
{\em realizations\+\_\+to\+\_\+run} & A vector of realization I\+Ds to be run during the simulation.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
\mbox{\Hypertarget{classSimulation_a99c76e396f63ca8f98d362c76804345b}\label{classSimulation_a99c76e396f63ca8f98d362c76804345b}} 
\index{Simulation@{Simulation}!Simulation@{Simulation}}
\index{Simulation@{Simulation}!Simulation@{Simulation}}
\subsubsection{\texorpdfstring{Simulation()}{Simulation()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily Simulation\+::\+Simulation (\begin{DoxyParamCaption}\item[{vector$<$ \mbox{\hyperlink{classWaterSource}{Water\+Source}} $\ast$$>$ \&}]{water\+\_\+sources,  }\item[{\mbox{\hyperlink{classGraph}{Graph}} \&}]{water\+\_\+sources\+\_\+graph,  }\item[{const vector$<$ vector$<$ int $>$$>$ \&}]{water\+\_\+sources\+\_\+to\+\_\+utilities,  }\item[{vector$<$ \mbox{\hyperlink{classUtility}{Utility}} $\ast$$>$ \&}]{utilities,  }\item[{const vector$<$ \mbox{\hyperlink{classDroughtMitigationPolicy}{Drought\+Mitigation\+Policy}} $\ast$$>$ \&}]{drought\+\_\+mitigation\+\_\+policies,  }\item[{vector$<$ \mbox{\hyperlink{classMinEnvFlowControl}{Min\+Env\+Flow\+Control}} $\ast$$>$ \&}]{min\+\_\+env\+\_\+flow\+\_\+controls,  }\item[{vector$<$ vector$<$ double $>$$>$ \&}]{utilities\+\_\+rdm,  }\item[{vector$<$ vector$<$ double $>$$>$ \&}]{water\+\_\+sources\+\_\+rdm,  }\item[{vector$<$ vector$<$ double $>$$>$ \&}]{policies\+\_\+rdm,  }\item[{const unsigned long}]{total\+\_\+simulation\+\_\+time,  }\item[{vector$<$ unsigned long $>$ \&}]{realizations\+\_\+to\+\_\+run,  }\item[{vector$<$ vector$<$ \mbox{\hyperlink{classMatrix2D}{Matrix2D}}$<$ double $>$$>$$>$ \&}]{precomputed\+\_\+rof\+\_\+tables,  }\item[{vector$<$ vector$<$ double $>$$>$ \&}]{table\+\_\+storage\+\_\+shift,  }\item[{vector$<$ vector$<$ double $>$$>$ \&}]{table\+\_\+base\+\_\+storage\+\_\+shift,  }\item[{vector$<$ vector$<$ double $>$$>$ \&}]{treatment\+\_\+demand\+\_\+buffer\+\_\+shift,  }\item[{string \&}]{rof\+\_\+tables\+\_\+folder }\end{DoxyParamCaption})}



Constructor for the \mbox{\hyperlink{classSimulation}{Simulation}} class with precomputed R\+OF tables and shifts. 

This constructor initializes a simulation with the provided parameters, setting up water sources, utilities, drought mitigation policies, environmental flow controls, various randomization matrices, and precomputed R\+OF tables for the simulation. It also imports pre-\/computed R\+OF tables and sets up the realization processes to be run during the simulation.


\begin{DoxyParams}{Parameters}
{\em water\+\_\+sources} & A vector of water source pointers that are part of the simulation. \\
\hline
{\em water\+\_\+sources\+\_\+graph} & A graph representing the relationships between water sources. \\
\hline
{\em water\+\_\+sources\+\_\+to\+\_\+utilities} & A matrix that maps water sources to utilities. \\
\hline
{\em utilities} & A vector of utility pointers involved in the simulation. \\
\hline
{\em drought\+\_\+mitigation\+\_\+policies} & A vector of drought mitigation policies. \\
\hline
{\em min\+\_\+env\+\_\+flow\+\_\+controls} & A vector of minimum environmental flow controls. \\
\hline
{\em utilities\+\_\+rdm} & A matrix of utilities randomization data. \\
\hline
{\em water\+\_\+sources\+\_\+rdm} & A matrix of water sources randomization data. \\
\hline
{\em policies\+\_\+rdm} & A matrix of policies randomization data. \\
\hline
{\em total\+\_\+simulation\+\_\+time} & The total duration of the simulation. \\
\hline
{\em realizations\+\_\+to\+\_\+run} & A vector of realization I\+Ds to be run during the simulation. \\
\hline
{\em precomputed\+\_\+rof\+\_\+tables} & A vector of precomputed R\+OF tables used for simulation. \\
\hline
{\em table\+\_\+storage\+\_\+shift} & A matrix of storage shifts for the R\+OF tables. \\
\hline
{\em table\+\_\+base\+\_\+storage\+\_\+shift} & A matrix of base storage shifts for the R\+OF tables. \\
\hline
{\em treatment\+\_\+demand\+\_\+buffer\+\_\+shift} & A matrix of treatment demand buffer shifts for the R\+OF tables. \\
\hline
{\em rof\+\_\+tables\+\_\+folder} & A string representing the folder containing the R\+OF tables.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classSimulation_ac9ff965191f13b1ce044344fd1e5d0ac}{setup\+Simulation}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classSimulation_a68f43435cf8308d5415cdfcdb84e1fac}\label{classSimulation_a68f43435cf8308d5415cdfcdb84e1fac}} 
\index{Simulation@{Simulation}!Simulation@{Simulation}}
\index{Simulation@{Simulation}!Simulation@{Simulation}}
\subsubsection{\texorpdfstring{Simulation()}{Simulation()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily Simulation\+::\+Simulation (\begin{DoxyParamCaption}\item[{vector$<$ \mbox{\hyperlink{classWaterSource}{Water\+Source}} $\ast$$>$ \&}]{water\+\_\+sources,  }\item[{\mbox{\hyperlink{classGraph}{Graph}} \&}]{water\+\_\+sources\+\_\+graph,  }\item[{const vector$<$ vector$<$ int $>$$>$ \&}]{water\+\_\+sources\+\_\+to\+\_\+utilities,  }\item[{vector$<$ \mbox{\hyperlink{classUtility}{Utility}} $\ast$$>$ \&}]{utilities,  }\item[{const vector$<$ \mbox{\hyperlink{classDroughtMitigationPolicy}{Drought\+Mitigation\+Policy}} $\ast$$>$ \&}]{drought\+\_\+mitigation\+\_\+policies,  }\item[{vector$<$ \mbox{\hyperlink{classMinEnvFlowControl}{Min\+Env\+Flow\+Control}} $\ast$$>$ \&}]{min\+\_\+env\+\_\+flow\+\_\+controls,  }\item[{vector$<$ vector$<$ double $>$$>$ \&}]{utilities\+\_\+rdm,  }\item[{vector$<$ vector$<$ double $>$$>$ \&}]{water\+\_\+sources\+\_\+rdm,  }\item[{vector$<$ vector$<$ double $>$$>$ \&}]{policies\+\_\+rdm,  }\item[{const unsigned long}]{total\+\_\+simulation\+\_\+time,  }\item[{vector$<$ unsigned long $>$ \&}]{realizations\+\_\+to\+\_\+run,  }\item[{string \&}]{rof\+\_\+tables\+\_\+folder }\end{DoxyParamCaption})}



Constructor for the \mbox{\hyperlink{classSimulation}{Simulation}} class with the option to export R\+OF tables. 

This constructor initializes a simulation with the provided parameters, setting up water sources, utilities, drought mitigation policies, environmental flow controls, various randomization matrices, and enables the export of R\+OF tables for the simulation. It also allows R\+OF tables to be exported and sets up the realization processes to be run during the simulation.


\begin{DoxyParams}{Parameters}
{\em water\+\_\+sources} & A vector of water source pointers that are part of the simulation. \\
\hline
{\em water\+\_\+sources\+\_\+graph} & A graph representing the relationships between water sources. \\
\hline
{\em water\+\_\+sources\+\_\+to\+\_\+utilities} & A matrix that maps water sources to utilities. \\
\hline
{\em utilities} & A vector of utility pointers involved in the simulation. \\
\hline
{\em drought\+\_\+mitigation\+\_\+policies} & A vector of drought mitigation policies. \\
\hline
{\em min\+\_\+env\+\_\+flow\+\_\+controls} & A vector of minimum environmental flow controls. \\
\hline
{\em utilities\+\_\+rdm} & A matrix of utilities randomization data. \\
\hline
{\em water\+\_\+sources\+\_\+rdm} & A matrix of water sources randomization data. \\
\hline
{\em policies\+\_\+rdm} & A matrix of policies randomization data. \\
\hline
{\em total\+\_\+simulation\+\_\+time} & The total duration of the simulation. \\
\hline
{\em realizations\+\_\+to\+\_\+run} & A vector of realization I\+Ds to be run during the simulation. \\
\hline
{\em rof\+\_\+tables\+\_\+folder} & A string representing the folder containing the R\+OF tables.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
\mbox{\Hypertarget{classSimulation_a701bd94edc5cf562b5c4e66ae43400bb}\label{classSimulation_a701bd94edc5cf562b5c4e66ae43400bb}} 
\index{Simulation@{Simulation}!````~Simulation@{$\sim$\+Simulation}}
\index{````~Simulation@{$\sim$\+Simulation}!Simulation@{Simulation}}
\subsubsection{\texorpdfstring{$\sim$\+Simulation()}{~Simulation()}}
{\footnotesize\ttfamily virtual Simulation\+::$\sim$\+Simulation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Destructor for the \mbox{\hyperlink{classSimulation}{Simulation}} class. 

This destructor handles the cleanup of any resources allocated during the simulation\textquotesingle{}s execution. It is defined as default, relying on the compiler-\/generated destructor for cleaning up member variables.

\begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classSimulation_aa2e2863a0038345c46dd827b97008347}\label{classSimulation_aa2e2863a0038345c46dd827b97008347}} 
\index{Simulation@{Simulation}!create\+Continuity\+Models@{create\+Continuity\+Models}}
\index{create\+Continuity\+Models@{create\+Continuity\+Models}!Simulation@{Simulation}}
\subsubsection{\texorpdfstring{create\+Continuity\+Models()}{createContinuityModels()}}
{\footnotesize\ttfamily void Simulation\+::create\+Continuity\+Models (\begin{DoxyParamCaption}\item[{unsigned long}]{realization,  }\item[{\mbox{\hyperlink{classContinuityModelRealization}{Continuity\+Model\+Realization}} $\ast$\&}]{realization\+\_\+model,  }\item[{\mbox{\hyperlink{classContinuityModelROF}{Continuity\+Model\+R\+OF}} $\ast$\&}]{rof\+\_\+model }\end{DoxyParamCaption})}



Creates and initializes realization and R\+OF models for the simulation. 

This function creates two types of models for the specified realization\+: a {\ttfamily \mbox{\hyperlink{classContinuityModelRealization}{Continuity\+Model\+Realization}}} and a {\ttfamily \mbox{\hyperlink{classContinuityModelROF}{Continuity\+Model\+R\+OF}}}. The function copies the necessary data (e.\+g., water sources, utilities, drought mitigation policies) and initializes these models. The R\+OF model is also connected to the relevant realization water sources and utilities, and the appropriate R\+OF tables are set if needed.


\begin{DoxyParams}{Parameters}
{\em realization} & The index of the realization to create models for. \\
\hline
{\em realization\+\_\+model} & A reference to the {\ttfamily \mbox{\hyperlink{classContinuityModelRealization}{Continuity\+Model\+Realization}}} object to be created. \\
\hline
{\em rof\+\_\+model} & A reference to the {\ttfamily \mbox{\hyperlink{classContinuityModelROF}{Continuity\+Model\+R\+OF}}} object to be created.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
\mbox{\Hypertarget{classSimulation_acc5a0541c0439cea0604d4d0e38ed3b2}\label{classSimulation_acc5a0541c0439cea0604d4d0e38ed3b2}} 
\index{Simulation@{Simulation}!operator=@{operator=}}
\index{operator=@{operator=}!Simulation@{Simulation}}
\subsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classSimulation}{Simulation}}\& Simulation\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classSimulation}{Simulation}} \&}]{simulation }\end{DoxyParamCaption})}



Assignment operator for the \mbox{\hyperlink{classSimulation}{Simulation}} class. 

This operator allows for the assignment of one {\ttfamily \mbox{\hyperlink{classSimulation}{Simulation}}} object to another. It copies the number of realizations from the source {\ttfamily \mbox{\hyperlink{classSimulation}{Simulation}}} object to the current one. The other member variables are not copied, as this operator is minimal and only handles the number of realizations.


\begin{DoxyParams}{Parameters}
{\em simulation} & The \mbox{\hyperlink{classSimulation}{Simulation}} object to assign to the current object. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A reference to the current \mbox{\hyperlink{classSimulation}{Simulation}} object after assignment. 
\end{DoxyReturn}
\mbox{\Hypertarget{classSimulation_a3279f9efae2c262b54ad4d16c631033c}\label{classSimulation_a3279f9efae2c262b54ad4d16c631033c}} 
\index{Simulation@{Simulation}!print\+Progress@{print\+Progress}}
\index{print\+Progress@{print\+Progress}!Simulation@{Simulation}}
\subsubsection{\texorpdfstring{print\+Progress()}{printProgress()}}
{\footnotesize\ttfamily void Simulation\+::print\+Progress (\begin{DoxyParamCaption}\item[{double}]{percentage }\end{DoxyParamCaption})}



Prints the progress of a task in percentage and visual bar format. 

This function prints a progress bar on the same line in the console, displaying the percentage of completion along with a visual representation using a progress bar.


\begin{DoxyParams}{Parameters}
{\em percentage} & The percentage of completion (a value between 0 and 1).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{classSimulation_a401edb8c7e3390fee0340212993bcd79}\label{classSimulation_a401edb8c7e3390fee0340212993bcd79}} 
\index{Simulation@{Simulation}!run\+Full\+Simulation@{run\+Full\+Simulation}}
\index{run\+Full\+Simulation@{run\+Full\+Simulation}!Simulation@{Simulation}}
\subsubsection{\texorpdfstring{run\+Full\+Simulation()}{runFullSimulation()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMasterDataCollector}{Master\+Data\+Collector}}$\ast$ Simulation\+::run\+Full\+Simulation (\begin{DoxyParamCaption}\item[{unsigned long}]{n\+\_\+threads,  }\item[{double $\ast$}]{vars }\end{DoxyParamCaption})}



Runs the full simulation across multiple realizations. 

This function executes a full simulation over a specified number of realizations, with each realization being processed in parallel using Open\+MP. The function checks the validity of the imported R\+OF tables and then initializes the necessary models and data collectors. The simulation calculates risk-\/of-\/failure, applies drought mitigation policies, and performs continuity calculations for each week of the simulation. The data is collected and exported if required.


\begin{DoxyParams}{Parameters}
{\em n\+\_\+threads} & The number of threads to be used for parallel execution. \\
\hline
{\em vars} & A pointer to an array containing decision variables used for error reporting in case of a failure.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the {\ttfamily \mbox{\hyperlink{classMasterDataCollector}{Master\+Data\+Collector}}} that contains the collected data from all realizations.
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em Throws} & an exception if there is a mismatch in the number of utilities or imported R\+OF tables, or if an error occurs during the simulation of any realization. \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classSimulation_ac9ff965191f13b1ce044344fd1e5d0ac}\label{classSimulation_ac9ff965191f13b1ce044344fd1e5d0ac}} 
\index{Simulation@{Simulation}!setup\+Simulation@{setup\+Simulation}}
\index{setup\+Simulation@{setup\+Simulation}!Simulation@{Simulation}}
\subsubsection{\texorpdfstring{setup\+Simulation()}{setupSimulation()}}
{\footnotesize\ttfamily void Simulation\+::setup\+Simulation (\begin{DoxyParamCaption}\item[{vector$<$ \mbox{\hyperlink{classWaterSource}{Water\+Source}} $\ast$$>$ \&}]{water\+\_\+sources,  }\item[{\mbox{\hyperlink{classGraph}{Graph}} \&}]{water\+\_\+sources\+\_\+graph,  }\item[{const vector$<$ vector$<$ int $>$$>$ \&}]{water\+\_\+sources\+\_\+to\+\_\+utilities,  }\item[{vector$<$ \mbox{\hyperlink{classUtility}{Utility}} $\ast$$>$ \&}]{utilities,  }\item[{const vector$<$ \mbox{\hyperlink{classDroughtMitigationPolicy}{Drought\+Mitigation\+Policy}} $\ast$$>$ \&}]{drought\+\_\+mitigation\+\_\+policies,  }\item[{vector$<$ \mbox{\hyperlink{classMinEnvFlowControl}{Min\+Env\+Flow\+Control}} $\ast$$>$ \&}]{min\+\_\+env\+\_\+flow\+\_\+controls,  }\item[{vector$<$ vector$<$ double $>$$>$ \&}]{utilities\+\_\+rdm,  }\item[{vector$<$ vector$<$ double $>$$>$ \&}]{water\+\_\+sources\+\_\+rdm,  }\item[{vector$<$ vector$<$ double $>$$>$ \&}]{policies\+\_\+rdm,  }\item[{vector$<$ unsigned long $>$ \&}]{realizations\+\_\+to\+\_\+run }\end{DoxyParamCaption})}



Set up the simulation by initializing water sources, utilities, and various components. 

This function performs initial setup for the simulation, including sorting water sources and utilities by ID, validating the consistency of I\+Ds, and ensuring that the correct water sources are linked to the respective utilities. It also creates the data collector for the simulation.


\begin{DoxyParams}{Parameters}
{\em water\+\_\+sources} & A vector of water source pointers that are part of the simulation. \\
\hline
{\em water\+\_\+sources\+\_\+graph} & A graph representing the relationships between water sources. \\
\hline
{\em water\+\_\+sources\+\_\+to\+\_\+utilities} & A matrix that maps water sources to utilities. \\
\hline
{\em utilities} & A vector of utility pointers involved in the simulation. \\
\hline
{\em drought\+\_\+mitigation\+\_\+policies} & A vector of drought mitigation policies. \\
\hline
{\em min\+\_\+env\+\_\+flow\+\_\+controls} & A vector of minimum environmental flow controls. \\
\hline
{\em utilities\+\_\+rdm} & A matrix of utilities randomization data. \\
\hline
{\em water\+\_\+sources\+\_\+rdm} & A matrix of water sources randomization data. \\
\hline
{\em policies\+\_\+rdm} & A matrix of policies randomization data. \\
\hline
{\em realizations\+\_\+to\+\_\+run} & A vector of realization I\+Ds to be run during the simulation.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em invalid\+\_\+argument} & if any of the following conditions are met\+:
\begin{DoxyItemize}
\item Water sources or utilities I\+Ds are not sequential.
\item A water source is listed in the construction order of a utility but not in its source list.
\item A water source declared for a utility is not present in the list of all water sources. 
\end{DoxyItemize}\\
\hline
\end{DoxyExceptions}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/fs02/pmr82\+\_\+0001/lbl59/\+Water\+Paths-\/doc/src/\+Simulation/\mbox{\hyperlink{Simulation_8h}{Simulation.\+h}}\end{DoxyCompactItemize}
