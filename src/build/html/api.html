
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>API Documentation &#8212; WaterPaths-doc 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="api-documentation">
<h1>API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this heading">¶</a></h1>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="LICENSE_8md"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">LICENSE.md</span></span></dt>
<dd></dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="README_8md"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">README.md</span></span></dt>
<dd></dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="md_LICENSE"></span><em><span class="pre">page</span></em> <span class="sig-name descname"><span class="pre">md_LICENSE</span></span></dt>
<dd><p>Apache License Version 2.0, January 2004 <a class="reference external" href="http://www.apache.org/licenses/">http://www.apache.org/licenses/</a></p>
<p>TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION</p>
<p><ol class="arabic">
<li><p>Definitions.</p>
<p>”License” shall mean the terms and conditions for use, reproduction, and distribution as defined by Sections 1 through 9 of this document.</p>
<p>”Licensor” shall mean the copyright owner or entity authorized by the copyright owner that is granting the License.</p>
<p>”Legal Entity” shall mean the union of the acting entity and all other entities that control, are controlled by, or are under common control with that entity. For the purposes of this definition, “control” means (i) the power, direct or indirect, to cause the direction or management of such entity, whether by contract or otherwise, or (ii) ownership of fifty percent (50%) or more of the outstanding shares, or (iii) beneficial ownership of such entity.</p>
<p>”You” (or “Your”) shall mean an individual or Legal Entity exercising permissions granted by this License.</p>
<p>”Source” form shall mean the preferred form for making modifications, including but not limited to software source code, documentation source, and configuration files.</p>
<p>”Object” form shall mean any form resulting from mechanical transformation or translation of a Source form, including but not limited to compiled object code, generated documentation, and conversions to other media types.</p>
<p>”Work” shall mean the work of authorship, whether in Source or Object form, made available under the License, as indicated by a copyright notice that is included in or attached to the work (an example is provided in the Appendix below).</p>
<p>”Derivative Works” shall mean any work, whether in Source or Object form, that is based on (or derived from) the Work and for which the editorial revisions, annotations, elaborations, or other modifications represent, as a whole, an original work of authorship. For the purposes of this License, Derivative Works shall not include works that remain separable from, or merely link (or bind by name) to the interfaces of, the Work and Derivative Works thereof.</p>
<p>”Contribution” shall mean any work of authorship, including the original version of the Work and any modifications or additions to that Work or Derivative Works thereof, that is intentionally submitted to Licensor for inclusion in the Work by the copyright owner or by an individual or Legal Entity authorized to submit on behalf of the copyright owner. For the purposes of this definition, “submitted” means any form of electronic, verbal, or written communication sent to the Licensor or its representatives, including but not limited to communication on electronic mailing lists, source code control systems, and issue tracking systems that are managed by, or on behalf of, the Licensor for the purpose of discussing and improving the Work, but excluding communication that is conspicuously marked or otherwise designated in writing by the copyright owner as “Not a Contribution.”</p>
<p>”Contributor” shall mean Licensor and any individual or Legal Entity on behalf of whom a Contribution has been received by Licensor and subsequently incorporated within the Work.</p>
</li>
<li><p>Grant of Copyright License. Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare Derivative Works of, publicly display, publicly perform, sublicense, and distribute the Work and such Derivative Works in Source or Object form.</p></li>
<li><p>Grant of Patent License. Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable (except as stated in this section) patent license to make, have made, use, offer to sell, sell, import, and otherwise transfer the Work, where such license applies only to those patent claims licensable by such Contributor that are necessarily infringed by their Contribution(s) alone or by combination of their Contribution(s) with the Work to which such Contribution(s) was submitted. If You institute patent litigation against any entity (including a cross-claim or counterclaim in a lawsuit) alleging that the Work or a Contribution incorporated within the Work constitutes direct or contributory patent infringement, then any patent licenses granted to You under this License for that Work shall terminate as of the date such litigation is filed.</p></li>
<li><p>Redistribution. You may reproduce and distribute copies of the Work or Derivative Works thereof in any medium, with or without modifications, and in Source or Object form, provided that You meet the following conditions:</p>
<p>(a) You must give any other recipients of the Work or Derivative Works a copy of this License; and</p>
<p>(b) You must cause any modified files to carry prominent notices stating that You changed the files; and</p>
<p>(c) You must retain, in the Source form of any Derivative Works that You distribute, all copyright, patent, trademark, and attribution notices from the Source form of the Work, excluding those notices that do not pertain to any part of the Derivative Works; and</p>
<p>(d) If the Work includes a “NOTICE” text file as part of its distribution, then any Derivative Works that You distribute must include a readable copy of the attribution notices contained within such NOTICE file, excluding those notices that do not pertain to any part of the Derivative Works, in at least one of the following places: within a NOTICE text file distributed as part of the Derivative Works; within the Source form or documentation, if provided along with the Derivative Works; or, within a display generated by the Derivative Works, if and wherever such third-party notices normally appear. The contents of the NOTICE file are for informational purposes only and do not modify the License. You may add Your own attribution notices within Derivative Works that You distribute, alongside or as an addendum to the NOTICE text from the Work, provided that such additional attribution notices cannot be construed as modifying the License.</p>
<p>You may add Your own copyright statement to Your modifications and may provide additional or different license terms and conditions for use, reproduction, or distribution of Your modifications, or for any such Derivative Works as a whole, provided Your use, reproduction, and distribution of the Work otherwise complies with the conditions stated in this License.</p>
</li>
<li><p>Submission of Contributions. Unless You explicitly state otherwise, any Contribution intentionally submitted for inclusion in the Work by You to the Licensor shall be under the terms and conditions of this License, without any additional terms or conditions. Notwithstanding the above, nothing herein shall supersede or modify the terms of any separate license agreement you may have executed with Licensor regarding such Contributions.</p></li>
<li><p>Trademarks. This License does not grant permission to use the trade names, trademarks, service marks, or product names of the Licensor, except as required for reasonable and customary use in describing the origin of the Work and reproducing the content of the NOTICE file.</p></li>
<li><p>Disclaimer of Warranty. Unless required by applicable law or agreed to in writing, Licensor provides the Work (and each Contributor provides its Contributions) on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. You are solely responsible for determining the appropriateness of using or redistributing the Work and assume any risks associated with Your exercise of permissions under this License.</p></li>
<li><p>Limitation of Liability. In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall any Contributor be liable to You for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising as a result of this License or out of the use or inability to use the Work (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if such Contributor has been advised of the possibility of such damages.</p></li>
<li><p>Accepting Warranty or Additional Liability. While redistributing the Work or Derivative Works thereof, You may choose to offer, and charge a fee for, acceptance of support, warranty, indemnity, or other liability obligations and/or rights consistent with this License. However, in accepting such obligations, You may act only on Your own behalf and on Your sole responsibility, not on behalf of any other Contributor, and only if You agree to indemnify, defend, and hold each Contributor harmless for any liability incurred by, or claims asserted against, such Contributor by reason of your accepting any such warranty or additional liability.</p></li>
</ol>
</p>
<p>END OF TERMS AND CONDITIONS</p>
<p>APPENDIX: How to apply the Apache License to your work.</p>
<p>To apply the Apache License to your work, attach the following boilerplate notice, with the fields enclosed by brackets “[]” replaced with your own identifying information. (Don’t include the brackets!) The text should be enclosed in the appropriate comment syntax for the file format. We also recommend that a file or class name and description of purpose be included on the same “printed page” as the copyright notice for easier identification within third-party archives.</p>
<p>Copyright [yyyy] [name of copyright owner]</p>
<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not use this file except in compliance with the License. You may obtain a copy of the License at <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">licenses</span><span class="o">/</span><span class="n">LICENSE</span><span class="o">-</span><span class="mf">2.0</span>
</pre></div>
</div>
</p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. </p>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="md_README"></span><em><span class="pre">page</span></em> <span class="sig-name descname"><span class="pre">md_README</span></span></dt>
<dd><p>A utility planning and management tool based off the NC Triangle model.</p>
<p><em>What is included in this repository</em></p>
<p><ul class="simple">
<li><p>Source code (<code class="docutils literal notranslate"><span class="pre">/src</span></code>).</p></li>
<li><p>NC Triangle water planning and management problem (<code class="docutils literal notranslate"><span class="pre">src/Problem/PaperTestProblem.cpp</span></code>).</p></li>
<li><p>NC Triangle data (<code class="docutils literal notranslate"><span class="pre">/TestFiles</span></code>).</p></li>
<li><p>Sample input time series (<code class="docutils literal notranslate"><span class="pre">/TestFiles/inflows</span></code>, <code class="docutils literal notranslate"><span class="pre">evaporation</span></code>, <code class="docutils literal notranslate"><span class="pre">demand</span></code>) with 64 realizations each.</p></li>
</ul>
</p>
<p><em>Compile and Setup WaterPaths</em></p>
<p>To compile WaterPaths, run the following in your command line interface: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">gcc</span>
</pre></div>
</div>
</p>
<p>In your WaterPaths directory, make three new folders by typing in the command <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">output</span> <span class="n">error</span> <span class="n">rof_tables</span>
</pre></div>
</div>
</p>
<p>This will create three folders:<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">output</span></code> will store the output files of all WaterPaths simulations, includeing your objectives and utility-specific timeseries files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">error</span></code> will store any error messages that may be generated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rof_tables</span></code> will store your ROF tables should you choose to generate them.</p></li>
</ul>
</p>
<p>Note that WaterPaths requires a minimum of C++ 14.</p>
<p><em>Running WaterPaths</em></p>
<p>To print a list of flags to for running WaterPaths, use <div class="highlight-default notranslate"><div class="highlight"><pre><span></span>./waterpaths -?
</pre></div>
</div>
</p>
<p><em>Running WaterPaths in simulation mode</em></p>
<p>For running a reduced version of the Sedento Valley test case model in full simulation mode, run: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">waterpaths</span> <span class="o">-</span><span class="n">T</span> <span class="mi">4</span> <span class="o">-</span><span class="n">t</span> <span class="mi">2344</span> <span class="o">-</span><span class="n">r</span> <span class="mi">64</span> <span class="o">-</span><span class="n">d</span> <span class="o">/</span><span class="n">your</span><span class="o">/</span><span class="n">current</span><span class="o">/</span><span class="n">path</span><span class="o">/</span> <span class="o">-</span><span class="n">s</span> <span class="n">sample_solutions</span><span class="o">.</span><span class="n">csv</span> <span class="o">-</span><span class="n">m</span> <span class="mi">0</span> 
</pre></div>
</div>
 The argument of flag -T is the number of threads to be created using OpenMP. If -T flag is not used, the 64 realizations will be distributed across all physical and virtual cores.</p>
<p>There are three options for decreasing runtime for testing purposes that can be used individually or together:<ul class="simple">
<li><p>Decreasing the number of realizations (-r flag)</p></li>
<li><p>Decreasing the simulation time (-t flag) to no less than 53 (weeks)</p></li>
<li><p>Generating pre-computed risk-of-failure (ROF) tables to be used during runs. Keep in mind that if using a different set of inflow, evaporation, of RDM files will warrant new tables. To generate tables, run <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">triangleSimulation</span> <span class="o">-</span><span class="n">T</span> <span class="mi">4</span> <span class="o">-</span><span class="n">t</span> <span class="mi">2344</span> <span class="o">-</span><span class="n">r</span> <span class="mi">64</span> <span class="o">-</span><span class="n">d</span> <span class="o">/</span><span class="n">your</span><span class="o">/</span><span class="n">current</span><span class="o">/</span><span class="n">path</span><span class="o">/</span> <span class="o">-</span><span class="n">s</span> <span class="n">sample_solutions</span><span class="o">.</span><span class="n">csv</span> <span class="o">-</span><span class="n">m</span> <span class="mi">0</span> <span class="o">-</span><span class="n">C</span> <span class="mi">1</span>
</pre></div>
</div>
 To run a function evaluation using the tables, set value of -C flag to -1.</p></li>
</ul>
</p>
<p><em>Runnning WaterPaths with Borg MS in optimization mode</em></p>
<p>To get a copy of Borg, go to Borg’s <a class="reference external" href="http://borgmoea.org/">official website</a> and request access to the source code (free for non-commercial use). You should soon after get an e-mail with a link to its repository, where you can download the source code from.</p>
<p>To run WaterPaths in optimization mode, WaterPaths needs to be re-compiled with Borg and the appropriate flags must be passed when calling it from the command line with a program like mpirun. To do so, follow the following steps:<ol class="arabic simple">
<li><p>In order to run WaterPaths with Borg, the library libborgms.a must be provided in the /lib folder. To do so, borgmoea.org/ and request a licence, move Borg files to the folder /borg, compile borg by running <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">mpi</span></code> in /borg, and finally move the file libborgms.a to the /lib folder.</p></li>
<li><p>After libborgms.a is compiled and place in /lib, compile WaterPaths with <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">borg</span></code>.</p></li>
<li><p>Copy directories cube:/scratch/bct52/TestFiles and cube:/scratch/bct52/rof_tables_cac/ to your directory of preference, or Define a <code class="docutils literal notranslate"><span class="pre">${DATA_DIR}</span></code> that includes a <code class="docutils literal notranslate"><span class="pre">rof_tables_cac/</span></code> directory and the <code class="docutils literal notranslate"><span class="pre">TestFiles/</span></code> directory.</p></li>
<li><p>Run WaterPaths with <div class="highlight-default notranslate"><div class="highlight"><pre><span></span>mpiexec --hostfile nodefile -np 3 -x OMP_NUM_THREADS ./waterpaths -T 5 -t 2344 -r ${N_REALIZATIONS} -d ${DATA_DIR} -C -1 -O ${DATA_DIR}rof_tables_cac/ -U TestFiles/rdm_utilities_reeval.csv -P TestFiles/rdm_dmp_reeval.csv -W TestFiles/rdm_water_sources_reeval.csv -b true -n 202 -o 100 -e 1
</pre></div>
</div>
 The WaterPaths call above is optimized for a node with 16 cores and will spawn 3 MPI processes running on 5 threats each. Be sure to change the nodefile (see single_run_borgms.sh) and the value of the -T flag for nodes with different number of cores.</p></li>
<li><p>The run should take less than 10 minutes if 16 or more cores are being used. The two output files of this run should now be in <code class="docutils literal notranslate"><span class="pre">${DATA_DIR}/output/</span></code>. The NC_output_MM_S1_N202.set file should consist on a space-separated matrix with 20-80 rows by 63 columns. The /scratch/bct52/output/NC_runtime_MM_S1_N202.runtime file should have between 90 and 200 lines.</p></li>
</ol>
</p>
<p><em>Using the InputFileParser</em></p>
<p>To simulate and optimize a custom water resource system, the InputFileParser provides front-end support.</p>
<p><em>Structure</em></p>
<p>To create your own model in WaterPaths, generate a plain-text file (.wp extension), following the format of the files in the <code class="docutils literal notranslate"><span class="pre">Tests</span></code> directory and described in detail below.</p>
<p><em>Blocks</em></p>
<p>WaterPaths looks for <em></em> of information, which are delimited by <em>tags</em> and describe information on <em>parameters</em>. A <em></em> follows the following form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">TAG</span><span class="p">]</span>
<span class="n">parameter</span> <span class="n">value</span>
<span class="n">parameter</span> <span class="n">value</span>
<span class="o">...</span>
</pre></div>
</div>
<p>where a [TAG] is an upper-case keyword (defined below) enclosed in brackets and each <em>parameter</em> with a corresponding <em>value</em>.</p>
<p><em>Values</em></p>
<p>The rest of this documentation will refer to value types as follows:</p>
<p><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Value Type  </p></th>
<th class="head"><p>Description   </p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>int  </p></td>
<td><p>Standard integer (e.g. 1)   </p></td>
</tr>
<tr class="row-odd"><td><p>double  </p></td>
<td><p>Standard double-precision value (e.g. 1.05)   </p></td>
</tr>
<tr class="row-even"><td><p>string  </p></td>
<td><p>Standard string   </p></td>
</tr>
<tr class="row-odd"><td><p>csv  </p></td>
<td><p>Path to comma-separated values file   </p></td>
</tr>
<tr class="row-even"><td><p>ref  </p></td>
<td><p>Path to .reference file   </p></td>
</tr>
<tr class="row-odd"><td><p>dir  </p></td>
<td><p>Path to a directory   </p></td>
</tr>
<tr class="row-even"><td><p>Utility  </p></td>
<td><p>Name of a declared utility.   </p></td>
</tr>
<tr class="row-odd"><td><p>Source  </p></td>
<td><p>Name of a declared water source (reservoir, allocated reservoir, reuse)   </p></td>
</tr>
<tr class="row-even"><td><p>type,type  </p></td>
<td><p>Two values of type separated by commas   </p></td>
</tr>
<tr class="row-odd"><td><p>type,type,…  </p></td>
<td><p>One or more values of type separated by commas   </p></td>
</tr>
<tr class="row-even"><td><p>type type  </p></td>
<td><p>Two values of type separated by spaces   </p></td>
</tr>
<tr class="row-odd"><td><p>type type …  </p></td>
<td><p>One or more values of type separated by spaces   </p></td>
</tr>
</tbody>
</table>
</p>
<p>Additionally, the type <code class="docutils literal notranslate"><span class="pre">bond</span> <span class="pre">info</span></code> can be represented as <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">level</span> <span class="nb">int</span> <span class="nb">int</span> <span class="nb">int</span> <span class="nb">int</span> <span class="n">deferred</span>
</pre></div>
</div>
 which corresponds to <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span> <span class="n">cost_of_capital</span> <span class="n">n_payments</span> <span class="n">coupon_rate</span> <span class="n">pay_on_weeks</span> <span class="n">begin_repayment_at_issuance</span>
</pre></div>
</div>
 Currently, <code class="docutils literal notranslate"><span class="pre">level</span></code> is the only bond type available and <code class="docutils literal notranslate"><span class="pre">deferred</span></code> is the only repayment setting.</p>
<p><em>Tags</em></p>
<p>The currently implemented input file parser [TAG]s are described below.</p>
<p><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Tag  </p></th>
<th class="head"><p>Description   </p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>RUN PARAMETERS  </p></td>
<td><p>Information on the type and size of a WaterPaths simulation.   </p></td>
</tr>
<tr class="row-odd"><td><p>DATA TO LOAD  </p></td>
<td><p>Location of price, demand, inflow, and evaporation files.   </p></td>
</tr>
<tr class="row-even"><td><p>RESERVOIR  </p></td>
<td><p>Defines an existing or potential reservoir.   </p></td>
</tr>
<tr class="row-odd"><td><p>ALLOCATED RESERVOIR  </p></td>
<td><p>Defines an existing or potential reservoir allocated between utilities.   </p></td>
</tr>
<tr class="row-even"><td><p>RESERVOIR EXPANSION  </p></td>
<td><p>Defines an infrastructure expansion for a reservoir.   </p></td>
</tr>
<tr class="row-odd"><td><p>WATER REUSE  </p></td>
<td><p>Defines a water reuse development project.   </p></td>
</tr>
<tr class="row-even"><td><p>UTILITY  </p></td>
<td><p>Defines a basic water utility.   </p></td>
</tr>
<tr class="row-odd"><td><p>WATER SOURCES GRAPH  </p></td>
<td><p>Specify the connections between water sources.   </p></td>
</tr>
<tr class="row-even"><td><p>WS TO UTILITY MATRIX  </p></td>
<td><p>Set up the water source - utility connectivity matrix.   </p></td>
</tr>
<tr class="row-odd"><td><p>UTILITIES GRAPH  </p></td>
<td><p>Specify the connections between utilities.   </p></td>
</tr>
<tr class="row-even"><td><p>TABLE STORAGE SHIFT  </p></td>
<td><p>Defines the impact of all infrastructure expansion projects on pre-calculated ROF tables.   </p></td>
</tr>
<tr class="row-odd"><td><p>RESTRICTIONS POLICY  </p></td>
<td><p>Defines a short-term ROF water use restrictions policy for a utility.   </p></td>
</tr>
<tr class="row-even"><td><p>TRANSFERS POLICY  </p></td>
<td><p>Defines a short-term ROF water transfer policy between mutiple utilities.   </p></td>
</tr>
<tr class="row-odd"><td><p>INSURANCE POLICY  </p></td>
<td><p>Defines a short-term ROF insurance policy for a utility.   </p></td>
</tr>
<tr class="row-even"><td><p>FIXED FLOW RESERVOIR CONTROL RULE  </p></td>
<td><p>A reservoir operating policy that dictates a fixed release.   </p></td>
</tr>
<tr class="row-odd"><td><p>INFLOW-BASED RESERVOIR CONTROL RULE  </p></td>
<td><p>A reservoir operating policy where release is dependent on inflow.   </p></td>
</tr>
<tr class="row-even"><td><p>SEASONAL RESERVOIR CONTROL RULE  </p></td>
<td><p>A reservoir operating policy that varies seasonally.   </p></td>
</tr>
<tr class="row-odd"><td><p>DECISION VARIABLE BOUNDS  </p></td>
<td><p>Declaration of decision variables and their bounds for optimization runs.   </p></td>
</tr>
<tr class="row-even"><td><p>OBJECTIVES EPSILONS  </p></td>
<td><p>Epsilon (resolution) for objective values in optimization runs.   </p></td>
</tr>
</tbody>
</table>
</p>
<p><em>[RUN PARAMETERS]</em></p>
<p><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter  </p></th>
<th class="head"><p>Value Type  </p></th>
<th class="head"><p>Description   </p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>n_realizations  </p></td>
<td><p>int  </p></td>
<td><p>Number of realizations   </p></td>
</tr>
<tr class="row-odd"><td><p>n_weeks  </p></td>
<td><p>int  </p></td>
<td><p>Number of weeks   </p></td>
</tr>
<tr class="row-even"><td><p>rdm_utilities  </p></td>
<td><p>csv  </p></td>
<td><p><p>Input file that contains sampled deeply-uncertain parameters that effect water utilities.</p>
<p>Each column represents a different factor, and each row represents a state of the world.</p>
</p></td>
</tr>
<tr class="row-odd"><td><p>rdm_water_sources  </p></td>
<td><p>csv  </p></td>
<td><p>Same as rdm_utilities, but for water sources.   </p></td>
</tr>
<tr class="row-even"><td><p>rdm_dmps  </p></td>
<td><p>csv  </p></td>
<td><p>Same as rdm_utilities, but for drought management policies.   </p></td>
</tr>
<tr class="row-odd"><td><p>rdm_no  </p></td>
<td><p>int  </p></td>
<td><p>RDM sample to run (only use is running one SOW)   </p></td>
</tr>
<tr class="row-even"><td><p>n_threads  </p></td>
<td><p>int  </p></td>
<td><p>Number of threads (should not exceed twice the number of core available)   </p></td>
</tr>
<tr class="row-odd"><td><p>rof_tables_dir  </p></td>
<td><p>dir  </p></td>
<td><p>Directory to export or import risk-of-failure metric table   </p></td>
</tr>
<tr class="row-even"><td><p>use_rof_tables  </p></td>
<td><p><p>“generate”</p>
<p>”import”</p>

“no”  </p></td>
<td><p><p>Generate ROF table</p>
<p>Import ROF table for speedup</p>

Neither   </p></td>
</tr>
<tr class="row-odd"><td><p>print_time_series  </p></td>
<td><p>bool  </p></td>
<td><p>If present, print the time series data   </p></td>
</tr>
<tr class="row-even"><td><p>realizations_to_run  </p></td>
<td><p>int,int  </p></td>
<td><p>Range of realizations to run.   </p></td>
</tr>
<tr class="row-odd"><td><p>solutions_file  </p></td>
<td><p>ref  </p></td>
<td><p>Location of solutions to run   </p></td>
</tr>
<tr class="row-even"><td><p>n_bootstrap_samples  </p></td>
<td><p>int  </p></td>
<td><p>Number of bootstrap samples   </p></td>
</tr>
<tr class="row-odd"><td><p>bootstrap_sample_size  </p></td>
<td><p>int  </p></td>
<td><p>Size of bootstrap samples   </p></td>
</tr>
<tr class="row-even"><td><p>solutions_to_run  </p></td>
<td><p>int  </p></td>
<td><p>Number of solutions to run   </p></td>
</tr>
<tr class="row-odd"><td><p>solutions_to_run_range  </p></td>
<td><p>int,int  </p></td>
<td><p>Range of solutions to run, (e.g. “3,20” would run solutions: 3, 4, …, 20)   </p></td>
</tr>
<tr class="row-even"><td><p>seed  </p></td>
<td><p>int  </p></td>
<td><p>Seed for random number generation   </p></td>
</tr>
<tr class="row-odd"><td><p>optimize  </p></td>
<td><p>int int  </p></td>
<td><p>If present, optimize with Borg for max evaluations and output frequency, respectively   </p></td>
</tr>
</tbody>
</table>
</p>
<p><em>[DATA TO LOAD]</em></p>
<p>To load <em>csv</em> data needed for a WaterPaths simulation, use <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">filename</span> <span class="n">csv</span>
</pre></div>
</div>
 where <code class="docutils literal notranslate"><span class="pre">filename</span></code> is a unique name used to reference the csv file at <code class="docutils literal notranslate"><span class="pre">csv</span></code><p>in the remainder of the input file.</p>
<p>To load only the first</p>
<code class="docutils literal notranslate"><span class="pre">n_realizations</span></code> lines of the file, use <code class="docutils literal notranslate"><span class="pre">*</span></code> before the filename: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span><span class="n">filename</span> <span class="n">csv</span>
</pre></div>
</div>
 Without <code class="docutils literal notranslate"><span class="pre">*</span></code>, the entire file will be loaded.</p>
<p><em>[RESERVOIR]</em></p>
<p><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter  </p></th>
<th class="head"><p>Value Type  </p></th>
<th class="head"><p>Description   </p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>name  </p></td>
<td><p>string  </p></td>
<td><p>Name of this reservoir (to be referred thereafter)   </p></td>
</tr>
<tr class="row-odd"><td><p>capacity  </p></td>
<td><p>int  </p></td>
<td><p>Reservoir capacity.   </p></td>
</tr>
<tr class="row-even"><td><p>treatment_capacity  </p></td>
<td><p>double  </p></td>
<td><p>Reservoir treatment capacity.   </p></td>
</tr>
<tr class="row-odd"><td><p>streamflow_files  </p></td>
<td><p>filename filename …  </p></td>
<td><p>Loaded files describing the streamflow leaving this reservoir.   </p></td>
</tr>
<tr class="row-even"><td><p>evaporation_file  </p></td>
<td><p>filename  </p></td>
<td><p>Loaded file with evaporation realizations of this reservoir.   </p></td>
</tr>
<tr class="row-odd"><td><p>storage_area  </p></td>
<td><p>int  </p></td>
<td><p>Reservoir area.   </p></td>
</tr>
<tr class="row-even"><td><p>storage_area_curve  </p></td>
<td><p>int,int int,int …  </p></td>
<td><p>Pair-wise relationship defining reservoir storage to reservoir area.   </p></td>
</tr>
<tr class="row-odd"><td><p>bond  </p></td>
<td><p>bond info  </p></td>
<td><p>Bond for an infrastructure expansion.   </p></td>
</tr>
<tr class="row-even"><td><p>ctime  </p></td>
<td><p>int int  </p></td>
<td><p>Construction time range: low-high, respectively, in years.   </p></td>
</tr>
<tr class="row-odd"><td><p>ptime  </p></td>
<td><p>int  </p></td>
<td><p>Permitting time for infrastructure expansion, in years.   </p></td>
</tr>
<tr class="row-even"><td><p>utilities_with_allocations  </p></td>
<td><p>int  </p></td>
<td><p>Permitting time for infrastructure expansion, in years.   </p></td>
</tr>
</tbody>
</table>
</p>
<p><em>[ALLOCATED RESERVOIR]</em></p>
<p>Same parameters as [RESERVOIR], in addition to:</p>
<p><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter  </p></th>
<th class="head"><p>Value Type  </p></th>
<th class="head"><p>Description   </p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>utilities_with_allocations  </p></td>
<td><p>Utility,Utility,…  </p></td>
<td><p>Comma separated list of utilities with allocations on this reservoir   </p></td>
</tr>
<tr class="row-odd"><td><p>allocated_fractions  </p></td>
<td><p>double,double,…  </p></td>
<td><p><p>Comma separated list of fractions (&lt; 1) corresponding to each</p>
<p>utility’s allocation, in the order of utilities_with_allocations</p>
</p></td>
</tr>
<tr class="row-even"><td><p>allocated_treatment_fractions  </p></td>
<td><p>double,double,..  </p></td>
<td><p><p>Comma seperated list of fractions corresponding to each</p>
<p>utility’s treatment allocations.</p>
</p></td>
</tr>
</tbody>
</table>
</p>
<p><em>[RESERVOIR EXPANSION]</em></p>
<p>Define a [RESERVOIR] or [ALLOCATED RESERVOIR] with parameters representing values after expansion. <code class="docutils literal notranslate"><span class="pre">ctime</span></code> and <code class="docutils literal notranslate"><span class="pre">ptime</span></code> represent the expansion duration.<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">parent_reservoir</span> <span class="n">Reservoir</span>
</pre></div>
</div>
 is the reservoir the expansion is performed on.</p>
<p><em>[WATER REUSE]</em></p>
<p>Same parameters as [RESERVOIR]. Must include, <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">treatment_capacity</span> <span class="p">(</span><span class="n">double</span><span class="p">)</span>
</pre></div>
</div>
</p>
<p><em>[UTILITY]</em></p>
<p><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter  </p></th>
<th class="head"><p>Value Type  </p></th>
<th class="head"><p>Description   </p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>name  </p></td>
<td><p>string  </p></td>
<td><p>Name of this utility   </p></td>
</tr>
<tr class="row-odd"><td><p>demands  </p></td>
<td><p>filename  </p></td>
<td><p>File with demand data   </p></td>
</tr>
<tr class="row-even"><td><p>number_of_week_demands  </p></td>
<td><p>int  </p></td>
<td><p>Number of demand weeks   </p></td>
</tr>
<tr class="row-odd"><td><p>percent_contingency_fund_contribution  </p></td>
<td><p>double  </p></td>
<td><p>Percent of anual volumentric revenue that is contributed to a reserve fund.   </p></td>
</tr>
<tr class="row-even"><td><p>typesMonthlyDemandFraction  </p></td>
<td><p>filename  </p></td>
<td><p>Types of water uses   </p></td>
</tr>
<tr class="row-odd"><td><p>typesMonthlyWaterPrice  </p></td>
<td><p>filename  </p></td>
<td><p>Corresponding water price for each category.   </p></td>
</tr>
<tr class="row-even"><td><p>wwtp_discharge_rule  </p></td>
<td><p>filename Source,Source,…  </p></td>
<td><p>Rule dictating wastewater return flow.   </p></td>
</tr>
<tr class="row-odd"><td><p>demand_buffer  </p></td>
<td><p>double  </p></td>
<td><p>Demand buffer for this utility   </p></td>
</tr>
<tr class="row-even"><td><p>rof_intra_construction_order  </p></td>
<td><p>Source,Source,…  </p></td>
<td><p>Order of precedence for infrastructure expansion   </p></td>
</tr>
<tr class="row-odd"><td><p>infra_construction_triggers  </p></td>
<td><p>double,double,…  </p></td>
<td><p>ROF triggers values for infrastructure expansions, in order as above   </p></td>
</tr>
<tr class="row-even"><td><p>infra_discount_rate  </p></td>
<td><p>double  </p></td>
<td><p>Discount rate for infrastructure expansions.   </p></td>
</tr>
<tr class="row-odd"><td><p>water_source_to_wtp  </p></td>
<td><p>Source Source …  </p></td>
<td><p>Water source to water treatment plant connection.   </p></td>
</tr>
<tr class="row-even"><td><p>utility_owned_wtp_capacities  </p></td>
<td><p>double,double,…  </p></td>
<td><p>Capacities of each water treatment plant connected to the utility.   </p></td>
</tr>
<tr class="row-odd"><td><p>demand_infra_construction_order  </p></td>
<td><p>Source,Source,…  </p></td>
<td><p>Order of infrastructure construction, triggered by demand.   </p></td>
</tr>
<tr class="row-even"><td><p>infra_if_built_remove  </p></td>
<td><p>Source Source …  </p></td>
<td><p>List of mutually exclusive infrastructure options that must be removed if another option is triggered.   </p></td>
</tr>
<tr class="row-odd"><td><p>construction_pre_requesites  </p></td>
<td><p>Source Source …  </p></td>
<td><p>List of infrastructure options that must be triggered prior to this   </p></td>
</tr>
</tbody>
</table>
</p>
<p><em>[WATER SOURCES GRAPH]</em></p>
<p><p>This tag creates the network of a water resources system as a graph, with edges corresponding to connections between reservoirs, allocated reservoirs, and water reuses.</p>
<p>There are no parameters in this block; instead, each line represents a directed</p>
<em>edge</em> in the water source graph. Each entry must be the <code class="docutils literal notranslate"><span class="pre">name</span></code><p>of a declared water source.</p>
<p>If a connection exists between</p>
<code class="docutils literal notranslate"><span class="pre">source1</span></code> and <code class="docutils literal notranslate"><span class="pre">source2</span></code>, include a line in this block as such: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source1</span><span class="p">,</span><span class="n">source2</span>
</pre></div>
</div>
 For example, this InputFileParser graph and its visual map are shown. <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source1</span><span class="p">,</span><span class="n">source2</span>
<span class="n">source2</span><span class="p">,</span><span class="n">source3</span>
<span class="n">source4</span><span class="p">,</span><span class="n">source5</span>
<span class="n">source5</span><span class="p">,</span><span class="n">source3</span>
</pre></div>
</div>
 <img alt="xml/85165928-8e14e900-b234-11ea-9161-6c9b2e14a01c.png" src="xml/85165928-8e14e900-b234-11ea-9161-6c9b2e14a01c.png" /></p>
<p><em>[UTILITIES GRAPH]</em></p>
<p>This tag is similar to [WATER SOURCES GRAPH], except for utilites. An <em>edge</em> between water sources represents a potential water exchange between two utilites. The same format as [WATER SOURCES GRAPH] is followed.</p>
<p><em>[WS TO UTILITY MATRIX]</em></p>
<p>WaterPaths represents the connections between utilities and water sources as <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">utility</span> <span class="n">source1</span><span class="p">,</span><span class="n">source2</span><span class="p">,</span><span class="o">...</span>
</pre></div>
</div>
 where <code class="docutils literal notranslate"><span class="pre">utility</span></code> is a utillity name and the subsequent <code class="docutils literal notranslate"><span class="pre">sources</span></code> are water source names. Here, <code class="docutils literal notranslate"><span class="pre">utility</span></code> uses <code class="docutils literal notranslate"><span class="pre">source1</span></code>, <code class="docutils literal notranslate"><span class="pre">source2</span></code>, and all following sources to reach its demand. Each declared utility must have its own line in this block.</p>
<p><em>[TABLE STORAGE SHIFT]</em></p>
<p><p>Here, we define a matrix for respective table shortage shifts for potential reservoir expansions.</p>
<p>Entries should be in the following form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Utility</span> <span class="n">Reservoir</span> <span class="n">shift</span>
</pre></div>
</div>
 where <code class="docutils literal notranslate"><span class="pre">shift</span></code> is the integer representing associated reservoir table shift.</p>
<p><em>[RESTRICTIONS POLICY]</em></p>
<p><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter  </p></th>
<th class="head"><p>Value Type  </p></th>
<th class="head"><p>Description   </p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>apply_to_utilities  </p></td>
<td><p>Utility,Utility,…  </p></td>
<td><p>Which utility (or utilities) this restriction policy is to be applied to   </p></td>
</tr>
<tr class="row-odd"><td><p>stage_multipliers  </p></td>
<td><p>double,double,…  </p></td>
<td><p>Demand reductions (percentage of unrestricted demand) associated with each restriction stage.   </p></td>
</tr>
<tr class="row-even"><td><p>stage_triggers  </p></td>
<td><p>double,double,…  </p></td>
<td><p>Short term ROF restrictions triggers   </p></td>
</tr>
<tr class="row-odd"><td><p>typesMonthlyDemandFraction  </p></td>
<td><p>filename  </p></td>
<td><p>Types of water uses   </p></td>
</tr>
<tr class="row-even"><td><p>typesMonthlyWaterPrice  </p></td>
<td><p>filename  </p></td>
<td><p>Types of water prices   </p></td>
</tr>
<tr class="row-odd"><td><p>priceMultipliers  </p></td>
<td><p>filename  </p></td>
<td><p>Multipliers on water price   </p></td>
</tr>
</tbody>
</table>
</p>
<p><em>[TRANSFERS POLICY]</em></p>
<p><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter  </p></th>
<th class="head"><p>Value Type  </p></th>
<th class="head"><p>Description   </p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>apply_to_utilities  </p></td>
<td><p>Utility,Utility,…  </p></td>
<td><p>The utility (or utilities) that are the buyers for this transfer   </p></td>
</tr>
<tr class="row-odd"><td><p>source_utility_id  </p></td>
<td><p>Utility  </p></td>
<td><p>Which utility is the source for this transfer policy   </p></td>
</tr>
<tr class="row-even"><td><p>transfer_water_source_id  </p></td>
<td><p>Source  </p></td>
<td><p>Which source the transfers utilize   </p></td>
</tr>
<tr class="row-odd"><td><p>source_treatment_buffer  </p></td>
<td><p>double  </p></td>
<td><p>Buffer for source treatment   </p></td>
</tr>
<tr class="row-even"><td><p>pipe_transfer_capacities  </p></td>
<td><p>double,double,…  </p></td>
<td><p>Capacity of inter-connections between utilities.   </p></td>
</tr>
<tr class="row-odd"><td><p>buyers_transfer_triggers  </p></td>
<td><p>double,double,…  </p></td>
<td><p>Short term ROF triggers for transfers   </p></td>
</tr>
</tbody>
</table>
</p>
<p><em>[INSURANCE POLICY]</em></p>
<p><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter  </p></th>
<th class="head"><p>Value Type  </p></th>
<th class="head"><p>Description   </p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>apply_to_utilities  </p></td>
<td><p>Utility,Utility,…  </p></td>
<td><p>The utility (or utilities) that are the buyers for this transfer   </p></td>
</tr>
<tr class="row-odd"><td><p>insurance_triggers  </p></td>
<td><p>double,double,…  </p></td>
<td><p>Short term ROF triggers for this drought insurance policy   </p></td>
</tr>
<tr class="row-even"><td><p>insurance_premium  </p></td>
<td><p>double  </p></td>
<td><p>The premium on this insurance policy   </p></td>
</tr>
<tr class="row-odd"><td><p>fixed_payouts  </p></td>
<td><p>double,double,…  </p></td>
<td><p>Amount of fixed payouts from insurance   </p></td>
</tr>
</tbody>
</table>
</p>
<p><em>[FIXED FLOW RESERVOIR CONTROL RULE]</em></p>
<p><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter  </p></th>
<th class="head"><p>Value Type  </p></th>
<th class="head"><p>Description   </p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>water_source_id  </p></td>
<td><p>Source  </p></td>
<td><p>The source of this fixed flow control rule   </p></td>
</tr>
<tr class="row-odd"><td><p>release  </p></td>
<td><p>int  </p></td>
<td><p>Volume of water released.   </p></td>
</tr>
<tr class="row-even"><td><p>aux_water_sources_id  </p></td>
<td><p>Source,Source,…  </p></td>
<td><p>Auxiliary sources for this control rule   </p></td>
</tr>
<tr class="row-odd"><td><p>aux_utilities_id  </p></td>
<td><p>Utility,Utility,…  </p></td>
<td><p>Auxiliary utilities for this control rule   </p></td>
</tr>
</tbody>
</table>
</p>
<p><em>[INFLOW-BASED RESERVOIR CONTROL RULE]</em></p>
<p><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter  </p></th>
<th class="head"><p>Value Type  </p></th>
<th class="head"><p>Description   </p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>water_source_id  </p></td>
<td><p>Source  </p></td>
<td><p>The source of this inflow-based control rule   </p></td>
</tr>
<tr class="row-odd"><td><p>inflows  </p></td>
<td><p>double,double,…  </p></td>
<td><p>Vector of reservoir inflows that define releases   </p></td>
</tr>
<tr class="row-even"><td><p>releases  </p></td>
<td><p>double,double,…  </p></td>
<td><p>Vector of released defined by inflows   </p></td>
</tr>
<tr class="row-odd"><td><p>aux_water_sources_id  </p></td>
<td><p>Source,Source,…  </p></td>
<td><p>Auxiliary sources for this control rule   </p></td>
</tr>
<tr class="row-even"><td><p>aux_utilities_id  </p></td>
<td><p>Utility,Utility,…  </p></td>
<td><p>Auxiliary utilities for this control rule   </p></td>
</tr>
</tbody>
</table>
</p>
<p><em>[SEASONAL RESERVOIR CONTROL RULE]</em></p>
<p><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter  </p></th>
<th class="head"><p>Value Type  </p></th>
<th class="head"><p>Description   </p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>water_source_id  </p></td>
<td><p>Source  </p></td>
<td><p>The source of this fixed flow control rule   </p></td>
</tr>
<tr class="row-odd"><td><p>week_thresholds  </p></td>
<td><p>int,int,int,int  </p></td>
<td><p>Weeks that define each season   </p></td>
</tr>
<tr class="row-even"><td><p>releases  </p></td>
<td><p>double,double,double,double  </p></td>
<td><p>Releases for each season   </p></td>
</tr>
<tr class="row-odd"><td><p>aux_water_sources_id  </p></td>
<td><p>Source,Source,…  </p></td>
<td><p>Auxiliary sources for this control rule   </p></td>
</tr>
<tr class="row-even"><td><p>aux_utilities_id  </p></td>
<td><p>Utility,Utility,…  </p></td>
<td><p>Auxiliary utilities for this control rule   </p></td>
</tr>
</tbody>
</table>
</p>
<p><em>[DECISON VARIABLE BOUNDS]</em></p>
<p>If this WaterPaths simulation is an optimization, this block tells the BorgMOEA which variables to optimize within the WaterPaths framework. Each line should follow this format: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">index</span> <span class="n">lowerbound</span><span class="p">,</span><span class="n">upperbound</span>
</pre></div>
</div>
 The <code class="docutils literal notranslate"><span class="pre">lowerbound</span></code> and <code class="docutils literal notranslate"><span class="pre">upperbound</span></code><p>numeric values indicate the lowest and highest values this decision variable can take.</p>
<p>The</p>
<code class="docutils literal notranslate"><span class="pre">index</span></code> value is an integer, and each value in <em>0..n-1</em>, where <em>n</em> is the number of decision varaibles, must be taken. </p>
<p>A decision variable’s <code class="docutils literal notranslate"><span class="pre">index</span></code> describes its relative ordered position within the *.wp* file. To declare a specific decision variable instance in another block, use <code class="docutils literal notranslate"><span class="pre">%%%</span></code> for optimized <em>values</em> and <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> preceding an alias for optimized orderings. </p>
<p>For example, consider a simple optimization case with 4 decision variables.</p>
<p><ol class="arabic simple">
<li><p>Declare the decision varibles in a [DECISION VARIABLE BOUNDS] block. <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">DECISION</span> <span class="n">VARIABLE</span> <span class="n">BOUNDS</span><span class="p">]</span>
<span class="mi">0</span> <span class="mf">0.001</span><span class="p">,</span><span class="mf">0.75</span>    <span class="c1"># utility1 transfer ROF trigger</span>
<span class="mi">1</span> <span class="mf">0.0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span>       <span class="c1"># source1 construction rank</span>
<span class="mi">2</span> <span class="mf">0.0</span><span class="p">,</span><span class="mf">1.0</span>       <span class="c1"># source2 construction rank</span>
<span class="mi">3</span> <span class="mf">0.0</span><span class="p">,</span><span class="mf">1.0</span>       <span class="c1"># source3 construction rank</span>
</pre></div>
</div>
</p></li>
<li><p>Declare decision variable <code class="docutils literal notranslate"><span class="pre">0</span></code> (utility1 transfer ROF trigger) within a [TRANSFERS POLICY] block with a <code class="docutils literal notranslate"><span class="pre">%%%</span></code> <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">TRANSFERS</span> <span class="n">POLICY</span><span class="p">]</span>
<span class="n">apply_to_utilities</span> <span class="n">utility1</span>
<span class="n">source_utility_id</span> <span class="n">RandomUtility</span>
<span class="o">...</span>
<span class="n">buyers_transfer_triggers</span> <span class="o">%%%</span>
</pre></div>
</div>
</p></li>
<li><p>Declare decison variables <code class="docutils literal notranslate"><span class="pre">1</span></code> <code class="docutils literal notranslate"><span class="pre">2</span></code> and <code class="docutils literal notranslate"><span class="pre">3</span></code> (construction ranks) within a [UTILITY] block with a series of <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">UTILITY</span><span class="p">]</span>
<span class="n">name</span> <span class="n">RandomUtlity</span>
<span class="o">...</span>
<span class="n">rof_infra_construction_order</span> <span class="nd">@source1</span><span class="p">,</span><span class="nd">@source2</span><span class="p">,</span><span class="nd">@source3</span>
<span class="o">...</span>
</pre></div>
</div>
</p></li>
</ol>
</p>
<p>This input file configuration will optimize a short-term transfer ROF for <code class="docutils literal notranslate"><span class="pre">utility1</span></code> and a long-term infrastructure expansion ordering for each <code class="docutils literal notranslate"><span class="pre">source</span></code>. Ensure that the intended ordering of decision varaibles (as declared within the [DECISION VARIABLES BOUNDS] block) corresponds to the order of appearence in the remainder of the input file. </p>
<p>For a more advanced optimization problem formulation, refer to <code class="docutils literal notranslate"><span class="pre">Tests/test_input_file_borg.wp</span></code>.</p>
<p><em>[OBJECTIVES EPSILONS]</em></p>
<p>This tag declares the epsilon values for the five objectives:<ol class="arabic simple">
<li><p>Reliability</p></li>
<li><p>Restriction Frequency</p></li>
<li><p>Infrastructure NPV</p></li>
<li><p>Financial Cost</p></li>
<li><p>Worse First Percentile Cost</p></li>
</ol>
</p>
<p>This block has one line, in the form: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ep1</span><span class="p">,</span><span class="n">ep2</span><span class="p">,</span><span class="n">ep3</span><span class="p">,</span><span class="n">ep4</span><span class="p">,</span><span class="n">ep5</span>
</pre></div>
</div>
 where each epsilon corresponds to the respective numbered objective.</p>
<p>To use the recommended epsilon values, include this block: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">OBJECTIVES</span> <span class="n">EPSILONS</span><span class="p">]</span>
<span class="mf">0.001</span><span class="p">,</span><span class="mf">0.02</span><span class="p">,</span><span class="mf">10.0</span><span class="p">,</span><span class="mf">0.025</span><span class="p">,</span><span class="mf">0.01</span>
</pre></div>
</div>
</p>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">WaterPaths-doc</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2024, Bernardo Trindade, David Gold, Lillian Bei Jia Lau.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/api.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>